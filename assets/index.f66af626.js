import{d as H,D as J,J as L,r as M,a as B,b as l,g as h,o as k,l as z,c as a,U as o,x as s,H as S,e as D,bX as w,bN as X,c9 as q,N as F,ao as G,j as f,_ as K}from"./index.954a2cbc.js";const P={class:"checkboxes"},Q={class:"output"},W={key:1},Y={key:2},Z=H({__name:"index",props:{renderOnSearch:{type:Boolean},clipboardValue:null,searchValue:null},emits:["acceptClipboardCb"],setup(E,{emit:R}){const v=E;q(t=>({dcb0b2c8:h(V).font.size,"6628635a":h(V).font.weight})),J(()=>v.searchValue,t=>{U(t)}),L(()=>{var t;U((t=v.clipboardValue)==null?void 0:t.getOriginData())&&R("acceptClipboardCb"),U(v.searchValue)});const u=M({user:{read:!1,write:!1,execute:!1},group:{read:!1,write:!1,execute:!1},others:{read:!1,write:!1,execute:!1},number:"000",str:"---------"});function c(){O(),T()}function x(){I(),O()}function b(){A(),T()}function A(){let t=u.value.number;if(t.length!==3)return;let e=[];for(let d=0;d<t.length;d++){let r=Number(t[d]);if(r<0||r>7)return;e.push(j(r))}u.value.user=e[0],u.value.group=e[1],u.value.others=e[2]}function I(){let t=u.value.str;t.length<9||(u.value.user={read:t[0]==="r",write:t[1]==="w",execute:t[2]==="x"},u.value.group={read:t[3]==="r",write:t[4]==="w",execute:t[5]==="x"},u.value.others={read:t[6]==="r",write:t[7]==="w",execute:t[8]==="x"})}function O(){u.value.number=y(u.value.user).toString()+y(u.value.group)+y(u.value.others)}function T(){u.value.str=$(u.value.user)+$(u.value.group)+$(u.value.others)}function j(t){let e={read:!1,write:!1,execute:!1};return t/4>=1&&(e.read=!0),t%4/2>=1&&(e.write=!0),t%2>=1&&(e.execute=!0),e}function y(t){let e=0;return t.read&&(e+=4),t.write&&(e+=2),t.execute&&(e+=1),e}function $(t){let e="";return t.read?e+="r":e+="-",t.write?e+="w":e+="-",t.execute?e+="x":e+="-",e}function m(t){F.writeTextToClipboard(t),G.info(t)}function U(t){if(t){let e=/^0?([0-7]{3})$/,d=/([r-][w-][x-][r-][w-][x-][r-][w-][x-])/,r=t;if(e.test(r))return r.length===4?u.value.number=r.replace("0",""):u.value.number=r,b(),!0;if(d.test(r)){let i=d.exec(r);return i&&i.length>0&&(u.value.str=i[0],x()),!0}}return!1}let V={font:{size:"2rem",weight:"bold"}};return v.renderOnSearch&&(V={font:{size:"1rem",weight:"normal"}}),(t,e)=>{const d=f("a-typography-paragraph"),r=f("a-col"),i=f("a-row"),p=f("a-checkbox"),_=f("a-input"),g=f("a-button"),C=f("a-tooltip"),N=f("a-input-group");return k(),B(h(X),{class:"Calculator","max-width":600},{one:l(()=>[z("div",P,[a(i,{class:"row"},{default:l(()=>[a(r,{span:8},{default:l(()=>[a(d,null,{default:l(()=>[o(s(t.$t("chmodCalculator.user")),1)]),_:1})]),_:1}),a(r,{span:8},{default:l(()=>[a(d,null,{default:l(()=>[o(s(t.$t("chmodCalculator.group")),1)]),_:1})]),_:1}),a(r,{span:8},{default:l(()=>[a(d,null,{default:l(()=>[o(s(t.$t("chmodCalculator.others")),1)]),_:1})]),_:1})]),_:1}),a(i,{class:"row"},{default:l(()=>[a(r,{span:8},{default:l(()=>[a(p,{checked:u.value.user.read,"onUpdate:checked":e[0]||(e[0]=n=>u.value.user.read=n),onChange:c},{default:l(()=>[o(s(t.$t("chmodCalculator.read")),1)]),_:1},8,["checked"])]),_:1}),a(r,{span:8},{default:l(()=>[a(p,{checked:u.value.group.read,"onUpdate:checked":e[1]||(e[1]=n=>u.value.group.read=n),onChange:c},{default:l(()=>[o(s(t.$t("chmodCalculator.read")),1)]),_:1},8,["checked"])]),_:1}),a(r,{span:8},{default:l(()=>[a(p,{checked:u.value.others.read,"onUpdate:checked":e[2]||(e[2]=n=>u.value.others.read=n),onChange:c},{default:l(()=>[o(s(t.$t("chmodCalculator.read")),1)]),_:1},8,["checked"])]),_:1})]),_:1}),a(i,{class:"row"},{default:l(()=>[a(r,{span:8},{default:l(()=>[a(p,{checked:u.value.user.write,"onUpdate:checked":e[3]||(e[3]=n=>u.value.user.write=n),onChange:c},{default:l(()=>[o(s(t.$t("chmodCalculator.write")),1)]),_:1},8,["checked"])]),_:1}),a(r,{span:8},{default:l(()=>[a(p,{checked:u.value.group.write,"onUpdate:checked":e[4]||(e[4]=n=>u.value.group.write=n),onChange:c},{default:l(()=>[o(s(t.$t("chmodCalculator.write")),1)]),_:1},8,["checked"])]),_:1}),a(r,{span:8},{default:l(()=>[a(p,{checked:u.value.others.write,"onUpdate:checked":e[5]||(e[5]=n=>u.value.others.write=n),onChange:c},{default:l(()=>[o(s(t.$t("chmodCalculator.write")),1)]),_:1},8,["checked"])]),_:1})]),_:1}),a(i,{class:"row"},{default:l(()=>[a(r,{span:8},{default:l(()=>[a(p,{checked:u.value.user.execute,"onUpdate:checked":e[6]||(e[6]=n=>u.value.user.execute=n),onChange:c},{default:l(()=>[o(s(t.$t("chmodCalculator.execute")),1)]),_:1},8,["checked"])]),_:1}),a(r,{span:8},{default:l(()=>[a(p,{checked:u.value.group.execute,"onUpdate:checked":e[7]||(e[7]=n=>u.value.group.execute=n),onChange:c},{default:l(()=>[o(s(t.$t("chmodCalculator.execute")),1)]),_:1},8,["checked"])]),_:1}),a(r,{span:8},{default:l(()=>[a(p,{checked:u.value.others.execute,"onUpdate:checked":e[8]||(e[8]=n=>u.value.others.execute=n),onChange:c},{default:l(()=>[o(s(t.$t("chmodCalculator.execute")),1)]),_:1},8,["checked"])]),_:1})]),_:1})]),z("div",Q,[v.renderOnSearch?S("",!0):(k(),B(d,{key:0},{default:l(()=>[o(s(t.$t("chmodCalculator.permissions"))+": ",1)]),_:1})),v.renderOnSearch?(k(),D("div",W,[a(N,null,{default:l(()=>[a(i,{gutter:2},{default:l(()=>[a(r,null,{default:l(()=>[a(_,{value:u.value.number,"onUpdate:value":e[9]||(e[9]=n=>u.value.number=n),onChange:b},null,8,["value"])]),_:1}),a(r,null,{default:l(()=>[a(C,null,{default:l(()=>[a(g,{onClick:e[10]||(e[10]=n=>m(u.value.number))},{icon:l(()=>[a(h(w))]),_:1})]),_:1})]),_:1}),a(r,null,{default:l(()=>[a(_,{value:u.value.str,"onUpdate:value":e[11]||(e[11]=n=>u.value.str=n),onChange:x},null,8,["value"])]),_:1}),a(r,null,{default:l(()=>[a(C,null,{default:l(()=>[a(g,{onClick:e[12]||(e[12]=n=>m(u.value.str))},{icon:l(()=>[a(h(w))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):S("",!0),v.renderOnSearch?S("",!0):(k(),D("div",Y,[a(N,{compact:""},{default:l(()=>[a(_,{value:u.value.number,"onUpdate:value":e[13]||(e[13]=n=>u.value.number=n),style:{width:"calc(100% - 100px)"},onChange:b},null,8,["value"]),a(C,null,{default:l(()=>[a(g,{onClick:e[14]||(e[14]=n=>m(u.value.number))},{icon:l(()=>[a(h(w))]),_:1})]),_:1})]),_:1}),a(N,{compact:"",style:{"margin-top":"10px"}},{default:l(()=>[a(_,{value:u.value.str,"onUpdate:value":e[15]||(e[15]=n=>u.value.str=n),style:{width:"calc(100% - 100px)"},onChange:x},null,8,["value"]),a(C,null,{default:l(()=>[a(g,{onClick:e[16]||(e[16]=n=>m(u.value.str))},{icon:l(()=>[a(h(w))]),_:1})]),_:1})]),_:1})]))])]),_:1})}}});const te=K(Z,[["__scopeId","data-v-05931faa"]]);export{te as default};
