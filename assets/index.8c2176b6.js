import{bT as HD,dP as od,dQ as d_,dR as sh,dS as Ya,dT as p_,dU as GD,dV as ks,dW as YE,dX as zE,dY as jD,dZ as UE,d_ as XD,d$ as KD,e0 as ZD,e1 as WE,e2 as oh,e3 as ch,e4 as g_,e5 as HE,e6 as cd,e7 as GE,e8 as QD,e9 as jr,ea as jE,eb as Wc,ec as Ts,ed as JD,ee as y_,ef as XE,eg as m_,eh as b_,ei as tO,ej as KE,ek as eO,el as nO,em as ld,en as rO,eo as iO,ep as ZE,eq as aO,er as sO,es as v_,et as QE,eu as __,ev as JE,ew as tC,ex as oO,ey as eC,ez as cO,eA as lO,eB as uO,d9 as hO,d as nC,o as Ar,e as rC,a as ii,g as Mr,eC as fO,H as pa,eD as dO,dB as pO,eE as gO,eF as yO,eG as mO,eH as bO,eI as vO,eJ as _O,r as Vo,ai as xO,c7 as wO,D as kO,af as TO,J as EO,b as ni,l as Yo,c as Bi,bZ as CO,b_ as SO,U as W2,x as H2,c8 as AO,f as MO,F as LO,bS as RO,j as ol,_ as NO}from"./index.954a2cbc.js";import{L as IO}from"./layout1.2f31ef67.js";import{c as Es}from"./_commonjs-dynamic-modules.30ae7933.js";import{v as BO}from"./v4.6172dce1.js";import"./validate.5eb70dfd.js";var iC={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(HD,function(){var n;function r(){return n.apply(null,arguments)}function i(g){return g instanceof Array||Object.prototype.toString.call(g)==="[object Array]"}function a(g){return g!=null&&Object.prototype.toString.call(g)==="[object Object]"}function s(g,w){return Object.prototype.hasOwnProperty.call(g,w)}function o(g){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(g).length===0;for(var w in g)if(s(g,w))return;return 1}function l(g){return g===void 0}function u(g){return typeof g=="number"||Object.prototype.toString.call(g)==="[object Number]"}function h(g){return g instanceof Date||Object.prototype.toString.call(g)==="[object Date]"}function d(g,w){for(var M=[],O=g.length,W=0;W<O;++W)M.push(w(g[W],W));return M}function f(g,w){for(var M in w)s(w,M)&&(g[M]=w[M]);return s(w,"toString")&&(g.toString=w.toString),s(w,"valueOf")&&(g.valueOf=w.valueOf),g}function p(g,w,M,O){return Fn(g,w,M,O,!0).utc()}function y(g){return g._pf==null&&(g._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),g._pf}function m(g){if(g._isValid==null){var w=y(g),M=x.call(w.parsedDateParts,function(O){return O!=null}),M=!isNaN(g._d.getTime())&&w.overflow<0&&!w.empty&&!w.invalidEra&&!w.invalidMonth&&!w.invalidWeekday&&!w.weekdayMismatch&&!w.nullInput&&!w.invalidFormat&&!w.userInvalidated&&(!w.meridiem||w.meridiem&&M);if(g._strict&&(M=M&&w.charsLeftOver===0&&w.unusedTokens.length===0&&w.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(g))return M;g._isValid=M}return g._isValid}function b(g){var w=p(NaN);return g!=null?f(y(w),g):y(w).userInvalidated=!0,w}var x=Array.prototype.some||function(g){for(var w=Object(this),M=w.length>>>0,O=0;O<M;O++)if(O in w&&g.call(this,w[O],O,w))return!0;return!1},k=r.momentProperties=[],T=!1;function S(g,w){var M,O,W,at=k.length;if(l(w._isAMomentObject)||(g._isAMomentObject=w._isAMomentObject),l(w._i)||(g._i=w._i),l(w._f)||(g._f=w._f),l(w._l)||(g._l=w._l),l(w._strict)||(g._strict=w._strict),l(w._tzm)||(g._tzm=w._tzm),l(w._isUTC)||(g._isUTC=w._isUTC),l(w._offset)||(g._offset=w._offset),l(w._pf)||(g._pf=y(w)),l(w._locale)||(g._locale=w._locale),0<at)for(M=0;M<at;M++)l(W=w[O=k[M]])||(g[O]=W);return g}function L(g){S(this,g),this._d=new Date(g._d!=null?g._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),T===!1&&(T=!0,r.updateOffset(this),T=!1)}function R(g){return g instanceof L||g!=null&&g._isAMomentObject!=null}function A(g){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+g)}function I(g,w){var M=!0;return f(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,g),M){for(var O,W,at=[],vt=arguments.length,At=0;At<vt;At++){if(O="",typeof arguments[At]=="object"){for(W in O+=`
[`+At+"] ",arguments[0])s(arguments[0],W)&&(O+=W+": "+arguments[0][W]+", ");O=O.slice(0,-2)}else O=arguments[At];at.push(O)}A(g+`
Arguments: `+Array.prototype.slice.call(at).join("")+`
`+new Error().stack),M=!1}return w.apply(this,arguments)},w)}var C={};function N(g,w){r.deprecationHandler!=null&&r.deprecationHandler(g,w),C[g]||(A(w),C[g]=!0)}function v(g){return typeof Function<"u"&&g instanceof Function||Object.prototype.toString.call(g)==="[object Function]"}function E(g,w){var M,O=f({},g);for(M in w)s(w,M)&&(a(g[M])&&a(w[M])?(O[M]={},f(O[M],g[M]),f(O[M],w[M])):w[M]!=null?O[M]=w[M]:delete O[M]);for(M in g)s(g,M)&&!s(w,M)&&a(g[M])&&(O[M]=f({},O[M]));return O}function _(g){g!=null&&this.set(g)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;var V=Object.keys||function(g){var w,M=[];for(w in g)s(g,w)&&M.push(w);return M};function B(g,w,M){var O=""+Math.abs(g);return(0<=g?M?"+":"":"-")+Math.pow(10,Math.max(0,w-O.length)).toString().substr(1)+O}var G=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,tt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ut={},X={};function z(g,w,M,O){var W=typeof O=="string"?function(){return this[O]()}:O;g&&(X[g]=W),w&&(X[w[0]]=function(){return B(W.apply(this,arguments),w[1],w[2])}),M&&(X[M]=function(){return this.localeData().ordinal(W.apply(this,arguments),g)})}function j(g,w){return g.isValid()?(w=ht(w,g.localeData()),ut[w]=ut[w]||function(M){for(var O,W=M.match(G),at=0,vt=W.length;at<vt;at++)X[W[at]]?W[at]=X[W[at]]:W[at]=(O=W[at]).match(/\[[\s\S]/)?O.replace(/^\[|\]$/g,""):O.replace(/\\/g,"");return function(At){for(var qt="",Bt=0;Bt<vt;Bt++)qt+=v(W[Bt])?W[Bt].call(At,M):W[Bt];return qt}}(w),ut[w](g)):g.localeData().invalidDate()}function ht(g,w){var M=5;function O(W){return w.longDateFormat(W)||W}for(tt.lastIndex=0;0<=M&&tt.test(g);)g=g.replace(tt,O),tt.lastIndex=0,--M;return g}var it={};function et(g,w){var M=g.toLowerCase();it[M]=it[M+"s"]=it[w]=g}function ft(g){return typeof g=="string"?it[g]||it[g.toLowerCase()]:void 0}function st(g){var w,M,O={};for(M in g)s(g,M)&&(w=ft(M))&&(O[w]=g[M]);return O}var wt={};function Z(g,w){wt[g]=w}function F(g){return g%4==0&&g%100!=0||g%400==0}function H(g){return g<0?Math.ceil(g)||0:Math.floor(g)}function q(w){var w=+w,M=0;return M=w!=0&&isFinite(w)?H(w):M}function D(g,w){return function(M){return M!=null?(U(this,g,M),r.updateOffset(this,w),this):$(this,g)}}function $(g,w){return g.isValid()?g._d["get"+(g._isUTC?"UTC":"")+w]():NaN}function U(g,w,M){g.isValid()&&!isNaN(M)&&(w==="FullYear"&&F(g.year())&&g.month()===1&&g.date()===29?(M=q(M),g._d["set"+(g._isUTC?"UTC":"")+w](M,g.month(),gt(M,g.month()))):g._d["set"+(g._isUTC?"UTC":"")+w](M))}var P=/\d/,de=/\d\d/,K=/\d{3}/,Fs=/\d{4}/,Xa=/[+-]?\d{6}/,ct=/\d\d?/,Dt=/\d\d\d\d?/,Mt=/\d\d\d\d\d\d?/,Ot=/\d{1,3}/,Ka=/\d{1,4}/,ja=/[+-]?\d{1,6}/,Ct=/\d+/,dt=/[+-]?\d+/,yt=/Z|[+-]\d\d:?\d\d/gi,bt=/Z|[+-]\d\d(?::?\d\d)?/gi,Tt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ot(g,w,M){Ht[g]=v(w)?w:function(O,W){return O&&M?M:w}}function le(g,w){return s(Ht,g)?Ht[g](w._strict,w._locale):new RegExp(It(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(M,O,W,at,vt){return O||W||at||vt})))}function It(g){return g.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ht={},Xt={};function Jt(g,w){var M,O,W=w;for(typeof g=="string"&&(g=[g]),u(w)&&(W=function(at,vt){vt[w]=q(at)}),O=g.length,M=0;M<O;M++)Xt[g[M]]=W}function Te(g,w){Jt(g,function(M,O,W,at){W._w=W._w||{},w(M,W._w,W,at)})}var Gt,Ft=0,Vt=1,kt=2,mt=3,Et=4,xt=5,zt=6,pt=7,fe=8;function gt(g,w){if(isNaN(g)||isNaN(w))return NaN;var M=(w%(M=12)+M)%M;return g+=(w-M)/12,M==1?F(g)?29:28:31-M%7%2}Gt=Array.prototype.indexOf||function(g){for(var w=0;w<this.length;++w)if(this[w]===g)return w;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(g){return this.localeData().monthsShort(this,g)}),z("MMMM",0,0,function(g){return this.localeData().months(this,g)}),et("month","M"),Z("month",8),ot("M",ct),ot("MM",ct,de),ot("MMM",function(g,w){return w.monthsShortRegex(g)}),ot("MMMM",function(g,w){return w.monthsRegex(g)}),Jt(["M","MM"],function(g,w){w[Vt]=q(g)-1}),Jt(["MMM","MMMM"],function(g,w,M,O){O=M._locale.monthsParse(g,O,M._strict),O!=null?w[Vt]=O:y(M).invalidMonth=g});var re="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_e="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ye=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ve=Tt,Ee=Tt;function Wt(g,w){var M;if(g.isValid()){if(typeof w=="string"){if(/^\d+$/.test(w))w=q(w);else if(!u(w=g.localeData().monthsParse(w)))return}M=Math.min(g.date(),gt(g.year(),w)),g._d["set"+(g._isUTC?"UTC":"")+"Month"](w,M)}}function se(g){return g!=null?(Wt(this,g),r.updateOffset(this,!0),this):$(this,"Month")}function me(){function g(vt,At){return At.length-vt.length}for(var w,M=[],O=[],W=[],at=0;at<12;at++)w=p([2e3,at]),M.push(this.monthsShort(w,"")),O.push(this.months(w,"")),W.push(this.months(w,"")),W.push(this.monthsShort(w,""));for(M.sort(g),O.sort(g),W.sort(g),at=0;at<12;at++)M[at]=It(M[at]),O[at]=It(O[at]);for(at=0;at<24;at++)W[at]=It(W[at]);this._monthsRegex=new RegExp("^("+W.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+O.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+M.join("|")+")","i")}function he(g){return F(g)?366:365}z("Y",0,0,function(){var g=this.year();return g<=9999?B(g,4):"+"+g}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),et("year","y"),Z("year",1),ot("Y",dt),ot("YY",ct,de),ot("YYYY",Ka,Fs),ot("YYYYY",ja,Xa),ot("YYYYYY",ja,Xa),Jt(["YYYYY","YYYYYY"],Ft),Jt("YYYY",function(g,w){w[Ft]=g.length===2?r.parseTwoDigitYear(g):q(g)}),Jt("YY",function(g,w){w[Ft]=r.parseTwoDigitYear(g)}),Jt("Y",function(g,w){w[Ft]=parseInt(g,10)}),r.parseTwoDigitYear=function(g){return q(g)+(68<q(g)?1900:2e3)};var $h=D("FullYear",!0);function oa(g,w,M,O,W,at,vt){var At;return g<100&&0<=g?(At=new Date(g+400,w,M,O,W,at,vt),isFinite(At.getFullYear())&&At.setFullYear(g)):At=new Date(g,w,M,O,W,at,vt),At}function Vn(g){var w;return g<100&&0<=g?((w=Array.prototype.slice.call(arguments))[0]=g+400,w=new Date(Date.UTC.apply(null,w)),isFinite(w.getUTCFullYear())&&w.setUTCFullYear(g)):w=new Date(Date.UTC.apply(null,arguments)),w}function De(g,w,M){return M=7+w-M,M-(7+Vn(g,0,M).getUTCDay()-w)%7-1}function oe(g,vt,At,O,W){var at,vt=1+7*(vt-1)+(7+At-O)%7+De(g,O,W),At=vt<=0?he(at=g-1)+vt:vt>he(g)?(at=g+1,vt-he(g)):(at=g,vt);return{year:at,dayOfYear:At}}function Je(g,w,M){var O,W,at=De(g.year(),w,M),at=Math.floor((g.dayOfYear()-at-1)/7)+1;return at<1?O=at+En(W=g.year()-1,w,M):at>En(g.year(),w,M)?(O=at-En(g.year(),w,M),W=g.year()+1):(W=g.year(),O=at),{week:O,year:W}}function En(g,W,M){var O=De(g,W,M),W=De(g+1,W,M);return(he(g)-O+W)/7}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),et("week","w"),et("isoWeek","W"),Z("week",5),Z("isoWeek",5),ot("w",ct),ot("ww",ct,de),ot("W",ct),ot("WW",ct,de),Te(["w","ww","W","WW"],function(g,w,M,O){w[O.substr(0,1)]=q(g)});function Ze(g,w){return g.slice(w,7).concat(g.slice(0,w))}z("d",0,"do","day"),z("dd",0,0,function(g){return this.localeData().weekdaysMin(this,g)}),z("ddd",0,0,function(g){return this.localeData().weekdaysShort(this,g)}),z("dddd",0,0,function(g){return this.localeData().weekdays(this,g)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),et("day","d"),et("weekday","e"),et("isoWeekday","E"),Z("day",11),Z("weekday",11),Z("isoWeekday",11),ot("d",ct),ot("e",ct),ot("E",ct),ot("dd",function(g,w){return w.weekdaysMinRegex(g)}),ot("ddd",function(g,w){return w.weekdaysShortRegex(g)}),ot("dddd",function(g,w){return w.weekdaysRegex(g)}),Te(["dd","ddd","dddd"],function(g,w,M,O){O=M._locale.weekdaysParse(g,O,M._strict),O!=null?w.d=O:y(M).invalidWeekday=g}),Te(["d","e","E"],function(g,w,M,O){w[O]=q(g)});var tn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$t="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),nt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),St=Tt,Rt=Tt,te=Tt;function He(){function g(Bt,pe){return pe.length-Bt.length}for(var w,M,O,W=[],at=[],vt=[],At=[],qt=0;qt<7;qt++)O=p([2e3,1]).day(qt),w=It(this.weekdaysMin(O,"")),M=It(this.weekdaysShort(O,"")),O=It(this.weekdays(O,"")),W.push(w),at.push(M),vt.push(O),At.push(w),At.push(M),At.push(O);W.sort(g),at.sort(g),vt.sort(g),At.sort(g),this._weekdaysRegex=new RegExp("^("+At.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+vt.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+at.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+W.join("|")+")","i")}function $e(){return this.hours()%12||12}function qe(g,w){z(g,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),w)})}function Cn(g,w){return w._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,$e),z("k",["kk",2],0,function(){return this.hours()||24}),z("hmm",0,0,function(){return""+$e.apply(this)+B(this.minutes(),2)}),z("hmmss",0,0,function(){return""+$e.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),qe("a",!0),qe("A",!1),et("hour","h"),Z("hour",13),ot("a",Cn),ot("A",Cn),ot("H",ct),ot("h",ct),ot("k",ct),ot("HH",ct,de),ot("hh",ct,de),ot("kk",ct,de),ot("hmm",Dt),ot("hmmss",Mt),ot("Hmm",Dt),ot("Hmmss",Mt),Jt(["H","HH"],mt),Jt(["k","kk"],function(g,w,M){g=q(g),w[mt]=g===24?0:g}),Jt(["a","A"],function(g,w,M){M._isPm=M._locale.isPM(g),M._meridiem=g}),Jt(["h","hh"],function(g,w,M){w[mt]=q(g),y(M).bigHour=!0}),Jt("hmm",function(g,w,M){var O=g.length-2;w[mt]=q(g.substr(0,O)),w[Et]=q(g.substr(O)),y(M).bigHour=!0}),Jt("hmmss",function(g,w,M){var O=g.length-4,W=g.length-2;w[mt]=q(g.substr(0,O)),w[Et]=q(g.substr(O,2)),w[xt]=q(g.substr(W)),y(M).bigHour=!0}),Jt("Hmm",function(g,w,M){var O=g.length-2;w[mt]=q(g.substr(0,O)),w[Et]=q(g.substr(O))}),Jt("Hmmss",function(g,w,M){var O=g.length-4,W=g.length-2;w[mt]=q(g.substr(0,O)),w[Et]=q(g.substr(O,2)),w[xt]=q(g.substr(W))}),Tt=D("Hours",!0);var Ue,ca={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:re,monthsShort:_e,week:{dow:0,doy:6},weekdays:tn,weekdaysMin:nt,weekdaysShort:$t,meridiemParse:/[ap]\.?m?\.?/i},Ce={},Ri={};function Rh(g){return g&&g.toLowerCase().replace("_","-")}function il(g){for(var w,M,O,W,at=0;at<g.length;){for(w=(W=Rh(g[at]).split("-")).length,M=(M=Rh(g[at+1]))?M.split("-"):null;0<w;){if(O=Tr(W.slice(0,w).join("-")))return O;if(M&&M.length>=w&&function(vt,At){for(var qt=Math.min(vt.length,At.length),Bt=0;Bt<qt;Bt+=1)if(vt[Bt]!==At[Bt])return Bt;return qt}(W,M)>=w-1)break;w--}at++}return Ue}function Tr(g){var w;if(Ce[g]===void 0&&!0&&t&&t.exports&&g.match("^[^/\\\\]*$")!=null)try{w=Ue._abbr,Es("./locale/"+g),Kt(w)}catch{Ce[g]=null}return Ce[g]}function Kt(g,w){return g&&((w=l(w)?ue(g):ne(g,w))?Ue=w:typeof console<"u"&&console.warn&&console.warn("Locale "+g+" not found. Did you forget to load it?")),Ue._abbr}function ne(g,w){if(w===null)return delete Ce[g],null;var M,O=ca;if(w.abbr=g,Ce[g]!=null)N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),O=Ce[g]._config;else if(w.parentLocale!=null)if(Ce[w.parentLocale]!=null)O=Ce[w.parentLocale]._config;else{if((M=Tr(w.parentLocale))==null)return Ri[w.parentLocale]||(Ri[w.parentLocale]=[]),Ri[w.parentLocale].push({name:g,config:w}),null;O=M._config}return Ce[g]=new _(E(O,w)),Ri[g]&&Ri[g].forEach(function(W){ne(W.name,W.config)}),Kt(g),Ce[g]}function ue(g){var w;if(!(g=g&&g._locale&&g._locale._abbr?g._locale._abbr:g))return Ue;if(!i(g)){if(w=Tr(g))return w;g=[g]}return il(g)}function Pt(g){var w=g._a;return w&&y(g).overflow===-2&&(w=w[Vt]<0||11<w[Vt]?Vt:w[kt]<1||w[kt]>gt(w[Ft],w[Vt])?kt:w[mt]<0||24<w[mt]||w[mt]===24&&(w[Et]!==0||w[xt]!==0||w[zt]!==0)?mt:w[Et]<0||59<w[Et]?Et:w[xt]<0||59<w[xt]?xt:w[zt]<0||999<w[zt]?zt:-1,y(g)._overflowDayOfYear&&(w<Ft||kt<w)&&(w=kt),y(g)._overflowWeeks&&w===-1&&(w=pt),y(g)._overflowWeekday&&w===-1&&(w=fe),y(g).overflow=w),g}var Qe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Q=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Is=/Z|[+-]\d\d(?::?\d\d)?/,rt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Yn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Nh=/^\/?Date\((-?\d+)/i,F2=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ih={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Bh(g){var w,M,O,W,at,vt,qt=g._i,At=Qe.exec(qt)||Q.exec(qt),qt=rt.length,Bt=Yn.length;if(At){for(y(g).iso=!0,w=0,M=qt;w<M;w++)if(rt[w][1].exec(At[1])){W=rt[w][0],O=rt[w][2]!==!1;break}if(W==null)g._isValid=!1;else{if(At[3]){for(w=0,M=Bt;w<M;w++)if(Yn[w][1].exec(At[3])){at=(At[2]||" ")+Yn[w][0];break}if(at==null)return void(g._isValid=!1)}if(O||at==null){if(At[4]){if(!Is.exec(At[4]))return void(g._isValid=!1);vt="Z"}g._f=W+(at||"")+(vt||""),al(g)}else g._isValid=!1}}else g._isValid=!1}function bn(g,w,M,O,W,at){return g=[function(vt){vt=parseInt(vt,10);{if(vt<=49)return 2e3+vt;if(vt<=999)return 1900+vt}return vt}(g),_e.indexOf(w),parseInt(M,10),parseInt(O,10),parseInt(W,10)],at&&g.push(parseInt(at,10)),g}function Ni(g){var w,M,O,W,at=F2.exec(g._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));at?(w=bn(at[4],at[3],at[2],at[5],at[6],at[7]),M=at[1],O=w,W=g,M&&$t.indexOf(M)!==new Date(O[0],O[1],O[2]).getDay()?(y(W).weekdayMismatch=!0,W._isValid=!1):(g._a=w,g._tzm=(M=at[8],O=at[9],W=at[10],M?Ih[M]:O?0:60*(((M=parseInt(W,10))-(O=M%100))/100)+O),g._d=Vn.apply(null,g._a),g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),y(g).rfc2822=!0)):g._isValid=!1}function Ii(g,w,M){return g!=null?g:w!=null?w:M}function Bs(g){var w,M,O,W,at,vt,At,qt,Bt,pe,ie,rn=[];if(!g._d){for(O=g,W=new Date(r.now()),M=O._useUTC?[W.getUTCFullYear(),W.getUTCMonth(),W.getUTCDate()]:[W.getFullYear(),W.getMonth(),W.getDate()],g._w&&g._a[kt]==null&&g._a[Vt]==null&&((W=(O=g)._w).GG!=null||W.W!=null||W.E!=null?(qt=1,Bt=4,at=Ii(W.GG,O._a[Ft],Je(Pe(),1,4).year),vt=Ii(W.W,1),((At=Ii(W.E,1))<1||7<At)&&(pe=!0)):(qt=O._locale._week.dow,Bt=O._locale._week.doy,ie=Je(Pe(),qt,Bt),at=Ii(W.gg,O._a[Ft],ie.year),vt=Ii(W.w,ie.week),W.d!=null?((At=W.d)<0||6<At)&&(pe=!0):W.e!=null?(At=W.e+qt,(W.e<0||6<W.e)&&(pe=!0)):At=qt),vt<1||vt>En(at,qt,Bt)?y(O)._overflowWeeks=!0:pe!=null?y(O)._overflowWeekday=!0:(ie=oe(at,vt,At,qt,Bt),O._a[Ft]=ie.year,O._dayOfYear=ie.dayOfYear)),g._dayOfYear!=null&&(W=Ii(g._a[Ft],M[Ft]),(g._dayOfYear>he(W)||g._dayOfYear===0)&&(y(g)._overflowDayOfYear=!0),pe=Vn(W,0,g._dayOfYear),g._a[Vt]=pe.getUTCMonth(),g._a[kt]=pe.getUTCDate()),w=0;w<3&&g._a[w]==null;++w)g._a[w]=rn[w]=M[w];for(;w<7;w++)g._a[w]=rn[w]=g._a[w]==null?w===2?1:0:g._a[w];g._a[mt]===24&&g._a[Et]===0&&g._a[xt]===0&&g._a[zt]===0&&(g._nextDay=!0,g._a[mt]=0),g._d=(g._useUTC?Vn:oa).apply(null,rn),at=g._useUTC?g._d.getUTCDay():g._d.getDay(),g._tzm!=null&&g._d.setUTCMinutes(g._d.getUTCMinutes()-g._tzm),g._nextDay&&(g._a[mt]=24),g._w&&g._w.d!==void 0&&g._w.d!==at&&(y(g).weekdayMismatch=!0)}}function al(g){if(g._f===r.ISO_8601)Bh(g);else if(g._f===r.RFC_2822)Ni(g);else{g._a=[],y(g).empty=!0;for(var w,M,O,W,at,vt=""+g._i,At=vt.length,qt=0,Bt=ht(g._f,g._locale).match(G)||[],pe=Bt.length,ie=0;ie<pe;ie++)M=Bt[ie],(w=(vt.match(le(M,g))||[])[0])&&(0<(O=vt.substr(0,vt.indexOf(w))).length&&y(g).unusedInput.push(O),vt=vt.slice(vt.indexOf(w)+w.length),qt+=w.length),X[M]?(w?y(g).empty=!1:y(g).unusedTokens.push(M),O=M,at=g,(W=w)!=null&&s(Xt,O)&&Xt[O](W,at._a,at,O)):g._strict&&!w&&y(g).unusedTokens.push(M);y(g).charsLeftOver=At-qt,0<vt.length&&y(g).unusedInput.push(vt),g._a[mt]<=12&&y(g).bigHour===!0&&0<g._a[mt]&&(y(g).bigHour=void 0),y(g).parsedDateParts=g._a.slice(0),y(g).meridiem=g._meridiem,g._a[mt]=function(rn,vn,ei){return ei==null?vn:rn.meridiemHour!=null?rn.meridiemHour(vn,ei):rn.isPM!=null?((rn=rn.isPM(ei))&&vn<12&&(vn+=12),vn=rn||vn!==12?vn:0):vn}(g._locale,g._a[mt],g._meridiem),(At=y(g).era)!==null&&(g._a[Ft]=g._locale.erasConvertYear(At,g._a[Ft])),Bs(g),Pt(g)}}function Dh(g){var w,M,O,W=g._i,at=g._f;return g._locale=g._locale||ue(g._l),W===null||at===void 0&&W===""?b({nullInput:!0}):(typeof W=="string"&&(g._i=W=g._locale.preparse(W)),R(W)?new L(Pt(W)):(h(W)?g._d=W:i(at)?function(vt){var At,qt,Bt,pe,ie,rn,vn=!1,ei=vt._f.length;if(ei===0)return y(vt).invalidFormat=!0,vt._d=new Date(NaN);for(pe=0;pe<ei;pe++)ie=0,rn=!1,At=S({},vt),vt._useUTC!=null&&(At._useUTC=vt._useUTC),At._f=vt._f[pe],al(At),m(At)&&(rn=!0),ie=(ie+=y(At).charsLeftOver)+10*y(At).unusedTokens.length,y(At).score=ie,vn?ie<Bt&&(Bt=ie,qt=At):(Bt==null||ie<Bt||rn)&&(Bt=ie,qt=At,rn&&(vn=!0));f(vt,qt||At)}(g):at?al(g):l(at=(W=g)._i)?W._d=new Date(r.now()):h(at)?W._d=new Date(at.valueOf()):typeof at=="string"?(M=W,(w=Nh.exec(M._i))!==null?M._d=new Date(+w[1]):(Bh(M),M._isValid===!1&&(delete M._isValid,Ni(M),M._isValid===!1&&(delete M._isValid,M._strict?M._isValid=!1:r.createFromInputFallback(M))))):i(at)?(W._a=d(at.slice(0),function(vt){return parseInt(vt,10)}),Bs(W)):a(at)?(w=W)._d||(O=(M=st(w._i)).day===void 0?M.date:M.day,w._a=d([M.year,M.month,O,M.hour,M.minute,M.second,M.millisecond],function(vt){return vt&&parseInt(vt,10)}),Bs(w)):u(at)?W._d=new Date(at):r.createFromInputFallback(W),m(g)||(g._d=null),g))}function Fn(g,w,M,O,W){var at={};return w!==!0&&w!==!1||(O=w,w=void 0),M!==!0&&M!==!1||(O=M,M=void 0),(a(g)&&o(g)||i(g)&&g.length===0)&&(g=void 0),at._isAMomentObject=!0,at._useUTC=at._isUTC=W,at._l=M,at._i=g,at._f=w,at._strict=O,(W=new L(Pt(Dh(W=at))))._nextDay&&(W.add(1,"d"),W._nextDay=void 0),W}function Pe(g,w,M,O){return Fn(g,w,M,O,!1)}r.createFromInputFallback=I("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(g){g._d=new Date(g._i+(g._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){},Dt=I("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Pe.apply(null,arguments);return this.isValid()&&g.isValid()?g<this?this:g:b()}),Mt=I("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var g=Pe.apply(null,arguments);return this.isValid()&&g.isValid()?this<g?this:g:b()});function Qn(g,w){var M,O;if(!(w=w.length===1&&i(w[0])?w[0]:w).length)return Pe();for(M=w[0],O=1;O<w.length;++O)w[O].isValid()&&!w[O][g](M)||(M=w[O]);return M}var la=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Jr(w){var w=st(w),M=w.year||0,O=w.quarter||0,W=w.month||0,at=w.week||w.isoWeek||0,vt=w.day||0,At=w.hour||0,qt=w.minute||0,Bt=w.second||0,pe=w.millisecond||0;this._isValid=function(ie){var rn,vn,ei=!1,U2=la.length;for(rn in ie)if(s(ie,rn)&&(Gt.call(la,rn)===-1||ie[rn]!=null&&isNaN(ie[rn])))return!1;for(vn=0;vn<U2;++vn)if(ie[la[vn]]){if(ei)return!1;parseFloat(ie[la[vn]])!==q(ie[la[vn]])&&(ei=!0)}return!0}(w),this._milliseconds=+pe+1e3*Bt+6e4*qt+1e3*At*60*60,this._days=+vt+7*at,this._months=+W+3*O+12*M,this._data={},this._locale=ue(),this._bubble()}function ua(g){return g instanceof Jr}function Er(g){return g<0?-1*Math.round(-1*g):Math.round(g)}function sl(g,w){z(g,0,0,function(){var M=this.utcOffset(),O="+";return M<0&&(M=-M,O="-"),O+B(~~(M/60),2)+w+B(~~M%60,2)})}sl("Z",":"),sl("ZZ",""),ot("Z",bt),ot("ZZ",bt),Jt(["Z","ZZ"],function(g,w,M){M._useUTC=!0,M._tzm=Ds(bt,g)});var Fo=/([\+\-]|\d\d)/gi;function Ds(g,M){var M=(M||"").match(g);return M===null?null:(M=60*(g=((M[M.length-1]||[])+"").match(Fo)||["-",0,0])[1]+q(g[2]))===0?0:g[0]==="+"?M:-M}function Cr(g,w){var M;return w._isUTC?(w=w.clone(),M=(R(g)||h(g)?g:Pe(g)).valueOf()-w.valueOf(),w._d.setTime(w._d.valueOf()+M),r.updateOffset(w,!1),w):Pe(g).local()}function P2(g){return-Math.round(g._d.getTimezoneOffset())}function nx(){return!!this.isValid()&&this._isUTC&&this._offset===0}r.updateOffset=function(){};var PD=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$D=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ti(g,w){var M,O=g,W=null;return ua(g)?O={ms:g._milliseconds,d:g._days,M:g._months}:u(g)||!isNaN(+g)?(O={},w?O[w]=+g:O.milliseconds=+g):(W=PD.exec(g))?(M=W[1]==="-"?-1:1,O={y:0,d:q(W[kt])*M,h:q(W[mt])*M,m:q(W[Et])*M,s:q(W[xt])*M,ms:q(Er(1e3*W[zt]))*M}):(W=$D.exec(g))?(M=W[1]==="-"?-1:1,O={y:Os(W[2],M),M:Os(W[3],M),w:Os(W[4],M),d:Os(W[5],M),h:Os(W[6],M),m:Os(W[7],M),s:Os(W[8],M)}):O==null?O={}:typeof O=="object"&&("from"in O||"to"in O)&&(w=function(at,vt){var At;return!at.isValid()||!vt.isValid()?{milliseconds:0,months:0}:(vt=Cr(vt,at),at.isBefore(vt)?At=rx(at,vt):((At=rx(vt,at)).milliseconds=-At.milliseconds,At.months=-At.months),At)}(Pe(O.from),Pe(O.to)),(O={}).ms=w.milliseconds,O.M=w.months),W=new Jr(O),ua(g)&&s(g,"_locale")&&(W._locale=g._locale),ua(g)&&s(g,"_isValid")&&(W._isValid=g._isValid),W}function Os(g,w){return g=g&&parseFloat(g.replace(",",".")),(isNaN(g)?0:g)*w}function rx(g,w){var M={};return M.months=w.month()-g.month()+12*(w.year()-g.year()),g.clone().add(M.months,"M").isAfter(w)&&--M.months,M.milliseconds=+w-+g.clone().add(M.months,"M"),M}function ix(g,w){return function(M,O){var W;return O===null||isNaN(+O)||(N(w,"moment()."+w+"(period, number) is deprecated. Please use moment()."+w+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),W=M,M=O,O=W),ax(this,ti(M,O),g),this}}function ax(g,vt,M,O){var W=vt._milliseconds,at=Er(vt._days),vt=Er(vt._months);g.isValid()&&(O=O==null||O,vt&&Wt(g,$(g,"Month")+vt*M),at&&U(g,"Date",$(g,"Date")+at*M),W&&g._d.setTime(g._d.valueOf()+W*M),O&&r.updateOffset(g,at||vt))}ti.fn=Jr.prototype,ti.invalid=function(){return ti(NaN)},re=ix(1,"add"),tn=ix(-1,"subtract");function sx(g){return typeof g=="string"||g instanceof String}function qD(g){return R(g)||h(g)||sx(g)||u(g)||function(w){var M=i(w),O=!1;return M&&(O=w.filter(function(W){return!u(W)&&sx(w)}).length===0),M&&O}(g)||function(w){var M,O,W=a(w)&&!o(w),at=!1,vt=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],At=vt.length;for(M=0;M<At;M+=1)O=vt[M],at=at||s(w,O);return W&&at}(g)||g==null}function Oh(g,W){if(g.date()<W.date())return-Oh(W,g);var M=12*(W.year()-g.year())+(W.month()-g.month()),O=g.clone().add(M,"months"),W=W-O<0?(W-O)/(O-g.clone().add(M-1,"months")):(W-O)/(g.clone().add(1+M,"months")-O);return-(M+W)||0}function ox(g){return g===void 0?this._locale._abbr:((g=ue(g))!=null&&(this._locale=g),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",nt=I("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(g){return g===void 0?this.localeData():this.locale(g)});function cx(){return this._locale}var lx=126227808e5;function Po(g,w){return(g%w+w)%w}function ux(g,w,M){return g<100&&0<=g?new Date(g+400,w,M)-lx:new Date(g,w,M).valueOf()}function hx(g,w,M){return g<100&&0<=g?Date.UTC(g+400,w,M)-lx:Date.UTC(g,w,M)}function $2(g,w){return w.erasAbbrRegex(g)}function q2(){for(var g=[],w=[],M=[],O=[],W=this.eras(),at=0,vt=W.length;at<vt;++at)w.push(It(W[at].name)),g.push(It(W[at].abbr)),M.push(It(W[at].narrow)),O.push(It(W[at].name)),O.push(It(W[at].abbr)),O.push(It(W[at].narrow));this._erasRegex=new RegExp("^("+O.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+w.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+g.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+M.join("|")+")","i")}function Fh(g,w){z(0,[g,g.length],0,w)}function fx(g,w,M,O,W){var at;return g==null?Je(this,O,W).year:(at=En(g,O,W),function(vt,At,qt,Bt,pe){return vt=oe(vt,At,qt,Bt,pe),At=Vn(vt.year,0,vt.dayOfYear),this.year(At.getUTCFullYear()),this.month(At.getUTCMonth()),this.date(At.getUTCDate()),this}.call(this,g,w=at<w?at:w,M,O,W))}z("N",0,0,"eraAbbr"),z("NN",0,0,"eraAbbr"),z("NNN",0,0,"eraAbbr"),z("NNNN",0,0,"eraName"),z("NNNNN",0,0,"eraNarrow"),z("y",["y",1],"yo","eraYear"),z("y",["yy",2],0,"eraYear"),z("y",["yyy",3],0,"eraYear"),z("y",["yyyy",4],0,"eraYear"),ot("N",$2),ot("NN",$2),ot("NNN",$2),ot("NNNN",function(g,w){return w.erasNameRegex(g)}),ot("NNNNN",function(g,w){return w.erasNarrowRegex(g)}),Jt(["N","NN","NNN","NNNN","NNNNN"],function(g,w,M,O){O=M._locale.erasParse(g,O,M._strict),O?y(M).era=O:y(M).invalidEra=g}),ot("y",Ct),ot("yy",Ct),ot("yyy",Ct),ot("yyyy",Ct),ot("yo",function(g,w){return w._eraYearOrdinalRegex||Ct}),Jt(["y","yy","yyy","yyyy"],Ft),Jt(["yo"],function(g,w,M,O){var W;M._locale._eraYearOrdinalRegex&&(W=g.match(M._locale._eraYearOrdinalRegex)),M._locale.eraYearOrdinalParse?w[Ft]=M._locale.eraYearOrdinalParse(g,W):w[Ft]=parseInt(g,10)}),z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Fh("gggg","weekYear"),Fh("ggggg","weekYear"),Fh("GGGG","isoWeekYear"),Fh("GGGGG","isoWeekYear"),et("weekYear","gg"),et("isoWeekYear","GG"),Z("weekYear",1),Z("isoWeekYear",1),ot("G",dt),ot("g",dt),ot("GG",ct,de),ot("gg",ct,de),ot("GGGG",Ka,Fs),ot("gggg",Ka,Fs),ot("GGGGG",ja,Xa),ot("ggggg",ja,Xa),Te(["gggg","ggggg","GGGG","GGGGG"],function(g,w,M,O){w[O.substr(0,2)]=q(g)}),Te(["gg","GG"],function(g,w,M,O){w[O]=r.parseTwoDigitYear(g)}),z("Q",0,"Qo","quarter"),et("quarter","Q"),Z("quarter",7),ot("Q",P),Jt("Q",function(g,w){w[Vt]=3*(q(g)-1)}),z("D",["DD",2],"Do","date"),et("date","D"),Z("date",9),ot("D",ct),ot("DD",ct,de),ot("Do",function(g,w){return g?w._dayOfMonthOrdinalParse||w._ordinalParse:w._dayOfMonthOrdinalParseLenient}),Jt(["D","DD"],kt),Jt("Do",function(g,w){w[kt]=q(g.match(ct)[0])}),Ka=D("Date",!0),z("DDD",["DDDD",3],"DDDo","dayOfYear"),et("dayOfYear","DDD"),Z("dayOfYear",4),ot("DDD",Ot),ot("DDDD",K),Jt(["DDD","DDDD"],function(g,w,M){M._dayOfYear=q(g)}),z("m",["mm",2],0,"minute"),et("minute","m"),Z("minute",14),ot("m",ct),ot("mm",ct,de),Jt(["m","mm"],Et);var Ga,Fs=D("Minutes",!1),ja=(z("s",["ss",2],0,"second"),et("second","s"),Z("second",15),ot("s",ct),ot("ss",ct,de),Jt(["s","ss"],xt),D("Seconds",!1));for(z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),et("millisecond","ms"),Z("millisecond",16),ot("S",Ot,P),ot("SS",Ot,de),ot("SSS",Ot,K),Ga="SSSS";Ga.length<=9;Ga+="S")ot(Ga,Ct);function VD(g,w){w[zt]=q(1e3*("0."+g))}for(Ga="S";Ga.length<=9;Ga+="S")Jt(Ga,VD);Xa=D("Milliseconds",!1),z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName"),P=L.prototype;function dx(g){return g}P.add=re,P.calendar=function(M,W){arguments.length===1&&(arguments[0]?qD(arguments[0])?(M=arguments[0],W=void 0):function(at){for(var vt=a(at)&&!o(at),At=!1,qt=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Bt=0;Bt<qt.length;Bt+=1)At=At||s(at,qt[Bt]);return vt&&At}(arguments[0])&&(W=arguments[0],M=void 0):W=M=void 0);var M=M||Pe(),O=Cr(M,this).startOf("day"),O=r.calendarFormat(this,O)||"sameElse",W=W&&(v(W[O])?W[O].call(this,M):W[O]);return this.format(W||this.localeData().calendar(O,this,Pe(M)))},P.clone=function(){return new L(this)},P.diff=function(g,w,M){var O,W,at;if(!this.isValid())return NaN;if(!(O=Cr(g,this)).isValid())return NaN;switch(W=6e4*(O.utcOffset()-this.utcOffset()),w=ft(w)){case"year":at=Oh(this,O)/12;break;case"month":at=Oh(this,O);break;case"quarter":at=Oh(this,O)/3;break;case"second":at=(this-O)/1e3;break;case"minute":at=(this-O)/6e4;break;case"hour":at=(this-O)/36e5;break;case"day":at=(this-O-W)/864e5;break;case"week":at=(this-O-W)/6048e5;break;default:at=this-O}return M?at:H(at)},P.endOf=function(g){var w,M;if((g=ft(g))===void 0||g==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?hx:ux,g){case"year":w=M(this.year()+1,0,1)-1;break;case"quarter":w=M(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":w=M(this.year(),this.month()+1,1)-1;break;case"week":w=M(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":w=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":w=M(this.year(),this.month(),this.date()+1)-1;break;case"hour":w=this._d.valueOf(),w+=36e5-Po(w+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":w=this._d.valueOf(),w+=6e4-Po(w,6e4)-1;break;case"second":w=this._d.valueOf(),w+=1e3-Po(w,1e3)-1;break}return this._d.setTime(w),r.updateOffset(this,!0),this},P.format=function(g){return g=g||(this.isUtc()?r.defaultFormatUtc:r.defaultFormat),g=j(this,g),this.localeData().postformat(g)},P.from=function(g,w){return this.isValid()&&(R(g)&&g.isValid()||Pe(g).isValid())?ti({to:this,from:g}).locale(this.locale()).humanize(!w):this.localeData().invalidDate()},P.fromNow=function(g){return this.from(Pe(),g)},P.to=function(g,w){return this.isValid()&&(R(g)&&g.isValid()||Pe(g).isValid())?ti({from:this,to:g}).locale(this.locale()).humanize(!w):this.localeData().invalidDate()},P.toNow=function(g){return this.to(Pe(),g)},P.get=function(g){return v(this[g=ft(g)])?this[g]():this},P.invalidAt=function(){return y(this).overflow},P.isAfter=function(g,w){return g=R(g)?g:Pe(g),!(!this.isValid()||!g.isValid())&&((w=ft(w)||"millisecond")==="millisecond"?this.valueOf()>g.valueOf():g.valueOf()<this.clone().startOf(w).valueOf())},P.isBefore=function(g,w){return g=R(g)?g:Pe(g),!(!this.isValid()||!g.isValid())&&((w=ft(w)||"millisecond")==="millisecond"?this.valueOf()<g.valueOf():this.clone().endOf(w).valueOf()<g.valueOf())},P.isBetween=function(g,w,M,O){return g=R(g)?g:Pe(g),w=R(w)?w:Pe(w),!!(this.isValid()&&g.isValid()&&w.isValid())&&((O=O||"()")[0]==="("?this.isAfter(g,M):!this.isBefore(g,M))&&(O[1]===")"?this.isBefore(w,M):!this.isAfter(w,M))},P.isSame=function(M,w){var M=R(M)?M:Pe(M);return!(!this.isValid()||!M.isValid())&&((w=ft(w)||"millisecond")==="millisecond"?this.valueOf()===M.valueOf():(M=M.valueOf(),this.clone().startOf(w).valueOf()<=M&&M<=this.clone().endOf(w).valueOf()))},P.isSameOrAfter=function(g,w){return this.isSame(g,w)||this.isAfter(g,w)},P.isSameOrBefore=function(g,w){return this.isSame(g,w)||this.isBefore(g,w)},P.isValid=function(){return m(this)},P.lang=nt,P.locale=ox,P.localeData=cx,P.max=Mt,P.min=Dt,P.parsingFlags=function(){return f({},y(this))},P.set=function(g,w){if(typeof g=="object")for(var M=function(at){var vt,At=[];for(vt in at)s(at,vt)&&At.push({unit:vt,priority:wt[vt]});return At.sort(function(qt,Bt){return qt.priority-Bt.priority}),At}(g=st(g)),O=M.length,W=0;W<O;W++)this[M[W].unit](g[M[W].unit]);else if(v(this[g=ft(g)]))return this[g](w);return this},P.startOf=function(g){var w,M;if((g=ft(g))===void 0||g==="millisecond"||!this.isValid())return this;switch(M=this._isUTC?hx:ux,g){case"year":w=M(this.year(),0,1);break;case"quarter":w=M(this.year(),this.month()-this.month()%3,1);break;case"month":w=M(this.year(),this.month(),1);break;case"week":w=M(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":w=M(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":w=M(this.year(),this.month(),this.date());break;case"hour":w=this._d.valueOf(),w-=Po(w+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":w=this._d.valueOf(),w-=Po(w,6e4);break;case"second":w=this._d.valueOf(),w-=Po(w,1e3);break}return this._d.setTime(w),r.updateOffset(this,!0),this},P.subtract=tn,P.toArray=function(){var g=this;return[g.year(),g.month(),g.date(),g.hour(),g.minute(),g.second(),g.millisecond()]},P.toObject=function(){var g=this;return{years:g.year(),months:g.month(),date:g.date(),hours:g.hours(),minutes:g.minutes(),seconds:g.seconds(),milliseconds:g.milliseconds()}},P.toDate=function(){return new Date(this.valueOf())},P.toISOString=function(g){if(!this.isValid())return null;var w=(g=g!==!0)?this.clone().utc():this;return w.year()<0||9999<w.year()?j(w,g?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):v(Date.prototype.toISOString)?g?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(w,"Z")):j(w,g?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},P.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var g,w="moment",M="";return this.isLocal()||(w=this.utcOffset()===0?"moment.utc":"moment.parseZone",M="Z"),w="["+w+'("]',g=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(w+g+"-MM-DD[T]HH:mm:ss.SSS"+(M+'[")]'))},typeof Symbol<"u"&&Symbol.for!=null&&(P[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},P.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},P.eraName=function(){for(var g,w=this.localeData().eras(),M=0,O=w.length;M<O;++M)if(g=this.clone().startOf("day").valueOf(),w[M].since<=g&&g<=w[M].until||w[M].until<=g&&g<=w[M].since)return w[M].name;return""},P.eraNarrow=function(){for(var g,w=this.localeData().eras(),M=0,O=w.length;M<O;++M)if(g=this.clone().startOf("day").valueOf(),w[M].since<=g&&g<=w[M].until||w[M].until<=g&&g<=w[M].since)return w[M].narrow;return""},P.eraAbbr=function(){for(var g,w=this.localeData().eras(),M=0,O=w.length;M<O;++M)if(g=this.clone().startOf("day").valueOf(),w[M].since<=g&&g<=w[M].until||w[M].until<=g&&g<=w[M].since)return w[M].abbr;return""},P.eraYear=function(){for(var g,w,M=this.localeData().eras(),O=0,W=M.length;O<W;++O)if(g=M[O].since<=M[O].until?1:-1,w=this.clone().startOf("day").valueOf(),M[O].since<=w&&w<=M[O].until||M[O].until<=w&&w<=M[O].since)return(this.year()-r(M[O].since).year())*g+M[O].offset;return this.year()},P.year=$h,P.isLeapYear=function(){return F(this.year())},P.weekYear=function(g){return fx.call(this,g,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},P.isoWeekYear=function(g){return fx.call(this,g,this.isoWeek(),this.isoWeekday(),1,4)},P.quarter=P.quarters=function(g){return g==null?Math.ceil((this.month()+1)/3):this.month(3*(g-1)+this.month()%3)},P.month=se,P.daysInMonth=function(){return gt(this.year(),this.month())},P.week=P.weeks=function(g){var w=this.localeData().week(this);return g==null?w:this.add(7*(g-w),"d")},P.isoWeek=P.isoWeeks=function(g){var w=Je(this,1,4).week;return g==null?w:this.add(7*(g-w),"d")},P.weeksInYear=function(){var g=this.localeData()._week;return En(this.year(),g.dow,g.doy)},P.weeksInWeekYear=function(){var g=this.localeData()._week;return En(this.weekYear(),g.dow,g.doy)},P.isoWeeksInYear=function(){return En(this.year(),1,4)},P.isoWeeksInISOWeekYear=function(){return En(this.isoWeekYear(),1,4)},P.date=Ka,P.day=P.days=function(g){if(!this.isValid())return g!=null?this:NaN;var w,M,O=this._isUTC?this._d.getUTCDay():this._d.getDay();return g!=null?(w=g,M=this.localeData(),g=typeof w!="string"?w:isNaN(w)?typeof(w=M.weekdaysParse(w))=="number"?w:null:parseInt(w,10),this.add(g-O,"d")):O},P.weekday=function(g){if(!this.isValid())return g!=null?this:NaN;var w=(this.day()+7-this.localeData()._week.dow)%7;return g==null?w:this.add(g-w,"d")},P.isoWeekday=function(g){return this.isValid()?g!=null?(w=g,M=this.localeData(),M=typeof w=="string"?M.weekdaysParse(w)%7||7:isNaN(w)?null:w,this.day(this.day()%7?M:M-7)):this.day()||7:g!=null?this:NaN;var w,M},P.dayOfYear=function(g){var w=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return g==null?w:this.add(g-w,"d")},P.hour=P.hours=Tt,P.minute=P.minutes=Fs,P.second=P.seconds=ja,P.millisecond=P.milliseconds=Xa,P.utcOffset=function(g,w,M){var O,W=this._offset||0;if(!this.isValid())return g!=null?this:NaN;if(g==null)return this._isUTC?W:P2(this);if(typeof g=="string"){if((g=Ds(bt,g))===null)return this}else Math.abs(g)<16&&!M&&(g*=60);return!this._isUTC&&w&&(O=P2(this)),this._offset=g,this._isUTC=!0,O!=null&&this.add(O,"m"),W!==g&&(!w||this._changeInProgress?ax(this,ti(g-W,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this},P.utc=function(g){return this.utcOffset(0,g)},P.local=function(g){return this._isUTC&&(this.utcOffset(0,g),this._isUTC=!1,g&&this.subtract(P2(this),"m")),this},P.parseZone=function(){var g;return this._tzm!=null?this.utcOffset(this._tzm,!1,!0):typeof this._i=="string"&&((g=Ds(yt,this._i))!=null?this.utcOffset(g):this.utcOffset(0,!0)),this},P.hasAlignedHourOffset=function(g){return!!this.isValid()&&(g=g?Pe(g).utcOffset():0,(this.utcOffset()-g)%60==0)},P.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},P.isLocal=function(){return!!this.isValid()&&!this._isUTC},P.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},P.isUtc=nx,P.isUTC=nx,P.zoneAbbr=function(){return this._isUTC?"UTC":""},P.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},P.dates=I("dates accessor is deprecated. Use date instead.",Ka),P.months=I("months accessor is deprecated. Use month instead",se),P.years=I("years accessor is deprecated. Use year instead",$h),P.zone=I("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(g,w){return g!=null?(this.utcOffset(g=typeof g!="string"?-g:g,w),this):-this.utcOffset()}),P.isDSTShifted=I("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var g,w={};return S(w,this),(w=Dh(w))._a?(g=(w._isUTC?p:Pe)(w._a),this._isDSTShifted=this.isValid()&&0<function(M,O,W){for(var at=Math.min(M.length,O.length),vt=Math.abs(M.length-O.length),At=0,qt=0;qt<at;qt++)(W&&M[qt]!==O[qt]||!W&&q(M[qt])!==q(O[qt]))&&At++;return At+vt}(w._a,g.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),de=_.prototype;function Ph(g,w,M,at){var W=ue(),at=p().set(at,w);return W[M](at,g)}function px(g,w,M){if(u(g)&&(w=g,g=void 0),g=g||"",w!=null)return Ph(g,w,M,"month");for(var O=[],W=0;W<12;W++)O[W]=Ph(g,W,M,"month");return O}function V2(g,w,M,O){w=(typeof g=="boolean"?u(w)&&(M=w,w=void 0):(w=g,g=!1,u(M=w)&&(M=w,w=void 0)),w||"");var W,at=ue(),vt=g?at._week.dow:0,At=[];if(M!=null)return Ph(w,(M+vt)%7,O,"day");for(W=0;W<7;W++)At[W]=Ph(w,(W+vt)%7,O,"day");return At}de.calendar=function(g,w,M){return v(g=this._calendar[g]||this._calendar.sameElse)?g.call(w,M):g},de.longDateFormat=function(g){var w=this._longDateFormat[g],M=this._longDateFormat[g.toUpperCase()];return w||!M?w:(this._longDateFormat[g]=M.match(G).map(function(O){return O==="MMMM"||O==="MM"||O==="DD"||O==="dddd"?O.slice(1):O}).join(""),this._longDateFormat[g])},de.invalidDate=function(){return this._invalidDate},de.ordinal=function(g){return this._ordinal.replace("%d",g)},de.preparse=dx,de.postformat=dx,de.relativeTime=function(g,w,M,O){var W=this._relativeTime[M];return v(W)?W(g,w,M,O):W.replace(/%d/i,g)},de.pastFuture=function(g,w){return v(g=this._relativeTime[0<g?"future":"past"])?g(w):g.replace(/%s/i,w)},de.set=function(g){var w,M;for(M in g)s(g,M)&&(v(w=g[M])?this[M]=w:this["_"+M]=w);this._config=g,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},de.eras=function(g,w){for(var M,O=this._eras||ue("en")._eras,W=0,at=O.length;W<at;++W){switch(typeof O[W].since){case"string":M=r(O[W].since).startOf("day"),O[W].since=M.valueOf();break}switch(typeof O[W].until){case"undefined":O[W].until=1/0;break;case"string":M=r(O[W].until).startOf("day").valueOf(),O[W].until=M.valueOf();break}}return O},de.erasParse=function(g,w,M){var O,W,at,vt,At,qt=this.eras();for(g=g.toUpperCase(),O=0,W=qt.length;O<W;++O)if(at=qt[O].name.toUpperCase(),vt=qt[O].abbr.toUpperCase(),At=qt[O].narrow.toUpperCase(),M)switch(w){case"N":case"NN":case"NNN":if(vt===g)return qt[O];break;case"NNNN":if(at===g)return qt[O];break;case"NNNNN":if(At===g)return qt[O];break}else if(0<=[at,vt,At].indexOf(g))return qt[O]},de.erasConvertYear=function(g,w){var M=g.since<=g.until?1:-1;return w===void 0?r(g.since).year():r(g.since).year()+(w-g.offset)*M},de.erasAbbrRegex=function(g){return s(this,"_erasAbbrRegex")||q2.call(this),g?this._erasAbbrRegex:this._erasRegex},de.erasNameRegex=function(g){return s(this,"_erasNameRegex")||q2.call(this),g?this._erasNameRegex:this._erasRegex},de.erasNarrowRegex=function(g){return s(this,"_erasNarrowRegex")||q2.call(this),g?this._erasNarrowRegex:this._erasRegex},de.months=function(g,w){return g?(i(this._months)?this._months:this._months[(this._months.isFormat||ye).test(w)?"format":"standalone"])[g.month()]:i(this._months)?this._months:this._months.standalone},de.monthsShort=function(g,w){return g?(i(this._monthsShort)?this._monthsShort:this._monthsShort[ye.test(w)?"format":"standalone"])[g.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},de.monthsParse=function(g,w,M){var O,W;if(this._monthsParseExact)return function(ie,vt,At){var qt,Bt,pe,ie=ie.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],qt=0;qt<12;++qt)pe=p([2e3,qt]),this._shortMonthsParse[qt]=this.monthsShort(pe,"").toLocaleLowerCase(),this._longMonthsParse[qt]=this.months(pe,"").toLocaleLowerCase();return At?vt==="MMM"?(Bt=Gt.call(this._shortMonthsParse,ie))!==-1?Bt:null:(Bt=Gt.call(this._longMonthsParse,ie))!==-1?Bt:null:vt==="MMM"?(Bt=Gt.call(this._shortMonthsParse,ie))!==-1||(Bt=Gt.call(this._longMonthsParse,ie))!==-1?Bt:null:(Bt=Gt.call(this._longMonthsParse,ie))!==-1||(Bt=Gt.call(this._shortMonthsParse,ie))!==-1?Bt:null}.call(this,g,w,M);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),O=0;O<12;O++)if(W=p([2e3,O]),M&&!this._longMonthsParse[O]&&(this._longMonthsParse[O]=new RegExp("^"+this.months(W,"").replace(".","")+"$","i"),this._shortMonthsParse[O]=new RegExp("^"+this.monthsShort(W,"").replace(".","")+"$","i")),M||this._monthsParse[O]||(W="^"+this.months(W,"")+"|^"+this.monthsShort(W,""),this._monthsParse[O]=new RegExp(W.replace(".",""),"i")),M&&w==="MMMM"&&this._longMonthsParse[O].test(g)||M&&w==="MMM"&&this._shortMonthsParse[O].test(g)||!M&&this._monthsParse[O].test(g))return O},de.monthsRegex=function(g){return this._monthsParseExact?(s(this,"_monthsRegex")||me.call(this),g?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ee),this._monthsStrictRegex&&g?this._monthsStrictRegex:this._monthsRegex)},de.monthsShortRegex=function(g){return this._monthsParseExact?(s(this,"_monthsRegex")||me.call(this),g?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ve),this._monthsShortStrictRegex&&g?this._monthsShortStrictRegex:this._monthsShortRegex)},de.week=function(g){return Je(g,this._week.dow,this._week.doy).week},de.firstDayOfYear=function(){return this._week.doy},de.firstDayOfWeek=function(){return this._week.dow},de.weekdays=function(g,w){return w=i(this._weekdays)?this._weekdays:this._weekdays[g&&g!==!0&&this._weekdays.isFormat.test(w)?"format":"standalone"],g===!0?Ze(w,this._week.dow):g?w[g.day()]:w},de.weekdaysMin=function(g){return g===!0?Ze(this._weekdaysMin,this._week.dow):g?this._weekdaysMin[g.day()]:this._weekdaysMin},de.weekdaysShort=function(g){return g===!0?Ze(this._weekdaysShort,this._week.dow):g?this._weekdaysShort[g.day()]:this._weekdaysShort},de.weekdaysParse=function(g,w,M){var O,W;if(this._weekdaysParseExact)return function(ie,vt,At){var qt,Bt,pe,ie=ie.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],qt=0;qt<7;++qt)pe=p([2e3,1]).day(qt),this._minWeekdaysParse[qt]=this.weekdaysMin(pe,"").toLocaleLowerCase(),this._shortWeekdaysParse[qt]=this.weekdaysShort(pe,"").toLocaleLowerCase(),this._weekdaysParse[qt]=this.weekdays(pe,"").toLocaleLowerCase();return At?vt==="dddd"?(Bt=Gt.call(this._weekdaysParse,ie))!==-1?Bt:null:vt==="ddd"?(Bt=Gt.call(this._shortWeekdaysParse,ie))!==-1?Bt:null:(Bt=Gt.call(this._minWeekdaysParse,ie))!==-1?Bt:null:vt==="dddd"?(Bt=Gt.call(this._weekdaysParse,ie))!==-1||(Bt=Gt.call(this._shortWeekdaysParse,ie))!==-1||(Bt=Gt.call(this._minWeekdaysParse,ie))!==-1?Bt:null:vt==="ddd"?(Bt=Gt.call(this._shortWeekdaysParse,ie))!==-1||(Bt=Gt.call(this._weekdaysParse,ie))!==-1||(Bt=Gt.call(this._minWeekdaysParse,ie))!==-1?Bt:null:(Bt=Gt.call(this._minWeekdaysParse,ie))!==-1||(Bt=Gt.call(this._weekdaysParse,ie))!==-1||(Bt=Gt.call(this._shortWeekdaysParse,ie))!==-1?Bt:null}.call(this,g,w,M);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),O=0;O<7;O++)if(W=p([2e3,1]).day(O),M&&!this._fullWeekdaysParse[O]&&(this._fullWeekdaysParse[O]=new RegExp("^"+this.weekdays(W,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[O]=new RegExp("^"+this.weekdaysShort(W,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[O]=new RegExp("^"+this.weekdaysMin(W,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[O]||(W="^"+this.weekdays(W,"")+"|^"+this.weekdaysShort(W,"")+"|^"+this.weekdaysMin(W,""),this._weekdaysParse[O]=new RegExp(W.replace(".",""),"i")),M&&w==="dddd"&&this._fullWeekdaysParse[O].test(g)||M&&w==="ddd"&&this._shortWeekdaysParse[O].test(g)||M&&w==="dd"&&this._minWeekdaysParse[O].test(g)||!M&&this._weekdaysParse[O].test(g))return O},de.weekdaysRegex=function(g){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||He.call(this),g?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=St),this._weekdaysStrictRegex&&g?this._weekdaysStrictRegex:this._weekdaysRegex)},de.weekdaysShortRegex=function(g){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||He.call(this),g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Rt),this._weekdaysShortStrictRegex&&g?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},de.weekdaysMinRegex=function(g){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||He.call(this),g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=te),this._weekdaysMinStrictRegex&&g?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},de.isPM=function(g){return(g+"").toLowerCase().charAt(0)==="p"},de.meridiem=function(g,w,M){return 11<g?M?"pm":"PM":M?"am":"AM"},Kt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(g){var w=g%10;return g+(q(g%100/10)===1?"th":w==1?"st":w==2?"nd":w==3?"rd":"th")}}),r.lang=I("moment.lang is deprecated. Use moment.locale instead.",Kt),r.langData=I("moment.langData is deprecated. Use moment.localeData instead.",ue);var ha=Math.abs;function gx(g,w,M,O){return w=ti(w,M),g._milliseconds+=O*w._milliseconds,g._days+=O*w._days,g._months+=O*w._months,g._bubble()}function yx(g){return g<0?Math.floor(g):Math.ceil(g)}function mx(g){return 4800*g/146097}function Y2(g){return 146097*g/4800}function fa(g){return function(){return this.as(g)}}Ot=fa("ms"),K=fa("s"),re=fa("m"),Mt=fa("h"),Dt=fa("d"),tn=fa("w"),Tt=fa("M"),Fs=fa("Q"),ja=fa("y");function Ps(g){return function(){return this.isValid()?this._data[g]:NaN}}var Xa=Ps("milliseconds"),Ka=Ps("seconds"),$h=Ps("minutes"),de=Ps("hours"),YD=Ps("days"),zD=Ps("months"),UD=Ps("years"),da=Math.round,$o={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function WD(g,w,M,O){var Bt=ti(g).abs(),pe=da(Bt.as("s")),W=da(Bt.as("m")),at=da(Bt.as("h")),vt=da(Bt.as("d")),At=da(Bt.as("M")),qt=da(Bt.as("w")),Bt=da(Bt.as("y")),pe=(pe<=M.ss?["s",pe]:pe<M.s&&["ss",pe])||W<=1&&["m"]||W<M.m&&["mm",W]||at<=1&&["h"]||at<M.h&&["hh",at]||vt<=1&&["d"]||vt<M.d&&["dd",vt];return(pe=(pe=M.w!=null?pe||qt<=1&&["w"]||qt<M.w&&["ww",qt]:pe)||At<=1&&["M"]||At<M.M&&["MM",At]||Bt<=1&&["y"]||["yy",Bt])[2]=w,pe[3]=0<+g,pe[4]=O,function(ie,rn,vn,ei,U2){return U2.relativeTime(rn||1,!!vn,ie,ei)}.apply(null,pe)}var z2=Math.abs;function qo(g){return(0<g)-(g<0)||+g}function qh(){if(!this.isValid())return this.localeData().invalidDate();var g,w,M,O,W,at,vt,At=z2(this._milliseconds)/1e3,qt=z2(this._days),Bt=z2(this._months),pe=this.asSeconds();return pe?(g=H(At/60),w=H(g/60),At%=60,g%=60,M=H(Bt/12),Bt%=12,O=At?At.toFixed(3).replace(/\.?0+$/,""):"",W=qo(this._months)!==qo(pe)?"-":"",at=qo(this._days)!==qo(pe)?"-":"",vt=qo(this._milliseconds)!==qo(pe)?"-":"",(pe<0?"-":"")+"P"+(M?W+M+"Y":"")+(Bt?W+Bt+"M":"")+(qt?at+qt+"D":"")+(w||g||At?"T":"")+(w?vt+w+"H":"")+(g?vt+g+"M":"")+(At?vt+O+"S":"")):"P0D"}var Fe=Jr.prototype;return Fe.isValid=function(){return this._isValid},Fe.abs=function(){var g=this._data;return this._milliseconds=ha(this._milliseconds),this._days=ha(this._days),this._months=ha(this._months),g.milliseconds=ha(g.milliseconds),g.seconds=ha(g.seconds),g.minutes=ha(g.minutes),g.hours=ha(g.hours),g.months=ha(g.months),g.years=ha(g.years),this},Fe.add=function(g,w){return gx(this,g,w,1)},Fe.subtract=function(g,w){return gx(this,g,w,-1)},Fe.as=function(g){if(!this.isValid())return NaN;var w,M,O=this._milliseconds;if((g=ft(g))==="month"||g==="quarter"||g==="year")switch(w=this._days+O/864e5,M=this._months+mx(w),g){case"month":return M;case"quarter":return M/3;case"year":return M/12}else switch(w=this._days+Math.round(Y2(this._months)),g){case"week":return w/7+O/6048e5;case"day":return w+O/864e5;case"hour":return 24*w+O/36e5;case"minute":return 1440*w+O/6e4;case"second":return 86400*w+O/1e3;case"millisecond":return Math.floor(864e5*w)+O;default:throw new Error("Unknown unit "+g)}},Fe.asMilliseconds=Ot,Fe.asSeconds=K,Fe.asMinutes=re,Fe.asHours=Mt,Fe.asDays=Dt,Fe.asWeeks=tn,Fe.asMonths=Tt,Fe.asQuarters=Fs,Fe.asYears=ja,Fe.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12):NaN},Fe._bubble=function(){var g=this._milliseconds,w=this._days,M=this._months,O=this._data;return 0<=g&&0<=w&&0<=M||g<=0&&w<=0&&M<=0||(g+=864e5*yx(Y2(M)+w),M=w=0),O.milliseconds=g%1e3,g=H(g/1e3),O.seconds=g%60,g=H(g/60),O.minutes=g%60,g=H(g/60),O.hours=g%24,w+=H(g/24),M+=g=H(mx(w)),w-=yx(Y2(g)),g=H(M/12),M%=12,O.days=w,O.months=M,O.years=g,this},Fe.clone=function(){return ti(this)},Fe.get=function(g){return g=ft(g),this.isValid()?this[g+"s"]():NaN},Fe.milliseconds=Xa,Fe.seconds=Ka,Fe.minutes=$h,Fe.hours=de,Fe.days=YD,Fe.weeks=function(){return H(this.days()/7)},Fe.months=zD,Fe.years=UD,Fe.humanize=function(g,w){if(!this.isValid())return this.localeData().invalidDate();var M=!1,O=$o;return typeof g=="object"&&(w=g,g=!1),typeof g=="boolean"&&(M=g),typeof w=="object"&&(O=Object.assign({},$o,w),w.s!=null&&w.ss==null&&(O.ss=w.s-1)),g=this.localeData(),w=WD(this,!M,O,g),M&&(w=g.pastFuture(+this,w)),g.postformat(w)},Fe.toISOString=qh,Fe.toString=qh,Fe.toJSON=qh,Fe.locale=ox,Fe.localeData=cx,Fe.toIsoString=I("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qh),Fe.lang=nt,z("X",0,0,"unix"),z("x",0,0,"valueOf"),ot("x",dt),ot("X",/[+-]?\d+(\.\d{1,3})?/),Jt("X",function(g,w,M){M._d=new Date(1e3*parseFloat(g))}),Jt("x",function(g,w,M){M._d=new Date(q(g))}),r.version="2.29.4",n=Pe,r.fn=P,r.min=function(){return Qn("isBefore",[].slice.call(arguments,0))},r.max=function(){return Qn("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=p,r.unix=function(g){return Pe(1e3*g)},r.months=function(g,w){return px(g,w,"months")},r.isDate=h,r.locale=Kt,r.invalid=b,r.duration=ti,r.isMoment=R,r.weekdays=function(g,w,M){return V2(g,w,M,"weekdays")},r.parseZone=function(){return Pe.apply(null,arguments).parseZone()},r.localeData=ue,r.isDuration=ua,r.monthsShort=function(g,w){return px(g,w,"monthsShort")},r.weekdaysMin=function(g,w,M){return V2(g,w,M,"weekdaysMin")},r.defineLocale=ne,r.updateLocale=function(g,w){var M,O;return w!=null?(O=ca,Ce[g]!=null&&Ce[g].parentLocale!=null?Ce[g].set(E(Ce[g]._config,w)):(w=E(O=(M=Tr(g))!=null?M._config:O,w),M==null&&(w.abbr=g),(O=new _(w)).parentLocale=Ce[g],Ce[g]=O),Kt(g)):Ce[g]!=null&&(Ce[g].parentLocale!=null?(Ce[g]=Ce[g].parentLocale,g===Kt()&&Kt(g)):Ce[g]!=null&&delete Ce[g]),Ce[g]},r.locales=function(){return V(Ce)},r.weekdaysShort=function(g,w,M){return V2(g,w,M,"weekdaysShort")},r.normalizeUnits=ft,r.relativeTimeRounding=function(g){return g===void 0?da:typeof g=="function"&&(da=g,!0)},r.relativeTimeThreshold=function(g,w){return $o[g]!==void 0&&(w===void 0?$o[g]:($o[g]=w,g==="s"&&($o.ss=w-1),!0))},r.calendarFormat=function(g,w){return(g=g.diff(w,"days",!0))<-6?"sameElse":g<-1?"lastWeek":g<0?"lastDay":g<1?"sameDay":g<2?"nextDay":g<7?"nextWeek":"sameElse"},r.prototype=P,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})})(iC);const mi=iC.exports;var x_={};Object.defineProperty(x_,"__esModule",{value:!0});var ia=x_.sanitizeUrl=void 0,DO=/^([^\w]*)(javascript|data|vbscript)/im,OO=/&#(\w+)(^\w|;)?/g,FO=/&(newline|tab);/gi,PO=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,$O=/^.+(:|&colon;)/gim,qO=[".","/"];function VO(t){return qO.indexOf(t[0])>-1}function YO(t){return t.replace(OO,function(e,n){return String.fromCharCode(n)})}function zO(t){var e=YO(t||"").replace(FO,"").replace(PO,"").trim();if(!e)return"about:blank";if(VO(e))return e;var n=e.match($O);if(!n)return e;var r=n[0];return DO.test(r)?"about:blank":e}ia=x_.sanitizeUrl=zO;function Nf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UO(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function w_(t){let e,n,r;t.length!==2?(e=Nf,n=(o,l)=>Nf(t(o),l),r=(o,l)=>t(o)-l):(e=t===Nf||t===UO?t:WO,n=t,r=t);function i(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;n(o[d],l)<0?u=d+1:h=d}while(u<h)}return u}function a(o,l,u=0,h=o.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;n(o[d],l)<=0?u=d+1:h=d}while(u<h)}return u}function s(o,l,u=0,h=o.length){const d=i(o,l,u,h-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function WO(){return 0}function HO(t){return t===null?NaN:+t}const GO=w_(Nf),jO=GO.right;w_(HO).center;const XO=jO;class bx extends Map{constructor(e,n=QO){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(vx(this,e))}has(e){return super.has(vx(this,e))}set(e,n){return super.set(KO(this,e),n)}delete(e){return super.delete(ZO(this,e))}}function vx({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function KO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ZO({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function QO(t){return t!==null&&typeof t=="object"?t.valueOf():t}var m3=Math.sqrt(50),b3=Math.sqrt(10),v3=Math.sqrt(2);function JO(t,e,n){var r,i=-1,a,s,o;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),(o=aC(t,e,n))===0||!isFinite(o))return[];if(o>0){let l=Math.round(t/o),u=Math.round(e/o);for(l*o<t&&++l,u*o>e&&--u,s=new Array(a=u-l+1);++i<a;)s[i]=(l+i)*o}else{o=-o;let l=Math.round(t*o),u=Math.round(e*o);for(l/o<t&&++l,u/o>e&&--u,s=new Array(a=u-l+1);++i<a;)s[i]=(l+i)/o}return r&&s.reverse(),s}function aC(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=m3?10:a>=b3?5:a>=v3?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=m3?10:a>=b3?5:a>=v3?2:1)}function _3(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=m3?i*=10:a>=b3?i*=5:a>=v3&&(i*=2),e<t?-i:i}function tF(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function eF(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function nF(t){return t}var If=1,G2=2,x3=3,Vh=4,_x=1e-6;function rF(t){return"translate("+t+",0)"}function iF(t){return"translate(0,"+t+")"}function aF(t){return e=>+t(e)}function sF(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function oF(){return!this.__axis}function sC(t,e){var n=[],r=null,i=null,a=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===If||t===Vh?-1:1,h=t===Vh||t===G2?"x":"y",d=t===If||t===x3?rF:iF;function f(p){var y=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,m=i==null?e.tickFormat?e.tickFormat.apply(e,n):nF:i,b=Math.max(a,0)+o,x=e.range(),k=+x[0]+l,T=+x[x.length-1]+l,S=(e.bandwidth?sF:aF)(e.copy(),l),L=p.selection?p.selection():p,R=L.selectAll(".domain").data([null]),A=L.selectAll(".tick").data(y,e).order(),I=A.exit(),C=A.enter().append("g").attr("class","tick"),N=A.select("line"),v=A.select("text");R=R.merge(R.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(C),N=N.merge(C.append("line").attr("stroke","currentColor").attr(h+"2",u*a)),v=v.merge(C.append("text").attr("fill","currentColor").attr(h,u*b).attr("dy",t===If?"0em":t===x3?"0.71em":"0.32em")),p!==L&&(R=R.transition(p),A=A.transition(p),N=N.transition(p),v=v.transition(p),I=I.transition(p).attr("opacity",_x).attr("transform",function(E){return isFinite(E=S(E))?d(E+l):this.getAttribute("transform")}),C.attr("opacity",_x).attr("transform",function(E){var _=this.parentNode.__axis;return d((_&&isFinite(_=_(E))?_:S(E))+l)})),I.remove(),R.attr("d",t===Vh||t===G2?s?"M"+u*s+","+k+"H"+l+"V"+T+"H"+u*s:"M"+l+","+k+"V"+T:s?"M"+k+","+u*s+"V"+l+"H"+T+"V"+u*s:"M"+k+","+l+"H"+T),A.attr("opacity",1).attr("transform",function(E){return d(S(E)+l)}),N.attr(h+"2",u*a),v.attr(h,u*b).text(m),L.filter(oF).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===G2?"start":t===Vh?"end":"middle"),L.each(function(){this.__axis=S})}return f.scale=function(p){return arguments.length?(e=p,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),f):n.slice()},f.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),f):r&&r.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(a=s=+p,f):a},f.tickSizeInner=function(p){return arguments.length?(a=+p,f):a},f.tickSizeOuter=function(p){return arguments.length?(s=+p,f):s},f.tickPadding=function(p){return arguments.length?(o=+p,f):o},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function cF(t){return sC(If,t)}function lF(t){return sC(x3,t)}var uF={value:()=>{}};function oC(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Bf(n)}function Bf(t){this._=t}function hF(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Bf.prototype=oC.prototype={constructor:Bf,on:function(t,e){var n=this._,r=hF(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=fF(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=xx(n[i],t.name,e);else if(e==null)for(i in n)n[i]=xx(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Bf(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function fF(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function xx(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=uF,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var w3="http://www.w3.org/1999/xhtml";const wx={svg:"http://www.w3.org/2000/svg",xhtml:w3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ud(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),wx.hasOwnProperty(e)?{space:wx[e],local:t}:t}function dF(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===w3&&e.documentElement.namespaceURI===w3?e.createElement(t):e.createElementNS(n,t)}}function pF(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function cC(t){var e=ud(t);return(e.local?pF:dF)(e)}function gF(){}function k_(t){return t==null?gF:function(){return this.querySelector(t)}}function yF(t){typeof t!="function"&&(t=k_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,u,h=0;h<s;++h)(l=a[h])&&(u=t.call(l,l.__data__,h,a))&&("__data__"in l&&(u.__data__=l.__data__),o[h]=u);return new or(r,this._parents)}function lC(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function mF(){return[]}function uC(t){return t==null?mF:function(){return this.querySelectorAll(t)}}function bF(t){return function(){return lC(t.apply(this,arguments))}}function vF(t){typeof t=="function"?t=bF(t):t=uC(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),i.push(l));return new or(r,i)}function hC(t){return function(){return this.matches(t)}}function fC(t){return function(e){return e.matches(t)}}var _F=Array.prototype.find;function xF(t){return function(){return _F.call(this.children,t)}}function wF(){return this.firstElementChild}function kF(t){return this.select(t==null?wF:xF(typeof t=="function"?t:fC(t)))}var TF=Array.prototype.filter;function EF(){return Array.from(this.children)}function CF(t){return function(){return TF.call(this.children,t)}}function SF(t){return this.selectAll(t==null?EF:CF(typeof t=="function"?t:fC(t)))}function AF(t){typeof t!="function"&&(t=hC(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new or(r,this._parents)}function dC(t){return new Array(t.length)}function MF(){return new or(this._enter||this._groups.map(dC),this._parents)}function h1(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}h1.prototype={constructor:h1,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function LF(t){return function(){return t}}function RF(t,e,n,r,i,a){for(var s=0,o,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new h1(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function NF(t,e,n,r,i,a,s){var o,l,u=new Map,h=e.length,d=a.length,f=new Array(h),p;for(o=0;o<h;++o)(l=e[o])&&(f[o]=p=s.call(l,l.__data__,o,e)+"",u.has(p)?i[o]=l:u.set(p,l));for(o=0;o<d;++o)p=s.call(t,a[o],o,a)+"",(l=u.get(p))?(r[o]=l,l.__data__=a[o],u.delete(p)):n[o]=new h1(t,a[o]);for(o=0;o<h;++o)(l=e[o])&&u.get(f[o])===l&&(i[o]=l)}function IF(t){return t.__data__}function BF(t,e){if(!arguments.length)return Array.from(this,IF);var n=e?NF:RF,r=this._parents,i=this._groups;typeof t!="function"&&(t=LF(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var h=r[u],d=i[u],f=d.length,p=DF(t.call(h,h&&h.__data__,u,r)),y=p.length,m=o[u]=new Array(y),b=s[u]=new Array(y),x=l[u]=new Array(f);n(h,d,m,b,x,p,e);for(var k=0,T=0,S,L;k<y;++k)if(S=m[k]){for(k>=T&&(T=k+1);!(L=b[T])&&++T<y;);S._next=L||null}}return s=new or(s,r),s._enter=o,s._exit=l,s}function DF(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function OF(){return new or(this._exit||this._groups.map(dC),this._parents)}function FF(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function PF(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,s=Math.min(i,a),o=new Array(i),l=0;l<s;++l)for(var u=n[l],h=r[l],d=u.length,f=o[l]=new Array(d),p,y=0;y<d;++y)(p=u[y]||h[y])&&(f[y]=p);for(;l<i;++l)o[l]=n[l];return new or(o,this._parents)}function $F(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function qF(t){t||(t=VF);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),u,h=0;h<o;++h)(u=s[h])&&(l[h]=u);l.sort(e)}return new or(i,this._parents).order()}function VF(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function YF(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function zF(){return Array.from(this)}function UF(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function WF(){let t=0;for(const e of this)++t;return t}function HF(){return!this.node()}function GF(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function jF(t){return function(){this.removeAttribute(t)}}function XF(t){return function(){this.removeAttributeNS(t.space,t.local)}}function KF(t,e){return function(){this.setAttribute(t,e)}}function ZF(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function QF(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function JF(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function tP(t,e){var n=ud(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?XF:jF:typeof e=="function"?n.local?JF:QF:n.local?ZF:KF)(n,e))}function pC(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function eP(t){return function(){this.style.removeProperty(t)}}function nP(t,e,n){return function(){this.style.setProperty(t,e,n)}}function rP(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function iP(t,e,n){return arguments.length>1?this.each((e==null?eP:typeof e=="function"?rP:nP)(t,e,n==null?"":n)):mc(this.node(),t)}function mc(t,e){return t.style.getPropertyValue(e)||pC(t).getComputedStyle(t,null).getPropertyValue(e)}function aP(t){return function(){delete this[t]}}function sP(t,e){return function(){this[t]=e}}function oP(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function cP(t,e){return arguments.length>1?this.each((e==null?aP:typeof e=="function"?oP:sP)(t,e)):this.node()[t]}function gC(t){return t.trim().split(/^|\s+/)}function T_(t){return t.classList||new yC(t)}function yC(t){this._node=t,this._names=gC(t.getAttribute("class")||"")}yC.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function mC(t,e){for(var n=T_(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function bC(t,e){for(var n=T_(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function lP(t){return function(){mC(this,t)}}function uP(t){return function(){bC(this,t)}}function hP(t,e){return function(){(e.apply(this,arguments)?mC:bC)(this,t)}}function fP(t,e){var n=gC(t+"");if(arguments.length<2){for(var r=T_(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?hP:e?lP:uP)(n,e))}function dP(){this.textContent=""}function pP(t){return function(){this.textContent=t}}function gP(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function yP(t){return arguments.length?this.each(t==null?dP:(typeof t=="function"?gP:pP)(t)):this.node().textContent}function mP(){this.innerHTML=""}function bP(t){return function(){this.innerHTML=t}}function vP(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function _P(t){return arguments.length?this.each(t==null?mP:(typeof t=="function"?vP:bP)(t)):this.node().innerHTML}function xP(){this.nextSibling&&this.parentNode.appendChild(this)}function wP(){return this.each(xP)}function kP(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function TP(){return this.each(kP)}function EP(t){var e=typeof t=="function"?t:cC(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function CP(){return null}function SP(t,e){var n=typeof t=="function"?t:cC(t),r=e==null?CP:typeof e=="function"?e:k_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function AP(){var t=this.parentNode;t&&t.removeChild(this)}function MP(){return this.each(AP)}function LP(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function RP(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function NP(t){return this.select(t?RP:LP)}function IP(t){return arguments.length?this.property("__data__",t):this.node().__data__}function BP(t){return function(e){t.call(this,e,this.__data__)}}function DP(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function OP(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function FP(t,e,n){return function(){var r=this.__on,i,a=BP(e);if(r){for(var s=0,o=r.length;s<o;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function PP(t,e,n){var r=DP(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,h;l<u;++l)for(i=0,h=o[l];i<a;++i)if((s=r[i]).type===h.type&&s.name===h.name)return h.value}return}for(o=e?FP:OP,i=0;i<a;++i)this.each(o(r[i],e,n));return this}function vC(t,e,n){var r=pC(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $P(t,e){return function(){return vC(this,t,e)}}function qP(t,e){return function(){return vC(this,t,e.apply(this,arguments))}}function VP(t,e){return this.each((typeof e=="function"?qP:$P)(t,e))}function*YP(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var E_=[null];function or(t,e){this._groups=t,this._parents=e}function lh(){return new or([[document.documentElement]],E_)}function zP(){return this}or.prototype=lh.prototype={constructor:or,select:yF,selectAll:vF,selectChild:kF,selectChildren:SF,filter:AF,data:BF,enter:MF,exit:OF,join:FF,merge:PF,selection:zP,order:$F,sort:qF,call:YF,nodes:zF,node:UF,size:WF,empty:HF,each:GF,attr:tP,style:iP,property:cP,classed:fP,text:yP,html:_P,raise:wP,lower:TP,append:EP,insert:SP,remove:MP,clone:NP,datum:IP,on:PP,dispatch:VP,[Symbol.iterator]:YP};function Lt(t){return typeof t=="string"?new or([[document.querySelector(t)]],[document.documentElement]):new or([[t]],E_)}function C_(t){return typeof t=="string"?new or([document.querySelectorAll(t)],[document.documentElement]):new or([lC(t)],E_)}function uh(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hd(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function To(){}var bu=.7,f1=1/bu,ac="\\s*([+-]?\\d+)\\s*",vu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UP=/^#([0-9a-f]{3,8})$/,WP=new RegExp(`^rgb\\(${ac},${ac},${ac}\\)$`),HP=new RegExp(`^rgb\\(${Gi},${Gi},${Gi}\\)$`),GP=new RegExp(`^rgba\\(${ac},${ac},${ac},${vu}\\)$`),jP=new RegExp(`^rgba\\(${Gi},${Gi},${Gi},${vu}\\)$`),XP=new RegExp(`^hsl\\(${vu},${Gi},${Gi}\\)$`),KP=new RegExp(`^hsla\\(${vu},${Gi},${Gi},${vu}\\)$`),kx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uh(To,ro,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Tx,formatHex:Tx,formatHex8:ZP,formatHsl:QP,formatRgb:Ex,toString:Ex});function Tx(){return this.rgb().formatHex()}function ZP(){return this.rgb().formatHex8()}function QP(){return xC(this).formatHsl()}function Ex(){return this.rgb().formatRgb()}function ro(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=UP.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Cx(e):n===3?new Kn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=WP.exec(t))?new Kn(e[1],e[2],e[3],1):(e=HP.exec(t))?new Kn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=GP.exec(t))?Yh(e[1],e[2],e[3],e[4]):(e=jP.exec(t))?Yh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=XP.exec(t))?Mx(e[1],e[2]/100,e[3]/100,1):(e=KP.exec(t))?Mx(e[1],e[2]/100,e[3]/100,e[4]):kx.hasOwnProperty(t)?Cx(kx[t]):t==="transparent"?new Kn(NaN,NaN,NaN,0):null}function Cx(t){return new Kn(t>>16&255,t>>8&255,t&255,1)}function Yh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kn(t,e,n,r)}function _C(t){return t instanceof To||(t=ro(t)),t?(t=t.rgb(),new Kn(t.r,t.g,t.b,t.opacity)):new Kn}function k3(t,e,n,r){return arguments.length===1?_C(t):new Kn(t,e,n,r==null?1:r)}function Kn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}uh(Kn,k3,hd(To,{brighter(t){return t=t==null?f1:Math.pow(f1,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bu:Math.pow(bu,t),new Kn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kn(Js(this.r),Js(this.g),Js(this.b),d1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sx,formatHex:Sx,formatHex8:JP,formatRgb:Ax,toString:Ax}));function Sx(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}`}function JP(){return`#${Ks(this.r)}${Ks(this.g)}${Ks(this.b)}${Ks((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ax(){const t=d1(this.opacity);return`${t===1?"rgb(":"rgba("}${Js(this.r)}, ${Js(this.g)}, ${Js(this.b)}${t===1?")":`, ${t})`}`}function d1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Js(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ks(t){return t=Js(t),(t<16?"0":"")+t.toString(16)}function Mx(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new si(t,e,n,r)}function xC(t){if(t instanceof si)return new si(t.h,t.s,t.l,t.opacity);if(t instanceof To||(t=ro(t)),!t)return new si;if(t instanceof si)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new si(s,o,l,t.opacity)}function t$(t,e,n,r){return arguments.length===1?xC(t):new si(t,e,n,r==null?1:r)}function si(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}uh(si,t$,hd(To,{brighter(t){return t=t==null?f1:Math.pow(f1,t),new si(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bu:Math.pow(bu,t),new si(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Kn(j2(t>=240?t-240:t+120,i,r),j2(t,i,r),j2(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new si(Lx(this.h),zh(this.s),zh(this.l),d1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=d1(this.opacity);return`${t===1?"hsl(":"hsla("}${Lx(this.h)}, ${zh(this.s)*100}%, ${zh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Lx(t){return t=(t||0)%360,t<0?t+360:t}function zh(t){return Math.max(0,Math.min(1,t||0))}function j2(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const e$=Math.PI/180,n$=180/Math.PI,p1=18,wC=.96422,kC=1,TC=.82521,EC=4/29,sc=6/29,CC=3*sc*sc,r$=sc*sc*sc;function SC(t){if(t instanceof ji)return new ji(t.l,t.a,t.b,t.opacity);if(t instanceof Aa)return AC(t);t instanceof Kn||(t=_C(t));var e=Q2(t.r),n=Q2(t.g),r=Q2(t.b),i=X2((.2225045*e+.7168786*n+.0606169*r)/kC),a,s;return e===n&&n===r?a=s=i:(a=X2((.4360747*e+.3850649*n+.1430804*r)/wC),s=X2((.0139322*e+.0971045*n+.7141733*r)/TC)),new ji(116*i-16,500*(a-i),200*(i-s),t.opacity)}function i$(t,e,n,r){return arguments.length===1?SC(t):new ji(t,e,n,r==null?1:r)}function ji(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}uh(ji,i$,hd(To,{brighter(t){return new ji(this.l+p1*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new ji(this.l-p1*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=wC*K2(e),t=kC*K2(t),n=TC*K2(n),new Kn(Z2(3.1338561*e-1.6168667*t-.4906146*n),Z2(-.9787684*e+1.9161415*t+.033454*n),Z2(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function X2(t){return t>r$?Math.pow(t,1/3):t/CC+EC}function K2(t){return t>sc?t*t*t:CC*(t-EC)}function Z2(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Q2(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function a$(t){if(t instanceof Aa)return new Aa(t.h,t.c,t.l,t.opacity);if(t instanceof ji||(t=SC(t)),t.a===0&&t.b===0)return new Aa(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*n$;return new Aa(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function T3(t,e,n,r){return arguments.length===1?a$(t):new Aa(t,e,n,r==null?1:r)}function Aa(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function AC(t){if(isNaN(t.h))return new ji(t.l,0,0,t.opacity);var e=t.h*e$;return new ji(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}uh(Aa,T3,hd(To,{brighter(t){return new Aa(this.h,this.c,this.l+p1*(t==null?1:t),this.opacity)},darker(t){return new Aa(this.h,this.c,this.l-p1*(t==null?1:t),this.opacity)},rgb(){return AC(this).rgb()}}));const fd=t=>()=>t;function MC(t,e){return function(n){return t+n*e}}function s$(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function o$(t,e){var n=e-t;return n?MC(t,n>180||n<-180?n-360*Math.round(n/360):n):fd(isNaN(t)?e:t)}function c$(t){return(t=+t)==1?eu:function(e,n){return n-e?s$(e,n,t):fd(isNaN(e)?n:e)}}function eu(t,e){var n=e-t;return n?MC(t,n):fd(isNaN(t)?e:t)}const g1=function t(e){var n=c$(e);function r(i,a){var s=n((i=k3(i)).r,(a=k3(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=eu(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function l$(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function u$(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function h$(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=S_(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function f$(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ai(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function d$(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=S_(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var E3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,J2=new RegExp(E3.source,"g");function p$(t){return function(){return t}}function g$(t){return function(e){return t(e)+""}}function LC(t,e){var n=E3.lastIndex=J2.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=E3.exec(t))&&(i=J2.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:ai(r,i)})),n=J2.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?g$(l[0].x):p$(e):(e=l.length,function(u){for(var h=0,d;h<e;++h)o[(d=l[h]).i]=d.x(u);return o.join("")})}function S_(t,e){var n=typeof e,r;return e==null||n==="boolean"?fd(e):(n==="number"?ai:n==="string"?(r=ro(e))?(e=r,g1):LC:e instanceof ro?g1:e instanceof Date?f$:u$(e)?l$:Array.isArray(e)?h$:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?d$:ai)(t,e)}function y$(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Rx=180/Math.PI,C3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function RC(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Rx,skewX:Math.atan(l)*Rx,scaleX:s,scaleY:o}}var Uh;function m$(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?C3:RC(e.a,e.b,e.c,e.d,e.e,e.f)}function b$(t){return t==null||(Uh||(Uh=document.createElementNS("http://www.w3.org/2000/svg","g")),Uh.setAttribute("transform",t),!(t=Uh.transform.baseVal.consolidate()))?C3:(t=t.matrix,RC(t.a,t.b,t.c,t.d,t.e,t.f))}function NC(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,h,d,f,p,y){if(u!==d||h!==f){var m=p.push("translate(",null,e,null,n);y.push({i:m-4,x:ai(u,d)},{i:m-2,x:ai(h,f)})}else(d||f)&&p.push("translate("+d+e+f+n)}function s(u,h,d,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:ai(u,h)})):h&&d.push(i(d)+"rotate("+h+r)}function o(u,h,d,f){u!==h?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:ai(u,h)}):h&&d.push(i(d)+"skewX("+h+r)}function l(u,h,d,f,p,y){if(u!==d||h!==f){var m=p.push(i(p)+"scale(",null,",",null,")");y.push({i:m-4,x:ai(u,d)},{i:m-2,x:ai(h,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(u,h){var d=[],f=[];return u=t(u),h=t(h),a(u.translateX,u.translateY,h.translateX,h.translateY,d,f),s(u.rotate,h.rotate,d,f),o(u.skewX,h.skewX,d,f),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,f),u=h=null,function(p){for(var y=-1,m=f.length,b;++y<m;)d[(b=f[y]).i]=b.x(p);return d.join("")}}}var v$=NC(m$,"px, ","px)","deg)"),_$=NC(b$,", ",")",")");function x$(t){return function(e,n){var r=t((e=T3(e)).h,(n=T3(n)).h),i=eu(e.c,n.c),a=eu(e.l,n.l),s=eu(e.opacity,n.opacity);return function(o){return e.h=r(o),e.c=i(o),e.l=a(o),e.opacity=s(o),e+""}}}const w$=x$(o$);var bc=0,Ll=0,cl=0,IC=1e3,y1,Rl,m1=0,io=0,dd=0,_u=typeof performance=="object"&&performance.now?performance:Date,BC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function A_(){return io||(BC(k$),io=_u.now()+dd)}function k$(){io=0}function b1(){this._call=this._time=this._next=null}b1.prototype=DC.prototype={constructor:b1,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?A_():+n)+(e==null?0:+e),!this._next&&Rl!==this&&(Rl?Rl._next=this:y1=this,Rl=this),this._call=t,this._time=n,S3()},stop:function(){this._call&&(this._call=null,this._time=1/0,S3())}};function DC(t,e,n){var r=new b1;return r.restart(t,e,n),r}function T$(){A_(),++bc;for(var t=y1,e;t;)(e=io-t._time)>=0&&t._call.call(void 0,e),t=t._next;--bc}function Nx(){io=(m1=_u.now())+dd,bc=Ll=0;try{T$()}finally{bc=0,C$(),io=0}}function E$(){var t=_u.now(),e=t-m1;e>IC&&(dd-=e,m1=t)}function C$(){for(var t,e=y1,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:y1=n);Rl=t,S3(r)}function S3(t){if(!bc){Ll&&(Ll=clearTimeout(Ll));var e=t-io;e>24?(t<1/0&&(Ll=setTimeout(Nx,t-_u.now()-dd)),cl&&(cl=clearInterval(cl))):(cl||(m1=_u.now(),cl=setInterval(E$,IC)),bc=1,BC(Nx))}}function Ix(t,e,n){var r=new b1;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var S$=oC("start","end","cancel","interrupt"),A$=[],OC=0,Bx=1,A3=2,Df=3,Dx=4,M3=5,Of=6;function pd(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;M$(t,n,{name:e,index:r,group:i,on:S$,tween:A$,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:OC})}function M_(t,e){var n=wi(t,e);if(n.state>OC)throw new Error("too late; already scheduled");return n}function aa(t,e){var n=wi(t,e);if(n.state>Df)throw new Error("too late; already running");return n}function wi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function M$(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=DC(a,0,n.time);function a(u){n.state=Bx,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var h,d,f,p;if(n.state!==Bx)return l();for(h in r)if(p=r[h],p.name===n.name){if(p.state===Df)return Ix(s);p.state===Dx?(p.state=Of,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[h]):+h<e&&(p.state=Of,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[h])}if(Ix(function(){n.state===Df&&(n.state=Dx,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=A3,n.on.call("start",t,t.__data__,n.index,n.group),n.state===A3){for(n.state=Df,i=new Array(f=n.tween.length),h=0,d=-1;h<f;++h)(p=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function o(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=M3,1),d=-1,f=i.length;++d<f;)i[d].call(t,h);n.state===M3&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Of,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function L$(t,e){var n=t.__transition,r,i,a=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>A3&&r.state<M3,r.state=Of,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function R$(t){return this.each(function(){L$(this,t)})}function N$(t,e){var n,r;return function(){var i=aa(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function I$(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=aa(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function B$(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=wi(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?N$:I$)(n,t,e))}function L_(t,e,n){var r=t._id;return t.each(function(){var i=aa(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return wi(i,r).value[e]}}function FC(t,e){var n;return(typeof e=="number"?ai:e instanceof ro?g1:(n=ro(e))?(e=n,g1):LC)(t,e)}function D$(t){return function(){this.removeAttribute(t)}}function O$(t){return function(){this.removeAttributeNS(t.space,t.local)}}function F$(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function P$(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function $$(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function q$(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function V$(t,e){var n=ud(t),r=n==="transform"?_$:FC;return this.attrTween(t,typeof e=="function"?(n.local?q$:$$)(n,r,L_(this,"attr."+t,e)):e==null?(n.local?O$:D$)(n):(n.local?P$:F$)(n,r,e))}function Y$(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function z$(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function U$(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&z$(t,a)),n}return i._value=e,i}function W$(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Y$(t,a)),n}return i._value=e,i}function H$(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ud(t);return this.tween(n,(r.local?U$:W$)(r,e))}function G$(t,e){return function(){M_(this,t).delay=+e.apply(this,arguments)}}function j$(t,e){return e=+e,function(){M_(this,t).delay=e}}function X$(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?G$:j$)(e,t)):wi(this.node(),e).delay}function K$(t,e){return function(){aa(this,t).duration=+e.apply(this,arguments)}}function Z$(t,e){return e=+e,function(){aa(this,t).duration=e}}function Q$(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?K$:Z$)(e,t)):wi(this.node(),e).duration}function J$(t,e){if(typeof e!="function")throw new Error;return function(){aa(this,t).ease=e}}function tq(t){var e=this._id;return arguments.length?this.each(J$(e,t)):wi(this.node(),e).ease}function eq(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;aa(this,t).ease=n}}function nq(t){if(typeof t!="function")throw new Error;return this.each(eq(this._id,t))}function rq(t){typeof t!="function"&&(t=hC(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new Fa(r,this._parents,this._name,this._id)}function iq(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],u=n[o],h=l.length,d=s[o]=new Array(h),f,p=0;p<h;++p)(f=l[p]||u[p])&&(d[p]=f);for(;o<r;++o)s[o]=e[o];return new Fa(s,this._parents,this._name,this._id)}function aq(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function sq(t,e,n){var r,i,a=aq(e)?M_:aa;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function oq(t,e){var n=this._id;return arguments.length<2?wi(this.node(),n).on.on(t):this.each(sq(n,t,e))}function cq(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function lq(){return this.on("end.remove",cq(this._id))}function uq(t){var e=this._name,n=this._id;typeof t!="function"&&(t=k_(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,u=a[s]=new Array(l),h,d,f=0;f<l;++f)(h=o[f])&&(d=t.call(h,h.__data__,f,o))&&("__data__"in h&&(d.__data__=h.__data__),u[f]=d,pd(u[f],e,n,f,u,wi(h,n)));return new Fa(a,this._parents,e,n)}function hq(t){var e=this._name,n=this._id;typeof t!="function"&&(t=uC(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],u=l.length,h,d=0;d<u;++d)if(h=l[d]){for(var f=t.call(h,h.__data__,d,l),p,y=wi(h,n),m=0,b=f.length;m<b;++m)(p=f[m])&&pd(p,e,n,m,f,y);a.push(f),s.push(h)}return new Fa(a,s,e,n)}var fq=lh.prototype.constructor;function dq(){return new fq(this._groups,this._parents)}function pq(t,e){var n,r,i;return function(){var a=mc(this,t),s=(this.style.removeProperty(t),mc(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function PC(t){return function(){this.style.removeProperty(t)}}function gq(t,e,n){var r,i=n+"",a;return function(){var s=mc(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function yq(t,e,n){var r,i,a;return function(){var s=mc(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),mc(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function mq(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=aa(this,t),u=l.on,h=l.value[a]==null?o||(o=PC(e)):void 0;(u!==n||i!==h)&&(r=(n=u).copy()).on(s,i=h),l.on=r}}function bq(t,e,n){var r=(t+="")=="transform"?v$:FC;return e==null?this.styleTween(t,pq(t,r)).on("end.style."+t,PC(t)):typeof e=="function"?this.styleTween(t,yq(t,r,L_(this,"style."+t,e))).each(mq(this._id,t)):this.styleTween(t,gq(t,r,e),n).on("end.style."+t,null)}function vq(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function _q(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&vq(t,s,n)),r}return a._value=e,a}function xq(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,_q(t,e,n==null?"":n))}function wq(t){return function(){this.textContent=t}}function kq(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Tq(t){return this.tween("text",typeof t=="function"?kq(L_(this,"text",t)):wq(t==null?"":t+""))}function Eq(t){return function(e){this.textContent=t.call(this,e)}}function Cq(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Eq(i)),e}return r._value=t,r}function Sq(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Cq(t))}function Aq(){for(var t=this._name,e=this._id,n=$C(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var h=wi(l,e);pd(l,t,n,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Fa(r,this._parents,t,n)}function Mq(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var u=aa(this,r),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e}),i===0&&a()})}var Lq=0;function Fa(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function $C(){return++Lq}var ga=lh.prototype;Fa.prototype={constructor:Fa,select:uq,selectAll:hq,selectChild:ga.selectChild,selectChildren:ga.selectChildren,filter:rq,merge:iq,selection:dq,transition:Aq,call:ga.call,nodes:ga.nodes,node:ga.node,size:ga.size,empty:ga.empty,each:ga.each,on:oq,attr:V$,attrTween:H$,style:bq,styleTween:xq,text:Tq,textTween:Sq,remove:lq,tween:B$,delay:X$,duration:Q$,ease:tq,easeVarying:nq,end:Mq,[Symbol.iterator]:ga[Symbol.iterator]};function Rq(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Nq={time:null,delay:0,duration:250,ease:Rq};function Iq(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Bq(t){var e,n;t instanceof Fa?(e=t._id,t=t._name):(e=$C(),(n=Nq).time=A_(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&pd(l,t,e,u,s,n||Iq(l,e));return new Fa(r,this._parents,t,e)}lh.prototype.interrupt=R$;lh.prototype.transition=Bq;const L3=Math.PI,R3=2*L3,Us=1e-6,Dq=R3-Us;function N3(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function R_(){return new N3}N3.prototype=R_.prototype={constructor:N3,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,s=this._y1,o=n-t,l=r-e,u=a-t,h=s-e,d=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Us)if(!(Math.abs(h*o-l*u)>Us)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var f=n-a,p=r-s,y=o*o+l*l,m=f*f+p*p,b=Math.sqrt(y),x=Math.sqrt(d),k=i*Math.tan((L3-Math.acos((y+d-m)/(2*b*x)))/2),T=k/x,S=k/b;Math.abs(T-1)>Us&&(this._+="L"+(t+T*u)+","+(e+T*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>u*p)+","+(this._x1=t+S*o)+","+(this._y1=e+S*l)}},arc:function(t,e,n,r,i,a){t=+t,e=+e,n=+n,a=!!a;var s=n*Math.cos(r),o=n*Math.sin(r),l=t+s,u=e+o,h=1^a,d=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Us||Math.abs(this._y1-u)>Us)&&(this._+="L"+l+","+u),n&&(d<0&&(d=d%R3+R3),d>Dq?this._+="A"+n+","+n+",0,1,"+h+","+(t-s)+","+(e-o)+"A"+n+","+n+",0,1,"+h+","+(this._x1=l)+","+(this._y1=u):d>Us&&(this._+="A"+n+","+n+",0,"+ +(d>=L3)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Oq(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function v1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vc(t){return t=v1(Math.abs(t)),t?t[1]:NaN}function Fq(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Pq(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var $q=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _1(t){if(!(e=$q.exec(t)))throw new Error("invalid format: "+t);var e;return new N_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_1.prototype=N_.prototype;function N_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}N_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qq(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var qC;function Vq(t,e){var n=v1(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(qC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+v1(t,Math.max(0,e+a-1))[0]}function Ox(t,e){var n=v1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Fx={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Oq,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ox(t*100,e),r:Ox,s:Vq,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Px(t){return t}var $x=Array.prototype.map,qx=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Yq(t){var e=t.grouping===void 0||t.thousands===void 0?Px:Fq($x.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Px:Pq($x.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"\u2212":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=_1(d);var f=d.fill,p=d.align,y=d.sign,m=d.symbol,b=d.zero,x=d.width,k=d.comma,T=d.precision,S=d.trim,L=d.type;L==="n"?(k=!0,L="g"):Fx[L]||(T===void 0&&(T=12),S=!0,L="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var R=m==="$"?n:m==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",A=m==="$"?r:/[%p]/.test(L)?s:"",I=Fx[L],C=/[defgprs%]/.test(L);T=T===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function N(v){var E=R,_=A,V,B,G;if(L==="c")_=I(v)+_,v="";else{v=+v;var tt=v<0||1/v<0;if(v=isNaN(v)?l:I(Math.abs(v),T),S&&(v=qq(v)),tt&&+v==0&&y!=="+"&&(tt=!1),E=(tt?y==="("?y:o:y==="-"||y==="("?"":y)+E,_=(L==="s"?qx[8+qC/3]:"")+_+(tt&&y==="("?")":""),C){for(V=-1,B=v.length;++V<B;)if(G=v.charCodeAt(V),48>G||G>57){_=(G===46?i+v.slice(V+1):v.slice(V))+_,v=v.slice(0,V);break}}}k&&!b&&(v=e(v,1/0));var ut=E.length+v.length+_.length,X=ut<x?new Array(x-ut+1).join(f):"";switch(k&&b&&(v=e(X+v,X.length?x-_.length:1/0),X=""),p){case"<":v=E+v+_+X;break;case"=":v=E+X+v+_;break;case"^":v=X.slice(0,ut=X.length>>1)+E+v+_+X.slice(ut);break;default:v=X+E+v+_;break}return a(v)}return N.toString=function(){return d+""},N}function h(d,f){var p=u((d=_1(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(vc(f)/3)))*3,m=Math.pow(10,-y),b=qx[8+y/3];return function(x){return p(m*x)+b}}return{format:u,formatPrefix:h}}var Wh,VC,YC;zq({thousands:",",grouping:[3],currency:["$",""]});function zq(t){return Wh=Yq(t),VC=Wh.format,YC=Wh.formatPrefix,Wh}function Uq(t){return Math.max(0,-vc(Math.abs(t)))}function Wq(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vc(e)/3)))*3-vc(Math.abs(t)))}function Hq(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vc(e)-vc(t))+1}function I_(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}const Vx=Symbol("implicit");function zC(){var t=new bx,e=[],n=[],r=Vx;function i(a){let s=t.get(a);if(s===void 0){if(r!==Vx)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new bx;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return zC(e,n).unknown(r)},I_.apply(i,arguments),i}function Gq(t){return function(){return t}}function jq(t){return+t}var Yx=[0,1];function Zo(t){return t}function I3(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Gq(isNaN(e)?NaN:.5)}function Xq(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Kq(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=I3(i,r),a=n(s,a)):(r=I3(r,i),a=n(a,s)),function(o){return a(r(o))}}function Zq(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=I3(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=XO(t,o,1,r)-1;return a[l](i[l](o))}}function UC(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qq(){var t=Yx,e=Yx,n=S_,r,i,a,s=Zo,o,l,u;function h(){var f=Math.min(t.length,e.length);return s!==Zo&&(s=Xq(t[0],t[f-1])),o=f>2?Zq:Kq,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?a:(l||(l=o(t.map(r),e,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=o(e,t.map(r),ai)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,jq),h()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),h()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=y$,h()},d.clamp=function(f){return arguments.length?(s=f?!0:Zo,h()):s!==Zo},d.interpolate=function(f){return arguments.length?(n=f,h()):n},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,p){return r=f,i=p,h()}}function WC(){return Qq()(Zo,Zo)}function Jq(t,e,n,r){var i=_3(t,e,n),a;switch(r=_1(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Wq(i,s))&&(r.precision=a),YC(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Hq(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Uq(i))&&(r.precision=a-(r.type==="%")*2);break}}return VC(r)}function tV(t){var e=t.domain;return t.ticks=function(n){var r=e();return JO(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return Jq(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,h=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);h-- >0;){if(u=aC(s,o,n),u===l)return r[i]=s,r[a]=o,e(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function HC(){var t=WC();return t.copy=function(){return UC(t,HC())},I_.apply(t,arguments),tV(t)}function eV(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}var tp=new Date,ep=new Date;function Bn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return t(a=new Date(+a)),a},i.ceil=function(a){return t(a=new Date(a-1)),e(a,1),t(a),a},i.round=function(a){var s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=function(a,s){return e(a=new Date(+a),s==null?1:Math.floor(s)),a},i.range=function(a,s,o){var l=[],u;if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=function(a){return Bn(function(s){if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},function(s,o){if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););})},n&&(i.count=function(a,s){return tp.setTime(+a),ep.setTime(+s),t(tp),t(ep),Math.floor(n(tp,ep))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(s){return r(s)%a===0}:function(s){return i.count(0,s)%a===0}):i}),i}var x1=Bn(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});x1.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bn(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):x1};const nV=x1;x1.range;const Ma=1e3,Wr=Ma*60,La=Wr*60,ao=La*24,B_=ao*7,zx=ao*30,np=ao*365;var GC=Bn(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Ma)},function(t,e){return(e-t)/Ma},function(t){return t.getUTCSeconds()});const Nl=GC;GC.range;var jC=Bn(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ma)},function(t,e){t.setTime(+t+e*Wr)},function(t,e){return(e-t)/Wr},function(t){return t.getMinutes()});const XC=jC;jC.range;var KC=Bn(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ma-t.getMinutes()*Wr)},function(t,e){t.setTime(+t+e*La)},function(t,e){return(e-t)/La},function(t){return t.getHours()});const ZC=KC;KC.range;var QC=Bn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wr)/ao,t=>t.getDate()-1);const gd=QC;QC.range;function Eo(t){return Bn(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Wr)/B_})}var yd=Eo(0),w1=Eo(1),rV=Eo(2),iV=Eo(3),_c=Eo(4),aV=Eo(5),sV=Eo(6);yd.range;w1.range;rV.range;iV.range;_c.range;aV.range;sV.range;var JC=Bn(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const tS=JC;JC.range;var D_=Bn(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});D_.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const so=D_;D_.range;var eS=Bn(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Wr)},function(t,e){return(e-t)/Wr},function(t){return t.getUTCMinutes()});const oV=eS;eS.range;var nS=Bn(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*La)},function(t,e){return(e-t)/La},function(t){return t.getUTCHours()});const cV=nS;nS.range;var rS=Bn(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/ao},function(t){return t.getUTCDate()-1});const O_=rS;rS.range;function Co(t){return Bn(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/B_})}var F_=Co(0),k1=Co(1),lV=Co(2),uV=Co(3),xc=Co(4),hV=Co(5),fV=Co(6);F_.range;k1.range;lV.range;uV.range;xc.range;hV.range;fV.range;var iS=Bn(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const dV=iS;iS.range;var P_=Bn(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});P_.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Bn(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const wc=P_;P_.range;function aS(t,e,n,r,i,a){const s=[[Nl,1,Ma],[Nl,5,5*Ma],[Nl,15,15*Ma],[Nl,30,30*Ma],[a,1,Wr],[a,5,5*Wr],[a,15,15*Wr],[a,30,30*Wr],[i,1,La],[i,3,3*La],[i,6,6*La],[i,12,12*La],[r,1,ao],[r,2,2*ao],[n,1,B_],[e,1,zx],[e,3,3*zx],[t,1,np]];function o(u,h,d){const f=h<u;f&&([u,h]=[h,u]);const p=d&&typeof d.range=="function"?d:l(u,h,d),y=p?p.range(u,+h+1):[];return f?y.reverse():y}function l(u,h,d){const f=Math.abs(h-u)/d,p=w_(([,,b])=>b).right(s,f);if(p===s.length)return t.every(_3(u/np,h/np,d));if(p===0)return nV.every(Math.max(_3(u,h,d),1));const[y,m]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return y.every(m)}return[o,l]}aS(wc,dV,F_,O_,cV,oV);const[pV,gV]=aS(so,tS,yd,gd,ZC,XC);function rp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ip(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ll(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function yV(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=ul(i),h=hl(i),d=ul(a),f=hl(a),p=ul(s),y=hl(s),m=ul(o),b=hl(o),x=ul(l),k=hl(l),T={a:tt,A:ut,b:X,B:z,c:null,d:Xx,e:Xx,f:$V,g:XV,G:ZV,H:OV,I:FV,j:PV,L:sS,m:qV,M:VV,p:j,q:ht,Q:Qx,s:Jx,S:YV,u:zV,U:UV,V:WV,w:HV,W:GV,x:null,X:null,y:jV,Y:KV,Z:QV,"%":Zx},S={a:it,A:et,b:ft,B:st,c:null,d:Kx,e:Kx,f:nY,g:fY,G:pY,H:JV,I:tY,j:eY,L:cS,m:rY,M:iY,p:wt,q:Z,Q:Qx,s:Jx,S:aY,u:sY,U:oY,V:cY,w:lY,W:uY,x:null,X:null,y:hY,Y:dY,Z:gY,"%":Zx},L={a:N,A:v,b:E,B:_,c:V,d:Gx,e:Gx,f:NV,g:Hx,G:Wx,H:jx,I:jx,j:AV,L:RV,m:SV,M:MV,p:C,q:CV,Q:BV,s:DV,S:LV,u:xV,U:wV,V:kV,w:_V,W:TV,x:B,X:G,y:Hx,Y:Wx,Z:EV,"%":IV};T.x=R(n,T),T.X=R(r,T),T.c=R(e,T),S.x=R(n,S),S.X=R(r,S),S.c=R(e,S);function R(F,H){return function(q){var D=[],$=-1,U=0,P=F.length,K,ct,Dt;for(q instanceof Date||(q=new Date(+q));++$<P;)F.charCodeAt($)===37&&(D.push(F.slice(U,$)),(ct=Ux[K=F.charAt(++$)])!=null?K=F.charAt(++$):ct=K==="e"?" ":"0",(Dt=H[K])&&(K=Dt(q,ct)),D.push(K),U=$+1);return D.push(F.slice(U,$)),D.join("")}}function A(F,H){return function(q){var D=ll(1900,void 0,1),$=I(D,F,q+="",0),U,P;if($!=q.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(H&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(U=ip(ll(D.y,0,1)),P=U.getUTCDay(),U=P>4||P===0?k1.ceil(U):k1(U),U=O_.offset(U,(D.V-1)*7),D.y=U.getUTCFullYear(),D.m=U.getUTCMonth(),D.d=U.getUTCDate()+(D.w+6)%7):(U=rp(ll(D.y,0,1)),P=U.getDay(),U=P>4||P===0?w1.ceil(U):w1(U),U=gd.offset(U,(D.V-1)*7),D.y=U.getFullYear(),D.m=U.getMonth(),D.d=U.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),P="Z"in D?ip(ll(D.y,0,1)).getUTCDay():rp(ll(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(P+5)%7:D.w+D.U*7-(P+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,ip(D)):rp(D)}}function I(F,H,q,D){for(var $=0,U=H.length,P=q.length,K,ct;$<U;){if(D>=P)return-1;if(K=H.charCodeAt($++),K===37){if(K=H.charAt($++),ct=L[K in Ux?H.charAt($++):K],!ct||(D=ct(F,q,D))<0)return-1}else if(K!=q.charCodeAt(D++))return-1}return D}function C(F,H,q){var D=u.exec(H.slice(q));return D?(F.p=h.get(D[0].toLowerCase()),q+D[0].length):-1}function N(F,H,q){var D=p.exec(H.slice(q));return D?(F.w=y.get(D[0].toLowerCase()),q+D[0].length):-1}function v(F,H,q){var D=d.exec(H.slice(q));return D?(F.w=f.get(D[0].toLowerCase()),q+D[0].length):-1}function E(F,H,q){var D=x.exec(H.slice(q));return D?(F.m=k.get(D[0].toLowerCase()),q+D[0].length):-1}function _(F,H,q){var D=m.exec(H.slice(q));return D?(F.m=b.get(D[0].toLowerCase()),q+D[0].length):-1}function V(F,H,q){return I(F,e,H,q)}function B(F,H,q){return I(F,n,H,q)}function G(F,H,q){return I(F,r,H,q)}function tt(F){return s[F.getDay()]}function ut(F){return a[F.getDay()]}function X(F){return l[F.getMonth()]}function z(F){return o[F.getMonth()]}function j(F){return i[+(F.getHours()>=12)]}function ht(F){return 1+~~(F.getMonth()/3)}function it(F){return s[F.getUTCDay()]}function et(F){return a[F.getUTCDay()]}function ft(F){return l[F.getUTCMonth()]}function st(F){return o[F.getUTCMonth()]}function wt(F){return i[+(F.getUTCHours()>=12)]}function Z(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var H=R(F+="",T);return H.toString=function(){return F},H},parse:function(F){var H=A(F+="",!1);return H.toString=function(){return F},H},utcFormat:function(F){var H=R(F+="",S);return H.toString=function(){return F},H},utcParse:function(F){var H=A(F+="",!0);return H.toString=function(){return F},H}}}var Ux={"-":"",_:" ",0:"0"},Dn=/^\s*\d+/,mV=/^%/,bV=/[\\^$*+?|[\]().{}]/g;function Ye(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function vV(t){return t.replace(bV,"\\$&")}function ul(t){return new RegExp("^(?:"+t.map(vV).join("|")+")","i")}function hl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _V(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function xV(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function wV(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function kV(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function TV(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Wx(t,e,n){var r=Dn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Hx(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function EV(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function CV(t,e,n){var r=Dn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function SV(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Gx(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function AV(t,e,n){var r=Dn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jx(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function MV(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function LV(t,e,n){var r=Dn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function RV(t,e,n){var r=Dn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function NV(t,e,n){var r=Dn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function IV(t,e,n){var r=mV.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function BV(t,e,n){var r=Dn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function DV(t,e,n){var r=Dn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Xx(t,e){return Ye(t.getDate(),e,2)}function OV(t,e){return Ye(t.getHours(),e,2)}function FV(t,e){return Ye(t.getHours()%12||12,e,2)}function PV(t,e){return Ye(1+gd.count(so(t),t),e,3)}function sS(t,e){return Ye(t.getMilliseconds(),e,3)}function $V(t,e){return sS(t,e)+"000"}function qV(t,e){return Ye(t.getMonth()+1,e,2)}function VV(t,e){return Ye(t.getMinutes(),e,2)}function YV(t,e){return Ye(t.getSeconds(),e,2)}function zV(t){var e=t.getDay();return e===0?7:e}function UV(t,e){return Ye(yd.count(so(t)-1,t),e,2)}function oS(t){var e=t.getDay();return e>=4||e===0?_c(t):_c.ceil(t)}function WV(t,e){return t=oS(t),Ye(_c.count(so(t),t)+(so(t).getDay()===4),e,2)}function HV(t){return t.getDay()}function GV(t,e){return Ye(w1.count(so(t)-1,t),e,2)}function jV(t,e){return Ye(t.getFullYear()%100,e,2)}function XV(t,e){return t=oS(t),Ye(t.getFullYear()%100,e,2)}function KV(t,e){return Ye(t.getFullYear()%1e4,e,4)}function ZV(t,e){var n=t.getDay();return t=n>=4||n===0?_c(t):_c.ceil(t),Ye(t.getFullYear()%1e4,e,4)}function QV(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ye(e/60|0,"0",2)+Ye(e%60,"0",2)}function Kx(t,e){return Ye(t.getUTCDate(),e,2)}function JV(t,e){return Ye(t.getUTCHours(),e,2)}function tY(t,e){return Ye(t.getUTCHours()%12||12,e,2)}function eY(t,e){return Ye(1+O_.count(wc(t),t),e,3)}function cS(t,e){return Ye(t.getUTCMilliseconds(),e,3)}function nY(t,e){return cS(t,e)+"000"}function rY(t,e){return Ye(t.getUTCMonth()+1,e,2)}function iY(t,e){return Ye(t.getUTCMinutes(),e,2)}function aY(t,e){return Ye(t.getUTCSeconds(),e,2)}function sY(t){var e=t.getUTCDay();return e===0?7:e}function oY(t,e){return Ye(F_.count(wc(t)-1,t),e,2)}function lS(t){var e=t.getUTCDay();return e>=4||e===0?xc(t):xc.ceil(t)}function cY(t,e){return t=lS(t),Ye(xc.count(wc(t),t)+(wc(t).getUTCDay()===4),e,2)}function lY(t){return t.getUTCDay()}function uY(t,e){return Ye(k1.count(wc(t)-1,t),e,2)}function hY(t,e){return Ye(t.getUTCFullYear()%100,e,2)}function fY(t,e){return t=lS(t),Ye(t.getUTCFullYear()%100,e,2)}function dY(t,e){return Ye(t.getUTCFullYear()%1e4,e,4)}function pY(t,e){var n=t.getUTCDay();return t=n>=4||n===0?xc(t):xc.ceil(t),Ye(t.getUTCFullYear()%1e4,e,4)}function gY(){return"+0000"}function Zx(){return"%"}function Qx(t){return+t}function Jx(t){return Math.floor(+t/1e3)}var zo,T1;yY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yY(t){return zo=yV(t),T1=zo.format,zo.parse,zo.utcFormat,zo.utcParse,zo}function mY(t){return new Date(t)}function bY(t){return t instanceof Date?+t:+new Date(+t)}function uS(t,e,n,r,i,a,s,o,l,u){var h=WC(),d=h.invert,f=h.domain,p=u(".%L"),y=u(":%S"),m=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),k=u("%b %d"),T=u("%B"),S=u("%Y");function L(R){return(l(R)<R?p:o(R)<R?y:s(R)<R?m:a(R)<R?b:r(R)<R?i(R)<R?x:k:n(R)<R?T:S)(R)}return h.invert=function(R){return new Date(d(R))},h.domain=function(R){return arguments.length?f(Array.from(R,bY)):f().map(mY)},h.ticks=function(R){var A=f();return t(A[0],A[A.length-1],R==null?10:R)},h.tickFormat=function(R,A){return A==null?L:u(A)},h.nice=function(R){var A=f();return(!R||typeof R.range!="function")&&(R=e(A[0],A[A.length-1],R==null?10:R)),R?f(eV(A,R)):h},h.copy=function(){return UC(h,uS(t,e,n,r,i,a,s,o,l,u))},h}function vY(){return I_.apply(uS(pV,gV,so,tS,yd,gd,ZC,XC,Nl,T1).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pn(t){return function(){return t}}const t6=Math.abs,zn=Math.atan2,$s=Math.cos,_Y=Math.max,ap=Math.min,Di=Math.sin,Qo=Math.sqrt,pr=1e-12,xu=Math.PI,E1=xu/2,Ff=2*xu;function xY(t){return t>1?0:t<-1?xu:Math.acos(t)}function e6(t){return t>=1?E1:t<=-1?-E1:Math.asin(t)}function wY(t){return t.innerRadius}function kY(t){return t.outerRadius}function TY(t){return t.startAngle}function EY(t){return t.endAngle}function CY(t){return t&&t.padAngle}function SY(t,e,n,r,i,a,s,o){var l=n-t,u=r-e,h=s-i,d=o-a,f=d*l-h*u;if(!(f*f<pr))return f=(h*(e-a)-d*(t-i))/f,[t+f*l,e+f*u]}function Hh(t,e,n,r,i,a,s){var o=t-n,l=e-r,u=(s?a:-a)/Qo(o*o+l*l),h=u*l,d=-u*o,f=t+h,p=e+d,y=n+h,m=r+d,b=(f+y)/2,x=(p+m)/2,k=y-f,T=m-p,S=k*k+T*T,L=i-a,R=f*m-y*p,A=(T<0?-1:1)*Qo(_Y(0,L*L*S-R*R)),I=(R*T-k*A)/S,C=(-R*k-T*A)/S,N=(R*T+k*A)/S,v=(-R*k+T*A)/S,E=I-b,_=C-x,V=N-b,B=v-x;return E*E+_*_>V*V+B*B&&(I=N,C=v),{cx:I,cy:C,x01:-h,y01:-d,x11:I*(i/L-1),y11:C*(i/L-1)}}function B3(){var t=wY,e=kY,n=pn(0),r=null,i=TY,a=EY,s=CY,o=null;function l(){var u,h,d=+t.apply(this,arguments),f=+e.apply(this,arguments),p=i.apply(this,arguments)-E1,y=a.apply(this,arguments)-E1,m=t6(y-p),b=y>p;if(o||(o=u=R_()),f<d&&(h=f,f=d,d=h),!(f>pr))o.moveTo(0,0);else if(m>Ff-pr)o.moveTo(f*$s(p),f*Di(p)),o.arc(0,0,f,p,y,!b),d>pr&&(o.moveTo(d*$s(y),d*Di(y)),o.arc(0,0,d,y,p,b));else{var x=p,k=y,T=p,S=y,L=m,R=m,A=s.apply(this,arguments)/2,I=A>pr&&(r?+r.apply(this,arguments):Qo(d*d+f*f)),C=ap(t6(f-d)/2,+n.apply(this,arguments)),N=C,v=C,E,_;if(I>pr){var V=e6(I/d*Di(A)),B=e6(I/f*Di(A));(L-=V*2)>pr?(V*=b?1:-1,T+=V,S-=V):(L=0,T=S=(p+y)/2),(R-=B*2)>pr?(B*=b?1:-1,x+=B,k-=B):(R=0,x=k=(p+y)/2)}var G=f*$s(x),tt=f*Di(x),ut=d*$s(S),X=d*Di(S);if(C>pr){var z=f*$s(k),j=f*Di(k),ht=d*$s(T),it=d*Di(T),et;if(m<xu&&(et=SY(G,tt,ht,it,z,j,ut,X))){var ft=G-et[0],st=tt-et[1],wt=z-et[0],Z=j-et[1],F=1/Di(xY((ft*wt+st*Z)/(Qo(ft*ft+st*st)*Qo(wt*wt+Z*Z)))/2),H=Qo(et[0]*et[0]+et[1]*et[1]);N=ap(C,(d-H)/(F-1)),v=ap(C,(f-H)/(F+1))}}R>pr?v>pr?(E=Hh(ht,it,G,tt,f,v,b),_=Hh(z,j,ut,X,f,v,b),o.moveTo(E.cx+E.x01,E.cy+E.y01),v<C?o.arc(E.cx,E.cy,v,zn(E.y01,E.x01),zn(_.y01,_.x01),!b):(o.arc(E.cx,E.cy,v,zn(E.y01,E.x01),zn(E.y11,E.x11),!b),o.arc(0,0,f,zn(E.cy+E.y11,E.cx+E.x11),zn(_.cy+_.y11,_.cx+_.x11),!b),o.arc(_.cx,_.cy,v,zn(_.y11,_.x11),zn(_.y01,_.x01),!b))):(o.moveTo(G,tt),o.arc(0,0,f,x,k,!b)):o.moveTo(G,tt),!(d>pr)||!(L>pr)?o.lineTo(ut,X):N>pr?(E=Hh(ut,X,z,j,d,-N,b),_=Hh(G,tt,ht,it,d,-N,b),o.lineTo(E.cx+E.x01,E.cy+E.y01),N<C?o.arc(E.cx,E.cy,N,zn(E.y01,E.x01),zn(_.y01,_.x01),!b):(o.arc(E.cx,E.cy,N,zn(E.y01,E.x01),zn(E.y11,E.x11),!b),o.arc(0,0,d,zn(E.cy+E.y11,E.cx+E.x11),zn(_.cy+_.y11,_.cx+_.x11),b),o.arc(_.cx,_.cy,N,zn(_.y11,_.x11),zn(_.y01,_.x01),!b))):o.arc(0,0,d,S,T,b)}if(o.closePath(),u)return o=null,u+""||null}return l.centroid=function(){var u=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-xu/2;return[$s(h)*u,Di(h)*u]},l.innerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:pn(+u),l):t},l.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:pn(+u),l):e},l.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:pn(+u),l):n},l.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:pn(+u),l):r},l.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:pn(+u),l):i},l.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:pn(+u),l):a},l.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:pn(+u),l):s},l.context=function(u){return arguments.length?(o=u==null?null:u,l):o},l}function hS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fS(t){this._context=t}fS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function di(t){return new fS(t)}function AY(t){return t[0]}function MY(t){return t[1]}function hh(t,e){var n=pn(!0),r=null,i=di,a=null;t=typeof t=="function"?t:t===void 0?AY:pn(t),e=typeof e=="function"?e:e===void 0?MY:pn(e);function s(o){var l,u=(o=hS(o)).length,h,d=!1,f;for(r==null&&(a=i(f=R_())),l=0;l<=u;++l)!(l<u&&n(h=o[l],l,o))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(h,l,o),+e(h,l,o));if(f)return a=null,f+""||null}return s.x=function(o){return arguments.length?(t=typeof o=="function"?o:pn(+o),s):t},s.y=function(o){return arguments.length?(e=typeof o=="function"?o:pn(+o),s):e},s.defined=function(o){return arguments.length?(n=typeof o=="function"?o:pn(!!o),s):n},s.curve=function(o){return arguments.length?(i=o,r!=null&&(a=i(r)),s):i},s.context=function(o){return arguments.length?(o==null?r=a=null:a=i(r=o),s):r},s}function LY(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function RY(t){return t}function NY(){var t=RY,e=LY,n=null,r=pn(0),i=pn(Ff),a=pn(0);function s(o){var l,u=(o=hS(o)).length,h,d,f=0,p=new Array(u),y=new Array(u),m=+r.apply(this,arguments),b=Math.min(Ff,Math.max(-Ff,i.apply(this,arguments)-m)),x,k=Math.min(Math.abs(b)/u,a.apply(this,arguments)),T=k*(b<0?-1:1),S;for(l=0;l<u;++l)(S=y[p[l]=l]=+t(o[l],l,o))>0&&(f+=S);for(e!=null?p.sort(function(L,R){return e(y[L],y[R])}):n!=null&&p.sort(function(L,R){return n(o[L],o[R])}),l=0,d=f?(b-u*T)/f:0;l<u;++l,m=x)h=p[l],S=y[h],x=m+(S>0?S*d:0)+T,y[h]={data:o[h],index:l,value:S,startAngle:m,endAngle:x,padAngle:k};return y}return s.value=function(o){return arguments.length?(t=typeof o=="function"?o:pn(+o),s):t},s.sortValues=function(o){return arguments.length?(e=o,n=null,s):e},s.sort=function(o){return arguments.length?(n=o,e=null,s):n},s.startAngle=function(o){return arguments.length?(r=typeof o=="function"?o:pn(+o),s):r},s.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:pn(+o),s):i},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:pn(+o),s):a},s}function C1(){}function S1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dS(t){this._context=t}dS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:S1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:S1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kc(t){return new dS(t)}function pS(t){this._context=t}pS.prototype={areaStart:C1,areaEnd:C1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:S1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IY(t){return new pS(t)}function gS(t){this._context=t}gS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:S1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BY(t){return new gS(t)}function yS(t){this._context=t}yS.prototype={areaStart:C1,areaEnd:C1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DY(t){return new yS(t)}function n6(t){return t<0?-1:1}function r6(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(n6(a)+n6(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function i6(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function sp(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function A1(t){this._context=t}A1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sp(this,this._t0,i6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,sp(this,i6(this,n=r6(this,t,e)),n);break;default:sp(this,this._t0,n=r6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mS(t){this._context=new bS(t)}(mS.prototype=Object.create(A1.prototype)).point=function(t,e){A1.prototype.point.call(this,e,t)};function bS(t){this._context=t}bS.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function OY(t){return new A1(t)}function FY(t){return new mS(t)}function vS(t){this._context=t}vS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=a6(t),i=a6(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function a6(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function PY(t){return new vS(t)}function md(t,e){this._context=t,this._t=e}md.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function $Y(t){return new md(t,.5)}function qY(t){return new md(t,0)}function VY(t){return new md(t,1)}function Jo(t,e,n){this.k=t,this.x=e,this.y=n}Jo.prototype={constructor:Jo,scale:function(t){return t===1?this:new Jo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Jo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Jo(1,0,0);Jo.prototype;/*! @license DOMPurify 2.4.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.0/LICENSE */function rs(t){return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rs(t)}function D3(t,e){return D3=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},D3(t,e)}function YY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pf(t,e,n){return YY()?Pf=Reflect.construct:Pf=function(i,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(i,o),u=new l;return s&&D3(u,s.prototype),u},Pf.apply(null,arguments)}function ri(t){return zY(t)||UY(t)||WY(t)||HY()}function zY(t){if(Array.isArray(t))return O3(t)}function UY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WY(t,e){if(!!t){if(typeof t=="string")return O3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O3(t,e)}}function O3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var GY=Object.hasOwnProperty,s6=Object.setPrototypeOf,jY=Object.isFrozen,XY=Object.getPrototypeOf,KY=Object.getOwnPropertyDescriptor,cr=Object.freeze,Ji=Object.seal,ZY=Object.create,_S=typeof Reflect<"u"&&Reflect,M1=_S.apply,F3=_S.construct;M1||(M1=function(e,n,r){return e.apply(n,r)});cr||(cr=function(e){return e});Ji||(Ji=function(e){return e});F3||(F3=function(e,n){return Pf(e,ri(n))});var QY=bi(Array.prototype.forEach),o6=bi(Array.prototype.pop),fl=bi(Array.prototype.push),$f=bi(String.prototype.toLowerCase),JY=bi(String.prototype.match),Za=bi(String.prototype.replace),tz=bi(String.prototype.indexOf),ez=bi(String.prototype.trim),Jn=bi(RegExp.prototype.test),op=nz(TypeError);function bi(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return M1(t,e,r)}}function nz(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return F3(t,n)}}function Re(t,e,n){n=n||$f,s6&&s6(t,null);for(var r=e.length;r--;){var i=e[r];if(typeof i=="string"){var a=n(i);a!==i&&(jY(e)||(e[r]=a),i=a)}t[i]=!0}return t}function qs(t){var e=ZY(null),n;for(n in t)M1(GY,t,[n])&&(e[n]=t[n]);return e}function Gh(t,e){for(;t!==null;){var n=KY(t,e);if(n){if(n.get)return bi(n.get);if(typeof n.value=="function")return bi(n.value)}t=XY(t)}function r(i){return console.warn("fallback value for",i),null}return r}var c6=cr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),cp=cr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),lp=cr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rz=cr(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),up=cr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),iz=cr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),l6=cr(["#text"]),u6=cr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),hp=cr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),h6=cr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),jh=cr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),az=Ji(/\{\{[\w\W]*|[\w\W]*\}\}/gm),sz=Ji(/<%[\w\W]*|[\w\W]*%>/gm),oz=Ji(/^data-[\-\w.\u00B7-\uFFFF]/),cz=Ji(/^aria-[\-\w]+$/),lz=Ji(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),uz=Ji(/^(?:\w+script|data):/i),hz=Ji(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fz=Ji(/^html$/i),dz=function(){return typeof window>"u"?null:window},pz=function(e,n){if(rs(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML:function(o){return o},createScriptURL:function(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function xS(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dz(),e=function(nt){return xS(nt)};if(e.version="2.4.0",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,i=t.DocumentFragment,a=t.HTMLTemplateElement,s=t.Node,o=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,h=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,d=t.HTMLFormElement,f=t.DOMParser,p=t.trustedTypes,y=o.prototype,m=Gh(y,"cloneNode"),b=Gh(y,"nextSibling"),x=Gh(y,"childNodes"),k=Gh(y,"parentNode");if(typeof a=="function"){var T=r.createElement("template");T.content&&T.content.ownerDocument&&(r=T.content.ownerDocument)}var S=pz(p,n),L=S?S.createHTML(""):"",R=r,A=R.implementation,I=R.createNodeIterator,C=R.createDocumentFragment,N=R.getElementsByTagName,v=n.importNode,E={};try{E=qs(r).documentMode?r.documentMode:{}}catch{}var _={};e.isSupported=typeof k=="function"&&A&&typeof A.createHTMLDocument<"u"&&E!==9;var V=az,B=sz,G=oz,tt=cz,ut=uz,X=hz,z=lz,j=null,ht=Re({},[].concat(ri(c6),ri(cp),ri(lp),ri(up),ri(l6))),it=null,et=Re({},[].concat(ri(u6),ri(hp),ri(h6),ri(jh))),ft=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),st=null,wt=null,Z=!0,F=!0,H=!1,q=!1,D=!1,$=!1,U=!1,P=!1,K=!1,ct=!1,Dt=!0,Mt=!1,Ot="user-content-",Ct=!0,dt=!1,yt={},bt=null,Tt=Re({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ot=null,le=Re({},["audio","video","img","source","image","track"]),It=null,Ht=Re({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Xt="http://www.w3.org/1998/Math/MathML",Jt="http://www.w3.org/2000/svg",Te="http://www.w3.org/1999/xhtml",Gt=Te,Ft=!1,Vt,kt=["application/xhtml+xml","text/html"],mt="text/html",Et,xt=null,zt=r.createElement("form"),pt=function(nt){return nt instanceof RegExp||nt instanceof Function},fe=function(nt){xt&&xt===nt||((!nt||rs(nt)!=="object")&&(nt={}),nt=qs(nt),Vt=kt.indexOf(nt.PARSER_MEDIA_TYPE)===-1?Vt=mt:Vt=nt.PARSER_MEDIA_TYPE,Et=Vt==="application/xhtml+xml"?function(St){return St}:$f,j="ALLOWED_TAGS"in nt?Re({},nt.ALLOWED_TAGS,Et):ht,it="ALLOWED_ATTR"in nt?Re({},nt.ALLOWED_ATTR,Et):et,It="ADD_URI_SAFE_ATTR"in nt?Re(qs(Ht),nt.ADD_URI_SAFE_ATTR,Et):Ht,ot="ADD_DATA_URI_TAGS"in nt?Re(qs(le),nt.ADD_DATA_URI_TAGS,Et):le,bt="FORBID_CONTENTS"in nt?Re({},nt.FORBID_CONTENTS,Et):Tt,st="FORBID_TAGS"in nt?Re({},nt.FORBID_TAGS,Et):{},wt="FORBID_ATTR"in nt?Re({},nt.FORBID_ATTR,Et):{},yt="USE_PROFILES"in nt?nt.USE_PROFILES:!1,Z=nt.ALLOW_ARIA_ATTR!==!1,F=nt.ALLOW_DATA_ATTR!==!1,H=nt.ALLOW_UNKNOWN_PROTOCOLS||!1,q=nt.SAFE_FOR_TEMPLATES||!1,D=nt.WHOLE_DOCUMENT||!1,P=nt.RETURN_DOM||!1,K=nt.RETURN_DOM_FRAGMENT||!1,ct=nt.RETURN_TRUSTED_TYPE||!1,U=nt.FORCE_BODY||!1,Dt=nt.SANITIZE_DOM!==!1,Mt=nt.SANITIZE_NAMED_PROPS||!1,Ct=nt.KEEP_CONTENT!==!1,dt=nt.IN_PLACE||!1,z=nt.ALLOWED_URI_REGEXP||z,Gt=nt.NAMESPACE||Te,nt.CUSTOM_ELEMENT_HANDLING&&pt(nt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ft.tagNameCheck=nt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),nt.CUSTOM_ELEMENT_HANDLING&&pt(nt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ft.attributeNameCheck=nt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),nt.CUSTOM_ELEMENT_HANDLING&&typeof nt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ft.allowCustomizedBuiltInElements=nt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),q&&(F=!1),K&&(P=!0),yt&&(j=Re({},ri(l6)),it=[],yt.html===!0&&(Re(j,c6),Re(it,u6)),yt.svg===!0&&(Re(j,cp),Re(it,hp),Re(it,jh)),yt.svgFilters===!0&&(Re(j,lp),Re(it,hp),Re(it,jh)),yt.mathMl===!0&&(Re(j,up),Re(it,h6),Re(it,jh))),nt.ADD_TAGS&&(j===ht&&(j=qs(j)),Re(j,nt.ADD_TAGS,Et)),nt.ADD_ATTR&&(it===et&&(it=qs(it)),Re(it,nt.ADD_ATTR,Et)),nt.ADD_URI_SAFE_ATTR&&Re(It,nt.ADD_URI_SAFE_ATTR,Et),nt.FORBID_CONTENTS&&(bt===Tt&&(bt=qs(bt)),Re(bt,nt.FORBID_CONTENTS,Et)),Ct&&(j["#text"]=!0),D&&Re(j,["html","head","body"]),j.table&&(Re(j,["tbody"]),delete st.tbody),cr&&cr(nt),xt=nt)},gt=Re({},["mi","mo","mn","ms","mtext"]),re=Re({},["foreignobject","desc","title","annotation-xml"]),_e=Re({},["title","style","font","a","script"]),ye=Re({},cp);Re(ye,lp),Re(ye,rz);var ve=Re({},up);Re(ve,iz);var Ee=function(nt){var St=k(nt);(!St||!St.tagName)&&(St={namespaceURI:Te,tagName:"template"});var Rt=$f(nt.tagName),te=$f(St.tagName);return nt.namespaceURI===Jt?St.namespaceURI===Te?Rt==="svg":St.namespaceURI===Xt?Rt==="svg"&&(te==="annotation-xml"||gt[te]):Boolean(ye[Rt]):nt.namespaceURI===Xt?St.namespaceURI===Te?Rt==="math":St.namespaceURI===Jt?Rt==="math"&&re[te]:Boolean(ve[Rt]):nt.namespaceURI===Te?St.namespaceURI===Jt&&!re[te]||St.namespaceURI===Xt&&!gt[te]?!1:!ve[Rt]&&(_e[Rt]||!ye[Rt]):!1},Wt=function(nt){fl(e.removed,{element:nt});try{nt.parentNode.removeChild(nt)}catch{try{nt.outerHTML=L}catch{nt.remove()}}},se=function(nt,St){try{fl(e.removed,{attribute:St.getAttributeNode(nt),from:St})}catch{fl(e.removed,{attribute:null,from:St})}if(St.removeAttribute(nt),nt==="is"&&!it[nt])if(P||K)try{Wt(St)}catch{}else try{St.setAttribute(nt,"")}catch{}},me=function(nt){var St,Rt;if(U)nt="<remove></remove>"+nt;else{var te=JY(nt,/^[\r\n\t ]+/);Rt=te&&te[0]}Vt==="application/xhtml+xml"&&(nt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+nt+"</body></html>");var He=S?S.createHTML(nt):nt;if(Gt===Te)try{St=new f().parseFromString(He,Vt)}catch{}if(!St||!St.documentElement){St=A.createDocument(Gt,"template",null);try{St.documentElement.innerHTML=Ft?"":He}catch{}}var $e=St.body||St.documentElement;return nt&&Rt&&$e.insertBefore(r.createTextNode(Rt),$e.childNodes[0]||null),Gt===Te?N.call(St,D?"html":"body")[0]:D?St.documentElement:$e},he=function(nt){return I.call(nt.ownerDocument||nt,nt,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},oa=function(nt){return nt instanceof d&&(typeof nt.nodeName!="string"||typeof nt.textContent!="string"||typeof nt.removeChild!="function"||!(nt.attributes instanceof h)||typeof nt.removeAttribute!="function"||typeof nt.setAttribute!="function"||typeof nt.namespaceURI!="string"||typeof nt.insertBefore!="function")},Vn=function(nt){return rs(s)==="object"?nt instanceof s:nt&&rs(nt)==="object"&&typeof nt.nodeType=="number"&&typeof nt.nodeName=="string"},De=function(nt,St,Rt){!_[nt]||QY(_[nt],function(te){te.call(e,St,Rt,xt)})},oe=function(nt){var St;if(De("beforeSanitizeElements",nt,null),oa(nt)||Jn(/[\u0080-\uFFFF]/,nt.nodeName))return Wt(nt),!0;var Rt=Et(nt.nodeName);if(De("uponSanitizeElement",nt,{tagName:Rt,allowedTags:j}),nt.hasChildNodes()&&!Vn(nt.firstElementChild)&&(!Vn(nt.content)||!Vn(nt.content.firstElementChild))&&Jn(/<[/\w]/g,nt.innerHTML)&&Jn(/<[/\w]/g,nt.textContent)||Rt==="select"&&Jn(/<template/i,nt.innerHTML))return Wt(nt),!0;if(!j[Rt]||st[Rt]){if(!st[Rt]&&En(Rt)&&(ft.tagNameCheck instanceof RegExp&&Jn(ft.tagNameCheck,Rt)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(Rt)))return!1;if(Ct&&!bt[Rt]){var te=k(nt)||nt.parentNode,He=x(nt)||nt.childNodes;if(He&&te)for(var $e=He.length,qe=$e-1;qe>=0;--qe)te.insertBefore(m(He[qe],!0),b(nt))}return Wt(nt),!0}return nt instanceof o&&!Ee(nt)||(Rt==="noscript"||Rt==="noembed")&&Jn(/<\/no(script|embed)/i,nt.innerHTML)?(Wt(nt),!0):(q&&nt.nodeType===3&&(St=nt.textContent,St=Za(St,V," "),St=Za(St,B," "),nt.textContent!==St&&(fl(e.removed,{element:nt.cloneNode()}),nt.textContent=St)),De("afterSanitizeElements",nt,null),!1)},Je=function(nt,St,Rt){if(Dt&&(St==="id"||St==="name")&&(Rt in r||Rt in zt))return!1;if(!(F&&!wt[St]&&Jn(G,St))){if(!(Z&&Jn(tt,St))){if(!it[St]||wt[St]){if(!(En(nt)&&(ft.tagNameCheck instanceof RegExp&&Jn(ft.tagNameCheck,nt)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(nt))&&(ft.attributeNameCheck instanceof RegExp&&Jn(ft.attributeNameCheck,St)||ft.attributeNameCheck instanceof Function&&ft.attributeNameCheck(St))||St==="is"&&ft.allowCustomizedBuiltInElements&&(ft.tagNameCheck instanceof RegExp&&Jn(ft.tagNameCheck,Rt)||ft.tagNameCheck instanceof Function&&ft.tagNameCheck(Rt))))return!1}else if(!It[St]){if(!Jn(z,Za(Rt,X,""))){if(!((St==="src"||St==="xlink:href"||St==="href")&&nt!=="script"&&tz(Rt,"data:")===0&&ot[nt])){if(!(H&&!Jn(ut,Za(Rt,X,"")))){if(Rt)return!1}}}}}}return!0},En=function(nt){return nt.indexOf("-")>0},Ze=function(nt){var St,Rt,te,He;De("beforeSanitizeAttributes",nt,null);var $e=nt.attributes;if(!!$e){var qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:it};for(He=$e.length;He--;){St=$e[He];var Cn=St,Ue=Cn.name,ca=Cn.namespaceURI;if(Rt=Ue==="value"?St.value:ez(St.value),te=Et(Ue),qe.attrName=te,qe.attrValue=Rt,qe.keepAttr=!0,qe.forceKeepAttr=void 0,De("uponSanitizeAttribute",nt,qe),Rt=qe.attrValue,!qe.forceKeepAttr&&(se(Ue,nt),!!qe.keepAttr)){if(Jn(/\/>/i,Rt)){se(Ue,nt);continue}q&&(Rt=Za(Rt,V," "),Rt=Za(Rt,B," "));var Ce=Et(nt.nodeName);if(!!Je(Ce,te,Rt)){if(Mt&&(te==="id"||te==="name")&&(se(Ue,nt),Rt=Ot+Rt),S&&rs(p)==="object"&&typeof p.getAttributeType=="function"&&!ca)switch(p.getAttributeType(Ce,te)){case"TrustedHTML":Rt=S.createHTML(Rt);break;case"TrustedScriptURL":Rt=S.createScriptURL(Rt);break}try{ca?nt.setAttributeNS(ca,Ue,Rt):nt.setAttribute(Ue,Rt),o6(e.removed)}catch{}}}}De("afterSanitizeAttributes",nt,null)}},tn=function $t(nt){var St,Rt=he(nt);for(De("beforeSanitizeShadowDOM",nt,null);St=Rt.nextNode();)De("uponSanitizeShadowNode",St,null),!oe(St)&&(St.content instanceof i&&$t(St.content),Ze(St));De("afterSanitizeShadowDOM",nt,null)};return e.sanitize=function($t){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},St,Rt,te,He,$e;if(Ft=!$t,Ft&&($t="<!-->"),typeof $t!="string"&&!Vn($t)){if(typeof $t.toString!="function")throw op("toString is not a function");if($t=$t.toString(),typeof $t!="string")throw op("dirty is not a string, aborting")}if(!e.isSupported){if(rs(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof $t=="string")return t.toStaticHTML($t);if(Vn($t))return t.toStaticHTML($t.outerHTML)}return $t}if($||fe(nt),e.removed=[],typeof $t=="string"&&(dt=!1),dt){if($t.nodeName){var qe=Et($t.nodeName);if(!j[qe]||st[qe])throw op("root node is forbidden and cannot be sanitized in-place")}}else if($t instanceof s)St=me("<!---->"),Rt=St.ownerDocument.importNode($t,!0),Rt.nodeType===1&&Rt.nodeName==="BODY"||Rt.nodeName==="HTML"?St=Rt:St.appendChild(Rt);else{if(!P&&!q&&!D&&$t.indexOf("<")===-1)return S&&ct?S.createHTML($t):$t;if(St=me($t),!St)return P?null:ct?L:""}St&&U&&Wt(St.firstChild);for(var Cn=he(dt?$t:St);te=Cn.nextNode();)te.nodeType===3&&te===He||oe(te)||(te.content instanceof i&&tn(te.content),Ze(te),He=te);if(He=null,dt)return $t;if(P){if(K)for($e=C.call(St.ownerDocument);St.firstChild;)$e.appendChild(St.firstChild);else $e=St;return it.shadowroot&&($e=v.call(n,$e,!0)),$e}var Ue=D?St.outerHTML:St.innerHTML;return D&&j["!doctype"]&&St.ownerDocument&&St.ownerDocument.doctype&&St.ownerDocument.doctype.name&&Jn(fz,St.ownerDocument.doctype.name)&&(Ue="<!DOCTYPE "+St.ownerDocument.doctype.name+`>
`+Ue),q&&(Ue=Za(Ue,V," "),Ue=Za(Ue,B," ")),S&&ct?S.createHTML(Ue):Ue},e.setConfig=function($t){fe($t),$=!0},e.clearConfig=function(){xt=null,$=!1},e.isValidAttribute=function($t,nt,St){xt||fe({});var Rt=Et($t),te=Et(nt);return Je(Rt,te,St)},e.addHook=function($t,nt){typeof nt=="function"&&(_[$t]=_[$t]||[],fl(_[$t],nt))},e.removeHook=function($t){if(_[$t])return o6(_[$t])},e.removeHooks=function($t){_[$t]&&(_[$t]=[])},e.removeAllHooks=function(){_={}},e}var wu=xS();const qf={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const i=n<.5?n*(1+e):n+e-n*e,a=2*n-i;switch(r){case"r":return qf.hue2rgb(a,i,t+1/3)*255;case"g":return qf.hue2rgb(a,i,t)*255;case"b":return qf.hue2rgb(a,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),a=Math.min(t,e,n),s=(i+a)/2;if(r==="l")return s*100;if(i===a)return 0;const o=i-a,l=s>.5?o/(2-i-a):o/(i+a);if(r==="s")return l*100;switch(i){case t:return((e-n)/o+(e<n?6:0))*60;case e:return((n-t)/o+2)*60;case n:return((t-e)/o+4)*60;default:return-1}}},gz=qf,yz={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},mz=yz,bz={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},vz=bz,_z={channel:gz,lang:mz,unit:vz},ke=_z,Ja={};for(let t=0;t<=255;t++)Ja[t]=ke.unit.dec2hex(t);const Wn={ALL:0,RGB:1,HSL:2};class xz{constructor(){this.type=Wn.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Wn.ALL}is(e){return this.type===e}}const wz=xz;class kz{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new wz}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=Wn.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:i}=e;n===void 0&&(e.h=ke.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=ke.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=ke.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:i}=e;n===void 0&&(e.r=ke.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=ke.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=ke.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(Wn.HSL)&&n!==void 0?n:(this._ensureHSL(),ke.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(Wn.HSL)&&n!==void 0?n:(this._ensureHSL(),ke.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(Wn.HSL)&&n!==void 0?n:(this._ensureHSL(),ke.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(Wn.RGB)&&n!==void 0?n:(this._ensureRGB(),ke.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(Wn.RGB)&&n!==void 0?n:(this._ensureRGB(),ke.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(Wn.RGB)&&n!==void 0?n:(this._ensureRGB(),ke.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Wn.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Wn.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Wn.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Wn.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Wn.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Wn.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const Tz=kz,Ez=new Tz({r:0,g:0,b:0,a:0},"transparent"),bd=Ez,wS={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(wS.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,a=i%4===0,s=i>4,o=s?1:17,l=s?8:4,u=a?0:-1,h=s?255:15;return bd.set({r:(r>>l*(u+3)&h)*o,g:(r>>l*(u+2)&h)*o,b:(r>>l*(u+1)&h)*o,a:a?(r&h)*o/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${Ja[Math.round(e)]}${Ja[Math.round(n)]}${Ja[Math.round(r)]}${Ja[Math.round(i*255)]}`:`#${Ja[Math.round(e)]}${Ja[Math.round(n)]}${Ja[Math.round(r)]}`}},nu=wS,Vf={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Vf.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return ke.channel.clamp.h(parseFloat(n)*.9);case"rad":return ke.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return ke.channel.clamp.h(parseFloat(n)*360)}}return ke.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(Vf.re);if(!n)return;const[,r,i,a,s,o]=n;return bd.set({h:Vf._hue2deg(r),s:ke.channel.clamp.s(parseFloat(i)),l:ke.channel.clamp.l(parseFloat(a)),a:s?ke.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${ke.lang.round(e)}, ${ke.lang.round(n)}%, ${ke.lang.round(r)}%, ${i})`:`hsl(${ke.lang.round(e)}, ${ke.lang.round(n)}%, ${ke.lang.round(r)}%)`}},Xh=Vf,Yf={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Yf.colors[t];if(!!e)return nu.parse(e)},stringify:t=>{const e=nu.stringify(t);for(const n in Yf.colors)if(Yf.colors[n]===e)return n}},f6=Yf,kS={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(kS.re);if(!n)return;const[,r,i,a,s,o,l,u,h]=n;return bd.set({r:ke.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:ke.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:ke.channel.clamp.b(l?parseFloat(o)*2.55:parseFloat(o)),a:u?ke.channel.clamp.a(h?parseFloat(u)/100:parseFloat(u)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${ke.lang.round(e)}, ${ke.lang.round(n)}, ${ke.lang.round(r)}, ${ke.lang.round(i)})`:`rgb(${ke.lang.round(e)}, ${ke.lang.round(n)}, ${ke.lang.round(r)})`}},Kh=kS,Cz={format:{keyword:f6,hex:nu,rgb:Kh,rgba:Kh,hsl:Xh,hsla:Xh},parse:t=>{if(typeof t!="string")return t;const e=nu.parse(t)||Kh.parse(t)||Xh.parse(t)||f6.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Wn.HSL)||t.data.r===void 0?Xh.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?Kh.stringify(t):nu.stringify(t)},Pa=Cz,Sz=(t,e)=>{const n=Pa.parse(t);for(const r in e)n[r]=ke.channel.clamp[r](e[r]);return Pa.stringify(n)},TS=Sz,Az=(t,e,n=0,r=1)=>{if(typeof t!="number")return TS(t,{a:e});const i=bd.set({r:ke.channel.clamp.r(t),g:ke.channel.clamp.g(e),b:ke.channel.clamp.b(n),a:ke.channel.clamp.a(r)});return Pa.stringify(i)},ru=Az,Mz=(t,e,n)=>{const r=Pa.parse(t),i=r[e],a=ke.channel.clamp[e](i+n);return i!==a&&(r[e]=a),Pa.stringify(r)},ES=Mz,Lz=(t,e)=>ES(t,"l",e),ce=Lz,Rz=(t,e)=>ES(t,"l",-e),be=Rz,Nz=(t,e)=>{const n=Pa.parse(t),r={};for(const i in e)!e[i]||(r[i]=n[i]+e[i]);return TS(t,r)},_t=Nz,Iz=(t,e,n=50)=>{const{r,g:i,b:a,a:s}=Pa.parse(t),{r:o,g:l,b:u,a:h}=Pa.parse(e),d=n/100,f=d*2-1,p=s-h,m=((f*p===-1?f:(f+p)/(1+f*p))+1)/2,b=1-m,x=r*m+o*b,k=i*m+l*b,T=a*m+u*b,S=s*d+h*(1-d);return ru(x,k,T,S)},Bz=Iz,Dz=(t,e=100)=>{const n=Pa.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,Bz(n,t,e)},Yt=Dz;var CS="comm",SS="rule",AS="decl",Oz="@import",Fz="@keyframes",Pz=Math.abs,$_=String.fromCharCode;function MS(t){return t.trim()}function P3(t,e,n){return t.replace(e,n)}function $z(t,e){return t.indexOf(e)}function ku(t,e){return t.charCodeAt(e)|0}function Tu(t,e,n){return t.slice(e,n)}function ts(t){return t.length}function LS(t){return t.length}function Zh(t,e){return e.push(t),t}var vd=1,Tc=1,RS=0,Gr=0,xn=0,Hc="";function q_(t,e,n,r,i,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:vd,column:Tc,length:s,return:""}}function qz(){return xn}function Vz(){return xn=Gr>0?ku(Hc,--Gr):0,Tc--,xn===10&&(Tc=1,vd--),xn}function pi(){return xn=Gr<RS?ku(Hc,Gr++):0,Tc++,xn===10&&(Tc=1,vd++),xn}function to(){return ku(Hc,Gr)}function zf(){return Gr}function _d(t,e){return Tu(Hc,t,e)}function $3(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Yz(t){return vd=Tc=1,RS=ts(Hc=t),Gr=0,[]}function zz(t){return Hc="",t}function fp(t){return MS(_d(Gr-1,q3(t===91?t+2:t===40?t+1:t)))}function Uz(t){for(;(xn=to())&&xn<33;)pi();return $3(t)>2||$3(xn)>3?"":" "}function Wz(t,e){for(;--e&&pi()&&!(xn<48||xn>102||xn>57&&xn<65||xn>70&&xn<97););return _d(t,zf()+(e<6&&to()==32&&pi()==32))}function q3(t){for(;pi();)switch(xn){case t:return Gr;case 34:case 39:t!==34&&t!==39&&q3(xn);break;case 40:t===41&&q3(t);break;case 92:pi();break}return Gr}function Hz(t,e){for(;pi()&&t+xn!==47+10;)if(t+xn===42+42&&to()===47)break;return"/*"+_d(e,Gr-1)+"*"+$_(t===47?t:pi())}function Gz(t){for(;!$3(to());)pi();return _d(t,Gr)}function NS(t){return zz(Uf("",null,null,null,[""],t=Yz(t),0,[0],t))}function Uf(t,e,n,r,i,a,s,o,l){for(var u=0,h=0,d=s,f=0,p=0,y=0,m=1,b=1,x=1,k=0,T="",S=i,L=a,R=r,A=T;b;)switch(y=k,k=pi()){case 40:if(y!=108&&ku(A,d-1)==58){$z(A+=P3(fp(k),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:A+=fp(k);break;case 9:case 10:case 13:case 32:A+=Uz(y);break;case 92:A+=Wz(zf()-1,7);continue;case 47:switch(to()){case 42:case 47:Zh(jz(Hz(pi(),zf()),e,n),l);break;default:A+="/"}break;case 123*m:o[u++]=ts(A)*x;case 125*m:case 59:case 0:switch(k){case 0:case 125:b=0;case 59+h:p>0&&ts(A)-d&&Zh(p>32?p6(A+";",r,n,d-1):p6(P3(A," ","")+";",r,n,d-2),l);break;case 59:A+=";";default:if(Zh(R=d6(A,e,n,u,h,i,o,T,S=[],L=[],d),a),k===123)if(h===0)Uf(A,e,R,R,S,a,d,o,L);else switch(f===99&&ku(A,3)===110?100:f){case 100:case 109:case 115:Uf(t,R,R,r&&Zh(d6(t,R,R,0,0,i,o,T,i,S=[],d),L),i,L,d,o,r?S:L);break;default:Uf(A,R,R,R,[""],L,0,o,L)}}u=h=p=0,m=x=1,T=A="",d=s;break;case 58:d=1+ts(A),p=y;default:if(m<1){if(k==123)--m;else if(k==125&&m++==0&&Vz()==125)continue}switch(A+=$_(k),k*m){case 38:x=h>0?1:(A+="\f",-1);break;case 44:o[u++]=(ts(A)-1)*x,x=1;break;case 64:to()===45&&(A+=fp(pi())),f=to(),h=d=ts(T=A+=Gz(zf())),k++;break;case 45:y===45&&ts(A)==2&&(m=0)}}return a}function d6(t,e,n,r,i,a,s,o,l,u,h){for(var d=i-1,f=i===0?a:[""],p=LS(f),y=0,m=0,b=0;y<r;++y)for(var x=0,k=Tu(t,d+1,d=Pz(m=s[y])),T=t;x<p;++x)(T=MS(m>0?f[x]+" "+k:P3(k,/&\f/g,f[x])))&&(l[b++]=T);return q_(t,e,n,i===0?SS:o,l,u,h)}function jz(t,e,n){return q_(t,e,n,CS,$_(qz()),Tu(t,2,-2),0)}function p6(t,e,n,r){return q_(t,e,n,AS,Tu(t,0,r),Tu(t,r+1,-1),r)}function L1(t,e){for(var n="",r=LS(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function IS(t,e,n,r){switch(t.type){case Oz:case AS:return t.return=t.return||t.value;case CS:return"";case Fz:return t.return=t.value+"{"+L1(t.children,r)+"}";case SS:t.value=t.props.join(",")}return ts(n=L1(t.children,r))?t.return=t.value+"{"+n+"}":""}var dp,g6;function V_(){if(g6)return dp;g6=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return dp=t,dp}var pp,y6;function xd(){if(y6)return pp;y6=1;var t=d_,e=od(),n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o){var l=a[s];(!(r.call(a,s)&&e(l,o))||o===void 0&&!(s in a))&&t(a,s,o)}return pp=i,pp}var gp,m6;function fh(){if(m6)return gp;m6=1;var t=xd(),e=d_;function n(r,i,a,s){var o=!a;a||(a={});for(var l=-1,u=i.length;++l<u;){var h=i[l],d=s?s(a[h],r[h],h,a,r):void 0;d===void 0&&(d=r[h]),o?e(a,h,d):t(a,h,d)}return a}return gp=n,gp}var yp,b6;function Xz(){if(b6)return yp;b6=1;var t=fh(),e=sh;function n(r,i){return r&&t(i,e(i),r)}return yp=n,yp}var mp,v6;function Kz(){if(v6)return mp;v6=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return mp=t,mp}var bp,_6;function Zz(){if(_6)return bp;_6=1;var t=Ya(),e=p_,n=Kz(),r=Object.prototype,i=r.hasOwnProperty;function a(s){if(!t(s))return n(s);var o=e(s),l=[];for(var u in s)u=="constructor"&&(o||!i.call(s,u))||l.push(u);return l}return bp=a,bp}var vp,x6;function So(){if(x6)return vp;x6=1;var t=GD,e=Zz(),n=ks;function r(i){return n(i)?t(i,!0):e(i)}return vp=r,vp}var _p,w6;function Qz(){if(w6)return _p;w6=1;var t=fh(),e=So();function n(r,i){return r&&t(i,e(i),r)}return _p=n,_p}var Qh={exports:{}},k6;function BS(){return k6||(k6=1,function(t,e){var n=YE(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(u,h){if(h)return u.slice();var d=u.length,f=o?o(d):new u.constructor(d);return u.copy(f),f}t.exports=l}(Qh,Qh.exports)),Qh.exports}var xp,T6;function DS(){if(T6)return xp;T6=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return xp=t,xp}var wp,E6;function Jz(){if(E6)return wp;E6=1;var t=fh(),e=zE();function n(r,i){return t(r,e(r),i)}return wp=n,wp}var kp,C6;function wd(){if(C6)return kp;C6=1;var t=jD,e=t(Object.getPrototypeOf,Object);return kp=e,kp}var Tp,S6;function OS(){if(S6)return Tp;S6=1;var t=UE(),e=wd(),n=zE(),r=XD(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)t(o,n(s)),s=e(s);return o}:r;return Tp=a,Tp}var Ep,A6;function tU(){if(A6)return Ep;A6=1;var t=fh(),e=OS();function n(r,i){return t(r,e(r),i)}return Ep=n,Ep}var Cp,M6;function eU(){if(M6)return Cp;M6=1;var t=KD(),e=OS(),n=So();function r(i){return t(i,n,e)}return Cp=r,Cp}var Sp,L6;function nU(){if(L6)return Sp;L6=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return Sp=n,Sp}var Ap,R6;function Y_(){if(R6)return Ap;R6=1;var t=ZD;function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return Ap=e,Ap}var Mp,N6;function rU(){if(N6)return Mp;N6=1;var t=Y_();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Mp=e,Mp}var Lp,I6;function iU(){if(I6)return Lp;I6=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return Lp=e,Lp}var Rp,B6;function aU(){if(B6)return Rp;B6=1;var t=WE,e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Rp=r,Rp}var Np,D6;function FS(){if(D6)return Np;D6=1;var t=Y_();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return Np=e,Np}var Ip,O6;function sU(){if(O6)return Ip;O6=1;var t=Y_(),e=rU(),n=iU(),r=aU(),i=FS(),a="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",u="[object RegExp]",h="[object Set]",d="[object String]",f="[object Symbol]",p="[object ArrayBuffer]",y="[object DataView]",m="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",T="[object Int32Array]",S="[object Uint8Array]",L="[object Uint8ClampedArray]",R="[object Uint16Array]",A="[object Uint32Array]";function I(C,N,v){var E=C.constructor;switch(N){case p:return t(C);case a:case s:return new E(+C);case y:return e(C,v);case m:case b:case x:case k:case T:case S:case L:case R:case A:return i(C,v);case o:return new E;case l:case d:return new E(C);case u:return n(C);case h:return new E;case f:return r(C)}}return Ip=I,Ip}var Bp,F6;function PS(){if(F6)return Bp;F6=1;var t=Ya(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return Bp=n,Bp}var Dp,P6;function $S(){if(P6)return Dp;P6=1;var t=PS(),e=wd(),n=p_;function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return Dp=r,Dp}var Op,$6;function oU(){if($6)return Op;$6=1;var t=oh(),e=ch,n="[object Map]";function r(i){return e(i)&&t(i)==n}return Op=r,Op}var Fp,q6;function cU(){if(q6)return Fp;q6=1;var t=oU(),e=g_(),n=HE(),r=n&&n.isMap,i=r?e(r):t;return Fp=i,Fp}var Pp,V6;function lU(){if(V6)return Pp;V6=1;var t=oh(),e=ch,n="[object Set]";function r(i){return e(i)&&t(i)==n}return Pp=r,Pp}var $p,Y6;function uU(){if(Y6)return $p;Y6=1;var t=lU(),e=g_(),n=HE(),r=n&&n.isSet,i=r?e(r):t;return $p=i,$p}var qp,z6;function qS(){if(z6)return qp;z6=1;var t=GE,e=V_(),n=xd(),r=Xz(),i=Qz(),a=BS(),s=DS(),o=Jz(),l=tU(),u=QD(),h=eU(),d=oh(),f=nU(),p=sU(),y=$S(),m=jr,b=cd(),x=cU(),k=Ya(),T=uU(),S=sh,L=So(),R=1,A=2,I=4,C="[object Arguments]",N="[object Array]",v="[object Boolean]",E="[object Date]",_="[object Error]",V="[object Function]",B="[object GeneratorFunction]",G="[object Map]",tt="[object Number]",ut="[object Object]",X="[object RegExp]",z="[object Set]",j="[object String]",ht="[object Symbol]",it="[object WeakMap]",et="[object ArrayBuffer]",ft="[object DataView]",st="[object Float32Array]",wt="[object Float64Array]",Z="[object Int8Array]",F="[object Int16Array]",H="[object Int32Array]",q="[object Uint8Array]",D="[object Uint8ClampedArray]",$="[object Uint16Array]",U="[object Uint32Array]",P={};P[C]=P[N]=P[et]=P[ft]=P[v]=P[E]=P[st]=P[wt]=P[Z]=P[F]=P[H]=P[G]=P[tt]=P[ut]=P[X]=P[z]=P[j]=P[ht]=P[q]=P[D]=P[$]=P[U]=!0,P[_]=P[V]=P[it]=!1;function K(ct,Dt,Mt,Ot,Ct,dt){var yt,bt=Dt&R,Tt=Dt&A,ot=Dt&I;if(Mt&&(yt=Ct?Mt(ct,Ot,Ct,dt):Mt(ct)),yt!==void 0)return yt;if(!k(ct))return ct;var le=m(ct);if(le){if(yt=f(ct),!bt)return s(ct,yt)}else{var It=d(ct),Ht=It==V||It==B;if(b(ct))return a(ct,bt);if(It==ut||It==C||Ht&&!Ct){if(yt=Tt||Ht?{}:y(ct),!bt)return Tt?l(ct,i(yt,ct)):o(ct,r(yt,ct))}else{if(!P[It])return Ct?ct:{};yt=p(ct,It,bt)}}dt||(dt=new t);var Xt=dt.get(ct);if(Xt)return Xt;dt.set(ct,yt),T(ct)?ct.forEach(function(Gt){yt.add(K(Gt,Dt,Mt,Gt,ct,dt))}):x(ct)&&ct.forEach(function(Gt,Ft){yt.set(Ft,K(Gt,Dt,Mt,Ft,ct,dt))});var Jt=ot?Tt?h:u:Tt?L:S,Te=le?void 0:Jt(ct);return e(Te||ct,function(Gt,Ft){Te&&(Ft=Gt,Gt=ct[Ft]),n(yt,Ft,K(Gt,Dt,Mt,Ft,ct,dt))}),yt}return qp=K,qp}var Vp,U6;function hU(){if(U6)return Vp;U6=1;var t=qS(),e=4;function n(r){return t(r,e)}return Vp=n,Vp}var Yp,W6;function z_(){if(W6)return Yp;W6=1;function t(e){return function(){return e}}return Yp=t,Yp}var zp={exports:{}},Up,H6;function fU(){if(H6)return Up;H6=1;var t=ks;function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,o=r?s:-1,l=Object(i);(r?o--:++o<s)&&a(l[o],o,l)!==!1;);return i}}return Up=e,Up}var Wp,G6;function kd(){if(G6)return Wp;G6=1;var t=jE,e=fU(),n=e(t);return Wp=n,Wp}var Hp,j6;function VS(){if(j6)return Hp;j6=1;var t=Wc;function e(n){return typeof n=="function"?n:t}return Hp=e,Hp}var Gp,X6;function YS(){if(X6)return Gp;X6=1;var t=V_(),e=kd(),n=VS(),r=jr;function i(a,s){var o=r(a)?t:e;return o(a,n(s))}return Gp=i,Gp}var K6;function U_(){return K6||(K6=1,function(t){t.exports=YS()}(zp)),zp.exports}var jp,Z6;function dU(){if(Z6)return jp;Z6=1;var t=kd();function e(n,r){var i=[];return t(n,function(a,s,o){r(a,s,o)&&i.push(a)}),i}return jp=e,jp}var Xp,Q6;function zS(){if(Q6)return Xp;Q6=1;var t=JD(),e=dU(),n=Ts,r=jr;function i(a,s){var o=r(a)?t:e;return o(a,n(s))}return Xp=i,Xp}var Kp,J6;function pU(){if(J6)return Kp;J6=1;var t=XE,e=oh(),n=m_,r=jr,i=ks,a=cd(),s=p_,o=y_(),l="[object Map]",u="[object Set]",h=Object.prototype,d=h.hasOwnProperty;function f(p){if(p==null)return!0;if(i(p)&&(r(p)||typeof p=="string"||typeof p.splice=="function"||a(p)||o(p)||n(p)))return!p.length;var y=e(p);if(y==l||y==u)return!p.size;if(s(p))return!t(p).length;for(var m in p)if(d.call(p,m))return!1;return!0}return Kp=f,Kp}var Zp,t8;function US(){if(t8)return Zp;t8=1;function t(e){return e===void 0}return Zp=t,Zp}var Qp,e8;function WS(){if(e8)return Qp;e8=1;var t=kd(),e=ks;function n(r,i){var a=-1,s=e(r)?Array(r.length):[];return t(r,function(o,l,u){s[++a]=i(o,l,u)}),s}return Qp=n,Qp}var Jp,n8;function HS(){if(n8)return Jp;n8=1;var t=b_(),e=Ts,n=WS(),r=jr;function i(a,s){var o=r(a)?t:n;return o(a,e(s))}return Jp=i,Jp}var tg,r8;function gU(){if(r8)return tg;r8=1;function t(e,n,r,i,a){return a(e,function(s,o,l){r=i?(i=!1,s):n(r,s,o,l)}),r}return tg=t,tg}var eg,i8;function GS(){if(i8)return eg;i8=1;var t=tO,e=kd(),n=Ts,r=gU(),i=jr;function a(s,o,l){var u=i(s)?t:r,h=arguments.length<3;return u(s,n(o),l,h,e)}return eg=a,eg}var ng,a8;function yU(){if(a8)return ng;a8=1;var t=KE(),e=jr,n=ch,r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return ng=i,ng}var rg,s8;function mU(){if(s8)return rg;s8=1;var t=eO,e=t("length");return rg=e,rg}var ig,o8;function bU(){if(o8)return ig;o8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",s="["+t+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+o+"|"+l+")",h="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",m="["+a+"]?",b="(?:"+p+"(?:"+[h,d,f].join("|")+")"+m+y+")*",x=m+y+b,k="(?:"+[h+o+"?",o,d,f,s].join("|")+")",T=RegExp(l+"(?="+l+")|"+k+x,"g");function S(L){for(var R=T.lastIndex=0;T.test(L);)++R;return R}return ig=S,ig}var ag,c8;function vU(){if(c8)return ag;c8=1;var t=mU(),e=nO,n=bU();function r(i){return e(i)?n(i):t(i)}return ag=r,ag}var sg,l8;function _U(){if(l8)return sg;l8=1;var t=XE,e=oh(),n=ks,r=yU(),i=vU(),a="[object Map]",s="[object Set]";function o(l){if(l==null)return 0;if(n(l))return r(l)?i(l):l.length;var u=e(l);return u==a||u==s?l.size:t(l).length}return sg=o,sg}var og,u8;function xU(){if(u8)return og;u8=1;var t=V_(),e=PS(),n=jE,r=Ts,i=wd(),a=jr,s=cd(),o=ld(),l=Ya(),u=y_();function h(d,f,p){var y=a(d),m=y||s(d)||u(d);if(f=r(f),p==null){var b=d&&d.constructor;m?p=y?new b:[]:l(d)?p=o(b)?e(i(d)):{}:p={}}return(m?t:n)(d,function(x,k,T){return f(p,x,k,T)}),p}return og=h,og}var cg,h8;function wU(){if(h8)return cg;h8=1;var t=WE,e=m_,n=jr,r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return cg=i,cg}var lg,f8;function W_(){if(f8)return lg;f8=1;var t=UE(),e=wU();function n(r,i,a,s,o){var l=-1,u=r.length;for(a||(a=e),o||(o=[]);++l<u;){var h=r[l];i>0&&a(h)?i>1?n(h,i-1,a,s,o):t(o,h):s||(o[o.length]=h)}return o}return lg=n,lg}var ug,d8;function kU(){if(d8)return ug;d8=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return ug=t,ug}var hg,p8;function jS(){if(p8)return hg;p8=1;var t=kU(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,o=-1,l=e(s.length-i,0),u=Array(l);++o<l;)u[o]=s[i+o];o=-1;for(var h=Array(i+1);++o<i;)h[o]=s[o];return h[i]=a(u),t(r,this,h)}}return hg=n,hg}var fg,g8;function TU(){if(g8)return fg;g8=1;var t=z_(),e=rO,n=Wc,r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return fg=r,fg}var dg,y8;function EU(){if(y8)return dg;y8=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var o=n(),l=e-(o-s);if(s=o,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return dg=r,dg}var pg,m8;function XS(){if(m8)return pg;m8=1;var t=TU(),e=EU(),n=e(t);return pg=n,pg}var gg,b8;function Td(){if(b8)return gg;b8=1;var t=Wc,e=jS(),n=XS();function r(i,a){return n(e(i,a,t),i+"")}return gg=r,gg}var yg,v8;function KS(){if(v8)return yg;v8=1;function t(e,n,r,i){for(var a=e.length,s=r+(i?1:-1);i?s--:++s<a;)if(n(e[s],s,e))return s;return-1}return yg=t,yg}var mg,_8;function CU(){if(_8)return mg;_8=1;function t(e){return e!==e}return mg=t,mg}var bg,x8;function SU(){if(x8)return bg;x8=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return bg=t,bg}var vg,w8;function AU(){if(w8)return vg;w8=1;var t=KS(),e=CU(),n=SU();function r(i,a,s){return a===a?n(i,a,s):t(i,e,s)}return vg=r,vg}var _g,k8;function MU(){if(k8)return _g;k8=1;var t=AU();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return _g=e,_g}var xg,T8;function LU(){if(T8)return xg;T8=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return xg=t,xg}var wg,E8;function RU(){if(E8)return wg;E8=1;function t(){}return wg=t,wg}var kg,C8;function NU(){if(C8)return kg;C8=1;var t=iO(),e=RU(),n=ZE(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return kg=i,kg}var Tg,S8;function IU(){if(S8)return Tg;S8=1;var t=aO(),e=MU(),n=LU(),r=sO(),i=NU(),a=ZE(),s=200;function o(l,u,h){var d=-1,f=e,p=l.length,y=!0,m=[],b=m;if(h)y=!1,f=n;else if(p>=s){var x=u?null:i(l);if(x)return a(x);y=!1,f=r,b=new t}else b=u?[]:m;t:for(;++d<p;){var k=l[d],T=u?u(k):k;if(k=h||k!==0?k:0,y&&T===T){for(var S=b.length;S--;)if(b[S]===T)continue t;u&&b.push(T),m.push(k)}else f(b,T,h)||(b!==m&&b.push(T),m.push(k))}return m}return Tg=o,Tg}var Eg,A8;function ZS(){if(A8)return Eg;A8=1;var t=ks,e=ch;function n(r){return e(r)&&t(r)}return Eg=n,Eg}var Cg,M8;function BU(){if(M8)return Cg;M8=1;var t=W_(),e=Td(),n=IU(),r=ZS(),i=e(function(a){return n(t(a,1,r,!0))});return Cg=i,Cg}var Sg,L8;function DU(){if(L8)return Sg;L8=1;var t=b_();function e(n,r){return t(r,function(i){return n[i]})}return Sg=e,Sg}var Ag,R8;function QS(){if(R8)return Ag;R8=1;var t=DU(),e=sh;function n(r){return r==null?[]:t(r,e(r))}return Ag=n,Ag}var R1;if(typeof Es=="function")try{R1={clone:hU(),constant:z_(),each:U_(),filter:zS(),has:v_,isArray:jr,isEmpty:pU(),isFunction:ld(),isUndefined:US(),keys:sh,map:HS(),reduce:GS(),size:_U(),transform:xU(),union:BU(),values:QS()}}catch{}R1||(R1=window._);var Xr=R1,we=Xr,H_=Ie,OU="\0",oo="\0",N8="";function Ie(t){this._isDirected=we.has(t,"directed")?t.directed:!0,this._isMultigraph=we.has(t,"multigraph")?t.multigraph:!1,this._isCompound=we.has(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=we.constant(void 0),this._defaultEdgeLabelFn=we.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[oo]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}Ie.prototype._nodeCount=0;Ie.prototype._edgeCount=0;Ie.prototype.isDirected=function(){return this._isDirected};Ie.prototype.isMultigraph=function(){return this._isMultigraph};Ie.prototype.isCompound=function(){return this._isCompound};Ie.prototype.setGraph=function(t){return this._label=t,this};Ie.prototype.graph=function(){return this._label};Ie.prototype.setDefaultNodeLabel=function(t){return we.isFunction(t)||(t=we.constant(t)),this._defaultNodeLabelFn=t,this};Ie.prototype.nodeCount=function(){return this._nodeCount};Ie.prototype.nodes=function(){return we.keys(this._nodes)};Ie.prototype.sources=function(){var t=this;return we.filter(this.nodes(),function(e){return we.isEmpty(t._in[e])})};Ie.prototype.sinks=function(){var t=this;return we.filter(this.nodes(),function(e){return we.isEmpty(t._out[e])})};Ie.prototype.setNodes=function(t,e){var n=arguments,r=this;return we.each(t,function(i){n.length>1?r.setNode(i,e):r.setNode(i)}),this};Ie.prototype.setNode=function(t,e){return we.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=oo,this._children[t]={},this._children[oo][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)};Ie.prototype.node=function(t){return this._nodes[t]};Ie.prototype.hasNode=function(t){return we.has(this._nodes,t)};Ie.prototype.removeNode=function(t){var e=this;if(we.has(this._nodes,t)){var n=function(r){e.removeEdge(e._edgeObjs[r])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],we.each(this.children(t),function(r){e.setParent(r)}),delete this._children[t]),we.each(we.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],we.each(we.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this};Ie.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(we.isUndefined(e))e=oo;else{e+="";for(var n=e;!we.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this};Ie.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]};Ie.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==oo)return e}};Ie.prototype.children=function(t){if(we.isUndefined(t)&&(t=oo),this._isCompound){var e=this._children[t];if(e)return we.keys(e)}else{if(t===oo)return this.nodes();if(this.hasNode(t))return[]}};Ie.prototype.predecessors=function(t){var e=this._preds[t];if(e)return we.keys(e)};Ie.prototype.successors=function(t){var e=this._sucs[t];if(e)return we.keys(e)};Ie.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return we.union(e,this.successors(t))};Ie.prototype.isLeaf=function(t){var e;return this.isDirected()?e=this.successors(t):e=this.neighbors(t),e.length===0};Ie.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;we.each(this._nodes,function(a,s){t(s)&&e.setNode(s,a)}),we.each(this._edgeObjs,function(a){e.hasNode(a.v)&&e.hasNode(a.w)&&e.setEdge(a,n.edge(a))});var r={};function i(a){var s=n.parent(a);return s===void 0||e.hasNode(s)?(r[a]=s,s):s in r?r[s]:i(s)}return this._isCompound&&we.each(e.nodes(),function(a){e.setParent(a,i(a))}),e};Ie.prototype.setDefaultEdgeLabel=function(t){return we.isFunction(t)||(t=we.constant(t)),this._defaultEdgeLabelFn=t,this};Ie.prototype.edgeCount=function(){return this._edgeCount};Ie.prototype.edges=function(){return we.values(this._edgeObjs)};Ie.prototype.setPath=function(t,e){var n=this,r=arguments;return we.reduce(t,function(i,a){return r.length>1?n.setEdge(i,a,e):n.setEdge(i,a),a}),this};Ie.prototype.setEdge=function(){var t,e,n,r,i=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(t=a.v,e=a.w,n=a.name,arguments.length===2&&(r=arguments[1],i=!0)):(t=a,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,we.isUndefined(n)||(n=""+n);var s=dh(this._isDirected,t,e,n);if(we.has(this._edgeLabels,s))return i&&(this._edgeLabels[s]=r),this;if(!we.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=i?r:this._defaultEdgeLabelFn(t,e,n);var o=FU(this._isDirected,t,e,n);return t=o.v,e=o.w,Object.freeze(o),this._edgeObjs[s]=o,I8(this._preds[e],t),I8(this._sucs[t],e),this._in[e][s]=o,this._out[t][s]=o,this._edgeCount++,this};Ie.prototype.edge=function(t,e,n){var r=arguments.length===1?G_(this._isDirected,arguments[0]):dh(this._isDirected,t,e,n);return this._edgeLabels[r]};Ie.prototype.hasEdge=function(t,e,n){var r=arguments.length===1?G_(this._isDirected,arguments[0]):dh(this._isDirected,t,e,n);return we.has(this._edgeLabels,r)};Ie.prototype.removeEdge=function(t,e,n){var r=arguments.length===1?G_(this._isDirected,arguments[0]):dh(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],B8(this._preds[e],t),B8(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this};Ie.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=we.values(n);return e?we.filter(r,function(i){return i.v===e}):r}};Ie.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=we.values(n);return e?we.filter(r,function(i){return i.w===e}):r}};Ie.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};function I8(t,e){t[e]?t[e]++:t[e]=1}function B8(t,e){--t[e]||delete t[e]}function dh(t,e,n,r){var i=""+e,a=""+n;if(!t&&i>a){var s=i;i=a,a=s}return i+N8+a+N8+(we.isUndefined(r)?OU:r)}function FU(t,e,n,r){var i=""+e,a=""+n;if(!t&&i>a){var s=i;i=a,a=s}var o={v:i,w:a};return r&&(o.name=r),o}function G_(t,e){return dh(t,e.v,e.w,e.name)}var PU="2.1.8",$U={Graph:H_,version:PU},Xi=Xr,qU=H_,VU={write:YU,read:WU};function YU(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:zU(t),edges:UU(t)};return Xi.isUndefined(t.graph())||(e.value=Xi.clone(t.graph())),e}function zU(t){return Xi.map(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return Xi.isUndefined(n)||(i.value=n),Xi.isUndefined(r)||(i.parent=r),i})}function UU(t){return Xi.map(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return Xi.isUndefined(e.name)||(r.name=e.name),Xi.isUndefined(n)||(r.value=n),r})}function WU(t){var e=new qU(t.options).setGraph(t.value);return Xi.each(t.nodes,function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),Xi.each(t.edges,function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}var Jh=Xr,HU=GU;function GU(t){var e={},n=[],r;function i(a){Jh.has(e,a)||(e[a]=!0,r.push(a),Jh.each(t.successors(a),i),Jh.each(t.predecessors(a),i))}return Jh.each(t.nodes(),function(a){r=[],i(a),r.length&&n.push(r)}),n}var JS=Xr,tA=Kr;function Kr(){this._arr=[],this._keyIndices={}}Kr.prototype.size=function(){return this._arr.length};Kr.prototype.keys=function(){return this._arr.map(function(t){return t.key})};Kr.prototype.has=function(t){return JS.has(this._keyIndices,t)};Kr.prototype.priority=function(t){var e=this._keyIndices[t];if(e!==void 0)return this._arr[e].priority};Kr.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};Kr.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!JS.has(n,t)){var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0}return!1};Kr.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key};Kr.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)};Kr.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))};Kr.prototype._decrease=function(t){for(var e=this._arr,n=e[t].priority,r;t!==0&&(r=t>>1,!(e[r].priority<n));)this._swap(t,r),t=r};Kr.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],a=n[e];n[t]=a,n[e]=i,r[a.key]=t,r[i.key]=e};var jU=Xr,XU=tA,eA=ZU,KU=jU.constant(1);function ZU(t,e,n,r){return QU(t,String(e),n||KU,r||function(i){return t.outEdges(i)})}function QU(t,e,n,r){var i={},a=new XU,s,o,l=function(u){var h=u.v!==s?u.v:u.w,d=i[h],f=n(u),p=o.distance+f;if(f<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+f);p<d.distance&&(d.distance=p,d.predecessor=s,a.decrease(h,p))};for(t.nodes().forEach(function(u){var h=u===e?0:Number.POSITIVE_INFINITY;i[u]={distance:h},a.add(u,h)});a.size()>0&&(s=a.removeMin(),o=i[s],o.distance!==Number.POSITIVE_INFINITY);)r(s).forEach(l);return i}var JU=eA,tW=Xr,eW=nW;function nW(t,e,n){return tW.transform(t.nodes(),function(r,i){r[i]=JU(t,i,e,n)},{})}var D8=Xr,nA=rW;function rW(t){var e=0,n=[],r={},i=[];function a(s){var o=r[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach(function(h){D8.has(r,h)?r[h].onStack&&(o.lowlink=Math.min(o.lowlink,r[h].index)):(a(h),o.lowlink=Math.min(o.lowlink,r[h].lowlink))}),o.lowlink===o.index){var l=[],u;do u=n.pop(),r[u].onStack=!1,l.push(u);while(s!==u);i.push(l)}}return t.nodes().forEach(function(s){D8.has(r,s)||a(s)}),i}var iW=Xr,aW=nA,sW=oW;function oW(t){return iW.filter(aW(t),function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})}var cW=Xr,lW=hW,uW=cW.constant(1);function hW(t,e,n){return fW(t,e||uW,n||function(r){return t.outEdges(r)})}function fW(t,e,n){var r={},i=t.nodes();return i.forEach(function(a){r[a]={},r[a][a]={distance:0},i.forEach(function(s){a!==s&&(r[a][s]={distance:Number.POSITIVE_INFINITY})}),n(a).forEach(function(s){var o=s.v===a?s.w:s.v,l=e(s);r[a][o]={distance:l,predecessor:a}})}),i.forEach(function(a){var s=r[a];i.forEach(function(o){var l=r[o];i.forEach(function(u){var h=l[a],d=s[u],f=l[u],p=h.distance+d.distance;p<f.distance&&(f.distance=p,f.predecessor=d.predecessor)})})}),r}var dl=Xr,rA=iA;iA.CycleException=N1;function iA(t){var e={},n={},r=[];function i(a){if(dl.has(n,a))throw new N1;dl.has(e,a)||(n[a]=!0,e[a]=!0,dl.each(t.predecessors(a),i),delete n[a],r.push(a))}if(dl.each(t.sinks(),i),dl.size(e)!==t.nodeCount())throw new N1;return r}function N1(){}N1.prototype=new Error;var O8=rA,dW=pW;function pW(t){try{O8(t)}catch(e){if(e instanceof O8.CycleException)return!1;throw e}return!0}var I1=Xr,aA=gW;function gW(t,e,n){I1.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return I1.each(e,function(s){if(!t.hasNode(s))throw new Error("Graph does not have node: "+s);sA(t,s,n==="post",a,r,i)}),i}function sA(t,e,n,r,i,a){I1.has(r,e)||(r[e]=!0,n||a.push(e),I1.each(i(e),function(s){sA(t,s,n,r,i,a)}),n&&a.push(e))}var yW=aA,mW=bW;function bW(t,e){return yW(t,e,"post")}var vW=aA,_W=xW;function xW(t,e){return vW(t,e,"pre")}var F8=Xr,wW=H_,kW=tA,TW=EW;function EW(t,e){var n=new wW,r={},i=new kW,a;function s(l){var u=l.v===a?l.w:l.v,h=i.priority(u);if(h!==void 0){var d=e(l);d<h&&(r[u]=a,i.decrease(u,d))}}if(t.nodeCount()===0)return n;F8.each(t.nodes(),function(l){i.add(l,Number.POSITIVE_INFINITY),n.setNode(l)}),i.decrease(t.nodes()[0],0);for(var o=!1;i.size()>0;){if(a=i.removeMin(),F8.has(r,a))n.setEdge(a,r[a]);else{if(o)throw new Error("Input graph is not connected: "+t);o=!0}t.nodeEdges(a).forEach(s)}return n}var CW={components:HU,dijkstra:eA,dijkstraAll:eW,findCycles:sW,floydWarshall:lW,isAcyclic:dW,postorder:mW,preorder:_W,prim:TW,tarjan:nA,topsort:rA},P8=$U,gn={Graph:P8.Graph,json:VU,alg:CW,version:P8.version},B1;if(typeof Es=="function")try{B1=gn}catch{}B1||(B1=window.graphlib);var ki=B1,Mg,$8;function SW(){if($8)return Mg;$8=1;var t=qS(),e=1,n=4;function r(i){return t(i,e|n)}return Mg=r,Mg}var Lg,q8;function Ed(){if(q8)return Lg;q8=1;var t=od(),e=ks,n=QE,r=Ya();function i(a,s,o){if(!r(o))return!1;var l=typeof s;return(l=="number"?e(o)&&n(s,o.length):l=="string"&&s in o)?t(o[s],a):!1}return Lg=i,Lg}var Rg,V8;function oA(){if(V8)return Rg;V8=1;var t=Td(),e=od(),n=Ed(),r=So(),i=Object.prototype,a=i.hasOwnProperty,s=t(function(o,l){o=Object(o);var u=-1,h=l.length,d=h>2?l[2]:void 0;for(d&&n(l[0],l[1],d)&&(h=1);++u<h;)for(var f=l[u],p=r(f),y=-1,m=p.length;++y<m;){var b=p[y],x=o[b];(x===void 0||e(x,i[b])&&!a.call(o,b))&&(o[b]=f[b])}return o});return Rg=s,Rg}var Ng,Y8;function AW(){if(Y8)return Ng;Y8=1;var t=Ts,e=ks,n=sh;function r(i){return function(a,s,o){var l=Object(a);if(!e(a)){var u=t(s);a=n(a),s=function(d){return u(l[d],d,l)}}var h=i(a,s,o);return h>-1?l[u?a[h]:h]:void 0}}return Ng=r,Ng}var Ig,z8;function MW(){if(z8)return Ig;z8=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Ig=e,Ig}var Bg,U8;function LW(){if(U8)return Bg;U8=1;var t=MW(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Bg=n,Bg}var Dg,W8;function RW(){if(W8)return Dg;W8=1;var t=LW(),e=Ya(),n=__,r=0/0,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=e(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=t(u);var d=a.test(u);return d||s.test(u)?o(u.slice(2),d?2:8):i.test(u)?r:+u}return Dg=l,Dg}var Og,H8;function cA(){if(H8)return Og;H8=1;var t=RW(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return Og=r,Og}var Fg,G8;function NW(){if(G8)return Fg;G8=1;var t=cA();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return Fg=e,Fg}var Pg,j8;function IW(){if(j8)return Pg;j8=1;var t=KS(),e=Ts,n=NW(),r=Math.max;function i(a,s,o){var l=a==null?0:a.length;if(!l)return-1;var u=o==null?0:n(o);return u<0&&(u=r(l+u,0)),t(a,e(s),u)}return Pg=i,Pg}var $g,X8;function BW(){if(X8)return $g;X8=1;var t=AW(),e=IW(),n=t(e);return $g=n,$g}var qg,K8;function lA(){if(K8)return qg;K8=1;var t=W_();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return qg=e,qg}var Vg,Z8;function DW(){if(Z8)return Vg;Z8=1;var t=JE,e=VS(),n=So();function r(i,a){return i==null?i:t(i,e(a),n)}return Vg=r,Vg}var Yg,Q8;function OW(){if(Q8)return Yg;Q8=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Yg=t,Yg}var zg,J8;function j_(){if(J8)return zg;J8=1;var t=__;function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var o=n[a],l=r(o);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,h=o}return h}return zg=e,zg}var Ug,tw;function FW(){if(tw)return Ug;tw=1;function t(e,n){return e>n}return Ug=t,Ug}var Wg,ew;function PW(){if(ew)return Wg;ew=1;var t=j_(),e=FW(),n=Wc;function r(i){return i&&i.length?t(i,n,e):void 0}return Wg=r,Wg}var Hg,nw;function uA(){if(nw)return Hg;nw=1;var t=d_,e=od();function n(r,i,a){(a!==void 0&&!e(r[i],a)||a===void 0&&!(i in r))&&t(r,i,a)}return Hg=n,Hg}var Gg,rw;function hA(){if(rw)return Gg;rw=1;var t=KE(),e=wd(),n=ch,r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function u(h){if(!n(h)||t(h)!=r)return!1;var d=e(h);if(d===null)return!0;var f=o.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&s.call(f)==l}return Gg=u,Gg}var jg,iw;function fA(){if(iw)return jg;iw=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return jg=t,jg}var Xg,aw;function $W(){if(aw)return Xg;aw=1;var t=fh(),e=So();function n(r){return t(r,e(r))}return Xg=n,Xg}var Kg,sw;function qW(){if(sw)return Kg;sw=1;var t=uA(),e=BS(),n=FS(),r=DS(),i=$S(),a=m_,s=jr,o=ZS(),l=cd(),u=ld(),h=Ya(),d=hA(),f=y_(),p=fA(),y=$W();function m(b,x,k,T,S,L,R){var A=p(b,k),I=p(x,k),C=R.get(I);if(C){t(b,k,C);return}var N=L?L(A,I,k+"",b,x,R):void 0,v=N===void 0;if(v){var E=s(I),_=!E&&l(I),V=!E&&!_&&f(I);N=I,E||_||V?s(A)?N=A:o(A)?N=r(A):_?(v=!1,N=e(I,!0)):V?(v=!1,N=n(I,!0)):N=[]:d(I)||a(I)?(N=A,a(A)?N=y(A):(!h(A)||u(A))&&(N=i(I))):v=!1}v&&(R.set(I,N),S(N,I,T,L,R),R.delete(I)),t(b,k,N)}return Kg=m,Kg}var Zg,ow;function VW(){if(ow)return Zg;ow=1;var t=GE,e=uA(),n=JE,r=qW(),i=Ya(),a=So(),s=fA();function o(l,u,h,d,f){l!==u&&n(u,function(p,y){if(f||(f=new t),i(p))r(l,u,y,h,o,d,f);else{var m=d?d(s(l,y),p,y+"",l,u,f):void 0;m===void 0&&(m=p),e(l,y,m)}},a)}return Zg=o,Zg}var Qg,cw;function YW(){if(cw)return Qg;cw=1;var t=Td(),e=Ed();function n(r){return t(function(i,a){var s=-1,o=a.length,l=o>1?a[o-1]:void 0,u=o>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(o--,l):void 0,u&&e(a[0],a[1],u)&&(l=o<3?void 0:l,o=1),i=Object(i);++s<o;){var h=a[s];h&&r(i,h,s,l)}return i})}return Qg=n,Qg}var Jg,lw;function zW(){if(lw)return Jg;lw=1;var t=VW(),e=YW(),n=e(function(r,i,a){t(r,i,a)});return Jg=n,Jg}var ty,uw;function dA(){if(uw)return ty;uw=1;function t(e,n){return e<n}return ty=t,ty}var ey,hw;function UW(){if(hw)return ey;hw=1;var t=j_(),e=dA(),n=Wc;function r(i){return i&&i.length?t(i,n,e):void 0}return ey=r,ey}var ny,fw;function WW(){if(fw)return ny;fw=1;var t=j_(),e=Ts,n=dA();function r(i,a){return i&&i.length?t(i,e(a),n):void 0}return ny=r,ny}var ry,dw;function HW(){if(dw)return ry;dw=1;var t=YE(),e=function(){return t.Date.now()};return ry=e,ry}var iy,pw;function GW(){if(pw)return iy;pw=1;var t=xd(),e=tC,n=QE,r=Ya(),i=oO;function a(s,o,l,u){if(!r(s))return s;o=e(o,s);for(var h=-1,d=o.length,f=d-1,p=s;p!=null&&++h<d;){var y=i(o[h]),m=l;if(y==="__proto__"||y==="constructor"||y==="prototype")return s;if(h!=f){var b=p[y];m=u?u(b,y,p):void 0,m===void 0&&(m=r(b)?b:n(o[h+1])?[]:{})}t(p,y,m),p=p[y]}return s}return iy=a,iy}var ay,gw;function jW(){if(gw)return ay;gw=1;var t=eC,e=GW(),n=tC;function r(i,a,s){for(var o=-1,l=a.length,u={};++o<l;){var h=a[o],d=t(i,h);s(d,h)&&e(u,n(h,i),d)}return u}return ay=r,ay}var sy,yw;function XW(){if(yw)return sy;yw=1;var t=jW(),e=cO;function n(r,i){return t(r,i,function(a,s){return e(r,s)})}return sy=n,sy}var oy,mw;function KW(){if(mw)return oy;mw=1;var t=lA(),e=jS(),n=XS();function r(i){return n(e(i,void 0,t),i+"")}return oy=r,oy}var cy,bw;function pA(){if(bw)return cy;bw=1;var t=XW(),e=KW(),n=e(function(r,i){return r==null?{}:t(r,i)});return cy=n,cy}var ly,vw;function ZW(){if(vw)return ly;vw=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var o=-1,l=e(t((i-r)/(a||1)),0),u=Array(l);l--;)u[s?l:++o]=r,r+=a;return u}return ly=n,ly}var uy,_w;function QW(){if(_w)return uy;_w=1;var t=ZW(),e=Ed(),n=cA();function r(i){return function(a,s,o){return o&&typeof o!="number"&&e(a,s,o)&&(s=o=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),o=o===void 0?a<s?1:-1:n(o),t(a,s,o,i)}}return uy=r,uy}var hy,xw;function gA(){if(xw)return hy;xw=1;var t=QW(),e=t();return hy=e,hy}var fy,ww;function JW(){if(ww)return fy;ww=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return fy=t,fy}var dy,kw;function tH(){if(kw)return dy;kw=1;var t=__;function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,s=n===n,o=t(n),l=r!==void 0,u=r===null,h=r===r,d=t(r);if(!u&&!d&&!o&&n>r||o&&l&&h&&!u&&!d||a&&l&&h||!i&&h||!s)return 1;if(!a&&!o&&!d&&n<r||d&&i&&s&&!a&&!o||u&&i&&s||!l&&s||!h)return-1}return 0}return dy=e,dy}var py,Tw;function eH(){if(Tw)return py;Tw=1;var t=tH();function e(n,r,i){for(var a=-1,s=n.criteria,o=r.criteria,l=s.length,u=i.length;++a<l;){var h=t(s[a],o[a]);if(h){if(a>=u)return h;var d=i[a];return h*(d=="desc"?-1:1)}}return n.index-r.index}return py=e,py}var gy,Ew;function nH(){if(Ew)return gy;Ew=1;var t=b_(),e=eC,n=Ts,r=WS(),i=JW(),a=g_(),s=eH(),o=Wc,l=jr;function u(h,d,f){d.length?d=t(d,function(m){return l(m)?function(b){return e(b,m.length===1?m[0]:m)}:m}):d=[o];var p=-1;d=t(d,a(n));var y=r(h,function(m,b,x){var k=t(d,function(T){return T(m)});return{criteria:k,index:++p,value:m}});return i(y,function(m,b){return s(m,b,f)})}return gy=u,gy}var yy,Cw;function rH(){if(Cw)return yy;Cw=1;var t=W_(),e=nH(),n=Td(),r=Ed(),i=n(function(a,s){if(a==null)return[];var o=s.length;return o>1&&r(a,s[0],s[1])?s=[]:o>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(a,t(s,1),[])});return yy=i,yy}var my,Sw;function yA(){if(Sw)return my;Sw=1;var t=lO,e=0;function n(r){var i=++e;return t(r)+i}return my=n,my}var by,Aw;function iH(){if(Aw)return by;Aw=1;function t(e,n,r){for(var i=-1,a=e.length,s=n.length,o={};++i<a;){var l=i<s?n[i]:void 0;r(o,e[i],l)}return o}return by=t,by}var vy,Mw;function aH(){if(Mw)return vy;Mw=1;var t=xd(),e=iH();function n(r,i){return e(r||[],i||[],t)}return vy=n,vy}var D1;if(typeof Es=="function")try{D1={cloneDeep:SW(),constant:z_(),defaults:oA(),each:U_(),filter:zS(),find:BW(),flatten:lA(),forEach:YS(),forIn:DW(),has:v_,isUndefined:US(),last:OW(),map:HS(),mapValues:uO,max:PW(),merge:zW(),min:UW(),minBy:WW(),now:HW(),pick:pA(),range:gA(),reduce:GS(),sortBy:rH(),uniqueId:yA(),values:QS(),zipObject:aH()}}catch{}D1||(D1=window._);var nn=D1,sH=Cd;function Cd(){var t={};t._next=t._prev=t,this._sentinel=t}Cd.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return mA(e),e};Cd.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&mA(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e};Cd.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,oH)),n=n._prev;return"["+t.join(", ")+"]"};function mA(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function oH(t,e){if(t!=="_next"&&t!=="_prev")return e}var Ra=nn,cH=ki.Graph,lH=sH,uH=fH,hH=Ra.constant(1);function fH(t,e){if(t.nodeCount()<=1)return[];var n=pH(t,e||hH),r=dH(n.graph,n.buckets,n.zeroIdx);return Ra.flatten(Ra.map(r,function(i){return t.outEdges(i.v,i.w)}),!0)}function dH(t,e,n){for(var r=[],i=e[e.length-1],a=e[0],s;t.nodeCount();){for(;s=a.dequeue();)_y(t,e,n,s);for(;s=i.dequeue();)_y(t,e,n,s);if(t.nodeCount()){for(var o=e.length-2;o>0;--o)if(s=e[o].dequeue(),s){r=r.concat(_y(t,e,n,s,!0));break}}}return r}function _y(t,e,n,r,i){var a=i?[]:void 0;return Ra.forEach(t.inEdges(r.v),function(s){var o=t.edge(s),l=t.node(s.v);i&&a.push({v:s.v,w:s.w}),l.out-=o,V3(e,n,l)}),Ra.forEach(t.outEdges(r.v),function(s){var o=t.edge(s),l=s.w,u=t.node(l);u.in-=o,V3(e,n,u)}),t.removeNode(r.v),a}function pH(t,e){var n=new cH,r=0,i=0;Ra.forEach(t.nodes(),function(o){n.setNode(o,{v:o,in:0,out:0})}),Ra.forEach(t.edges(),function(o){var l=n.edge(o.v,o.w)||0,u=e(o),h=l+u;n.setEdge(o.v,o.w,h),i=Math.max(i,n.node(o.v).out+=u),r=Math.max(r,n.node(o.w).in+=u)});var a=Ra.range(i+r+3).map(function(){return new lH}),s=r+1;return Ra.forEach(n.nodes(),function(o){V3(a,s,n.node(o))}),{graph:n,buckets:a,zeroIdx:s}}function V3(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var Zs=nn,gH=uH,yH={run:mH,undo:vH};function mH(t){var e=t.graph().acyclicer==="greedy"?gH(t,n(t)):bH(t);Zs.forEach(e,function(r){var i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,Zs.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function bH(t){var e=[],n={},r={};function i(a){Zs.has(r,a)||(r[a]=!0,n[a]=!0,Zs.forEach(t.outEdges(a),function(s){Zs.has(n,s.w)?e.push(s):i(s.w)}),delete n[a])}return Zs.forEach(t.nodes(),i),e}function vH(t){Zs.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}var We=nn,bA=ki.Graph,wr={addDummyNode:vA,simplify:_H,asNonCompoundGraph:xH,successorWeights:wH,predecessorWeights:kH,intersectRect:TH,buildLayerMatrix:EH,normalizeRanks:CH,removeEmptyRanks:SH,addBorderNode:AH,maxRank:_A,partition:MH,time:LH,notime:RH};function vA(t,e,n,r){var i;do i=We.uniqueId(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function _H(t){var e=new bA().setGraph(t.graph());return We.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),We.forEach(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function xH(t){var e=new bA({multigraph:t.isMultigraph()}).setGraph(t.graph());return We.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),We.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function wH(t){var e=We.map(t.nodes(),function(n){var r={};return We.forEach(t.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+t.edge(i).weight}),r});return We.zipObject(t.nodes(),e)}function kH(t){var e=We.map(t.nodes(),function(n){var r={};return We.forEach(t.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+t.edge(i).weight}),r});return We.zipObject(t.nodes(),e)}function TH(t,e){var n=t.x,r=t.y,i=e.x-n,a=e.y-r,s=t.width/2,o=t.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=o*i/a,u=o):(i<0&&(s=-s),l=s,u=s*a/i),{x:n+l,y:r+u}}function EH(t){var e=We.map(We.range(_A(t)+1),function(){return[]});return We.forEach(t.nodes(),function(n){var r=t.node(n),i=r.rank;We.isUndefined(i)||(e[i][r.order]=n)}),e}function CH(t){var e=We.min(We.map(t.nodes(),function(n){return t.node(n).rank}));We.forEach(t.nodes(),function(n){var r=t.node(n);We.has(r,"rank")&&(r.rank-=e)})}function SH(t){var e=We.min(We.map(t.nodes(),function(a){return t.node(a).rank})),n=[];We.forEach(t.nodes(),function(a){var s=t.node(a).rank-e;n[s]||(n[s]=[]),n[s].push(a)});var r=0,i=t.graph().nodeRankFactor;We.forEach(n,function(a,s){We.isUndefined(a)&&s%i!==0?--r:r&&We.forEach(a,function(o){t.node(o).rank+=r})})}function AH(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),vA(t,"border",i,e)}function _A(t){return We.max(We.map(t.nodes(),function(e){var n=t.node(e).rank;if(!We.isUndefined(n))return n}))}function MH(t,e){var n={lhs:[],rhs:[]};return We.forEach(t,function(r){e(r)?n.lhs.push(r):n.rhs.push(r)}),n}function LH(t,e){var n=We.now();try{return e()}finally{console.log(t+" time: "+(We.now()-n)+"ms")}}function RH(t,e){return e()}var xA=nn,NH=wr,IH={run:BH,undo:OH};function BH(t){t.graph().dummyChains=[],xA.forEach(t.edges(),function(e){DH(t,e)})}function DH(t,e){var n=e.v,r=t.node(n).rank,i=e.w,a=t.node(i).rank,s=e.name,o=t.edge(e),l=o.labelRank;if(a!==r+1){t.removeEdge(e);var u,h,d;for(d=0,++r;r<a;++d,++r)o.points=[],h={width:0,height:0,edgeLabel:o,edgeObj:e,rank:r},u=NH.addDummyNode(t,"edge",h,"_d"),r===l&&(h.width=o.width,h.height=o.height,h.dummy="edge-label",h.labelpos=o.labelpos),t.setEdge(n,u,{weight:o.weight},s),d===0&&t.graph().dummyChains.push(u),n=u;t.setEdge(n,i,{weight:o.weight},s)}}function OH(t){xA.forEach(t.graph().dummyChains,function(e){var n=t.node(e),r=n.edgeLabel,i;for(t.setEdge(n.edgeObj,r);n.dummy;)i=t.successors(e)[0],t.removeNode(e),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=i,n=t.node(e)})}var tf=nn,Sd={longestPath:FH,slack:PH};function FH(t){var e={};function n(r){var i=t.node(r);if(tf.has(e,r))return i.rank;e[r]=!0;var a=tf.min(tf.map(t.outEdges(r),function(s){return n(s.w)-t.edge(s).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),i.rank=a}tf.forEach(t.sources(),n)}function PH(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var O1=nn,$H=ki.Graph,F1=Sd.slack,wA=qH;function qH(t){var e=new $H({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var i,a;VH(e,t)<r;)i=YH(e,t),a=e.hasNode(i.v)?F1(t,i):-F1(t,i),zH(e,t,a);return e}function VH(t,e){function n(r){O1.forEach(e.nodeEdges(r),function(i){var a=i.v,s=r===a?i.w:a;!t.hasNode(s)&&!F1(e,i)&&(t.setNode(s,{}),t.setEdge(r,s,{}),n(s))})}return O1.forEach(t.nodes(),n),t.nodeCount()}function YH(t,e){return O1.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return F1(e,n)})}function zH(t,e,n){O1.forEach(t.nodes(),function(r){e.node(r).rank+=n})}var $a=nn,UH=wA,WH=Sd.slack,HH=Sd.longestPath,GH=ki.alg.preorder,jH=ki.alg.postorder,XH=wr.simplify,KH=Ao;Ao.initLowLimValues=K_;Ao.initCutValues=X_;Ao.calcCutValue=kA;Ao.leaveEdge=EA;Ao.enterEdge=CA;Ao.exchangeEdges=SA;function Ao(t){t=XH(t),HH(t);var e=UH(t);K_(e),X_(e,t);for(var n,r;n=EA(e);)r=CA(e,t,n),SA(e,t,n,r)}function X_(t,e){var n=jH(t,t.nodes());n=n.slice(0,n.length-1),$a.forEach(n,function(r){ZH(t,e,r)})}function ZH(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=kA(t,e,n)}function kA(t,e,n){var r=t.node(n),i=r.parent,a=!0,s=e.edge(n,i),o=0;return s||(a=!1,s=e.edge(i,n)),o=s.weight,$a.forEach(e.nodeEdges(n),function(l){var u=l.v===n,h=u?l.w:l.v;if(h!==i){var d=u===a,f=e.edge(l).weight;if(o+=d?f:-f,JH(t,n,h)){var p=t.edge(n,h).cutvalue;o+=d?-p:p}}}),o}function K_(t,e){arguments.length<2&&(e=t.nodes()[0]),TA(t,{},1,e)}function TA(t,e,n,r,i){var a=n,s=t.node(r);return e[r]=!0,$a.forEach(t.neighbors(r),function(o){$a.has(e,o)||(n=TA(t,e,n,o,r))}),s.low=a,s.lim=n++,i?s.parent=i:delete s.parent,n}function EA(t){return $a.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function CA(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var a=t.node(r),s=t.node(i),o=a,l=!1;a.lim>s.lim&&(o=s,l=!0);var u=$a.filter(e.edges(),function(h){return l===Lw(t,t.node(h.v),o)&&l!==Lw(t,t.node(h.w),o)});return $a.minBy(u,function(h){return WH(e,h)})}function SA(t,e,n,r){var i=n.v,a=n.w;t.removeEdge(i,a),t.setEdge(r.v,r.w,{}),K_(t),X_(t,e),QH(t,e)}function QH(t,e){var n=$a.find(t.nodes(),function(i){return!e.node(i).parent}),r=GH(t,n);r=r.slice(1),$a.forEach(r,function(i){var a=t.node(i).parent,s=e.edge(i,a),o=!1;s||(s=e.edge(a,i),o=!0),e.node(i).rank=e.node(a).rank+(o?s.minlen:-s.minlen)})}function JH(t,e,n){return t.hasEdge(e,n)}function Lw(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var tG=Sd,AA=tG.longestPath,eG=wA,nG=KH,rG=iG;function iG(t){switch(t.graph().ranker){case"network-simplex":Rw(t);break;case"tight-tree":sG(t);break;case"longest-path":aG(t);break;default:Rw(t)}}var aG=AA;function sG(t){AA(t),eG(t)}function Rw(t){nG(t)}var Y3=nn,oG=cG;function cG(t){var e=uG(t);Y3.forEach(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,a=lG(t,e,i.v,i.w),s=a.path,o=a.lca,l=0,u=s[l],h=!0;n!==i.w;){if(r=t.node(n),h){for(;(u=s[l])!==o&&t.node(u).maxRank<r.rank;)l++;u===o&&(h=!1)}if(!h){for(;l<s.length-1&&t.node(u=s[l+1]).minRank<=r.rank;)l++;u=s[l]}t.setParent(n,u),n=t.successors(n)[0]}})}function lG(t,e,n,r){var i=[],a=[],s=Math.min(e[n].low,e[r].low),o=Math.max(e[n].lim,e[r].lim),l,u;l=n;do l=t.parent(l),i.push(l);while(l&&(e[l].low>s||o>e[l].lim));for(u=l,l=r;(l=t.parent(l))!==u;)a.push(l);return{path:i.concat(a.reverse()),lca:u}}function uG(t){var e={},n=0;function r(i){var a=n;Y3.forEach(t.children(i),r),e[i]={low:a,lim:n++}}return Y3.forEach(t.children(),r),e}var Na=nn,z3=wr,hG={run:fG,cleanup:gG};function fG(t){var e=z3.addDummyNode(t,"root",{},"_root"),n=dG(t),r=Na.max(Na.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,Na.forEach(t.edges(),function(s){t.edge(s).minlen*=i});var a=pG(t)+1;Na.forEach(t.children(),function(s){MA(t,e,i,a,r,n,s)}),t.graph().nodeRankFactor=i}function MA(t,e,n,r,i,a,s){var o=t.children(s);if(!o.length){s!==e&&t.setEdge(e,s,{weight:0,minlen:n});return}var l=z3.addBorderNode(t,"_bt"),u=z3.addBorderNode(t,"_bb"),h=t.node(s);t.setParent(l,s),h.borderTop=l,t.setParent(u,s),h.borderBottom=u,Na.forEach(o,function(d){MA(t,e,n,r,i,a,d);var f=t.node(d),p=f.borderTop?f.borderTop:d,y=f.borderBottom?f.borderBottom:d,m=f.borderTop?r:2*r,b=p!==y?1:i-a[s]+1;t.setEdge(l,p,{weight:m,minlen:b,nestingEdge:!0}),t.setEdge(y,u,{weight:m,minlen:b,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,l,{weight:0,minlen:i+a[s]})}function dG(t){var e={};function n(r,i){var a=t.children(r);a&&a.length&&Na.forEach(a,function(s){n(s,i+1)}),e[r]=i}return Na.forEach(t.children(),function(r){n(r,1)}),e}function pG(t){return Na.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}function gG(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Na.forEach(t.edges(),function(n){var r=t.edge(n);r.nestingEdge&&t.removeEdge(n)})}var xy=nn,yG=wr,mG=bG;function bG(t){function e(n){var r=t.children(n),i=t.node(n);if(r.length&&xy.forEach(r,e),xy.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,s=i.maxRank+1;a<s;++a)Nw(t,"borderLeft","_bl",n,i,a),Nw(t,"borderRight","_br",n,i,a)}}xy.forEach(t.children(),e)}function Nw(t,e,n,r,i,a){var s={width:0,height:0,rank:a,borderType:e},o=i[e][a-1],l=yG.addDummyNode(t,"border",s,n);i[e][a]=l,t.setParent(l,r),o&&t.setEdge(o,l,{weight:1})}var Ui=nn,vG={adjust:_G,undo:xG};function _G(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&LA(t)}function xG(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&wG(t),(e==="lr"||e==="rl")&&(kG(t),LA(t))}function LA(t){Ui.forEach(t.nodes(),function(e){Iw(t.node(e))}),Ui.forEach(t.edges(),function(e){Iw(t.edge(e))})}function Iw(t){var e=t.width;t.width=t.height,t.height=e}function wG(t){Ui.forEach(t.nodes(),function(e){wy(t.node(e))}),Ui.forEach(t.edges(),function(e){var n=t.edge(e);Ui.forEach(n.points,wy),Ui.has(n,"y")&&wy(n)})}function wy(t){t.y=-t.y}function kG(t){Ui.forEach(t.nodes(),function(e){ky(t.node(e))}),Ui.forEach(t.edges(),function(e){var n=t.edge(e);Ui.forEach(n.points,ky),Ui.has(n,"x")&&ky(n)})}function ky(t){var e=t.x;t.x=t.y,t.y=e}var ya=nn,TG=EG;function EG(t){var e={},n=ya.filter(t.nodes(),function(o){return!t.children(o).length}),r=ya.max(ya.map(n,function(o){return t.node(o).rank})),i=ya.map(ya.range(r+1),function(){return[]});function a(o){if(!ya.has(e,o)){e[o]=!0;var l=t.node(o);i[l.rank].push(o),ya.forEach(t.successors(o),a)}}var s=ya.sortBy(n,function(o){return t.node(o).rank});return ya.forEach(s,a),i}var Qa=nn,CG=SG;function SG(t,e){for(var n=0,r=1;r<e.length;++r)n+=AG(t,e[r-1],e[r]);return n}function AG(t,e,n){for(var r=Qa.zipObject(n,Qa.map(n,function(u,h){return h})),i=Qa.flatten(Qa.map(e,function(u){return Qa.sortBy(Qa.map(t.outEdges(u),function(h){return{pos:r[h.w],weight:t.edge(h).weight}}),"pos")}),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var o=Qa.map(new Array(s),function(){return 0}),l=0;return Qa.forEach(i.forEach(function(u){var h=u.pos+a;o[h]+=u.weight;for(var d=0;h>0;)h%2&&(d+=o[h+1]),h=h-1>>1,o[h]+=u.weight;l+=u.weight*d})),l}var Bw=nn,MG=LG;function LG(t,e){return Bw.map(e,function(n){var r=t.inEdges(n);if(r.length){var i=Bw.reduce(r,function(a,s){var o=t.edge(s),l=t.node(s.v);return{sum:a.sum+o.weight*l.order,weight:a.weight+o.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var Rr=nn,RG=NG;function NG(t,e){var n={};Rr.forEach(t,function(i,a){var s=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:a};Rr.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),Rr.forEach(e.edges(),function(i){var a=n[i.v],s=n[i.w];!Rr.isUndefined(a)&&!Rr.isUndefined(s)&&(s.indegree++,a.out.push(n[i.w]))});var r=Rr.filter(n,function(i){return!i.indegree});return IG(r)}function IG(t){var e=[];function n(a){return function(s){s.merged||(Rr.isUndefined(s.barycenter)||Rr.isUndefined(a.barycenter)||s.barycenter>=a.barycenter)&&BG(a,s)}}function r(a){return function(s){s.in.push(a),--s.indegree===0&&t.push(s)}}for(;t.length;){var i=t.pop();e.push(i),Rr.forEach(i.in.reverse(),n(i)),Rr.forEach(i.out,r(i))}return Rr.map(Rr.filter(e,function(a){return!a.merged}),function(a){return Rr.pick(a,["vs","i","barycenter","weight"])})}function BG(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}var Il=nn,DG=wr,OG=FG;function FG(t,e){var n=DG.partition(t,function(h){return Il.has(h,"barycenter")}),r=n.lhs,i=Il.sortBy(n.rhs,function(h){return-h.i}),a=[],s=0,o=0,l=0;r.sort(PG(!!e)),l=Dw(a,i,l),Il.forEach(r,function(h){l+=h.vs.length,a.push(h.vs),s+=h.barycenter*h.weight,o+=h.weight,l=Dw(a,i,l)});var u={vs:Il.flatten(a,!0)};return o&&(u.barycenter=s/o,u.weight=o),u}function Dw(t,e,n){for(var r;e.length&&(r=Il.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}function PG(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}var is=nn,$G=MG,qG=RG,VG=OG,YG=RA;function RA(t,e,n,r){var i=t.children(e),a=t.node(e),s=a?a.borderLeft:void 0,o=a?a.borderRight:void 0,l={};s&&(i=is.filter(i,function(y){return y!==s&&y!==o}));var u=$G(t,i);is.forEach(u,function(y){if(t.children(y.v).length){var m=RA(t,y.v,n,r);l[y.v]=m,is.has(m,"barycenter")&&UG(y,m)}});var h=qG(u,n);zG(h,l);var d=VG(h,r);if(s&&(d.vs=is.flatten([s,d.vs,o],!0),t.predecessors(s).length)){var f=t.node(t.predecessors(s)[0]),p=t.node(t.predecessors(o)[0]);is.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+p.order)/(d.weight+2),d.weight+=2}return d}function zG(t,e){is.forEach(t,function(n){n.vs=is.flatten(n.vs.map(function(r){return e[r]?e[r].vs:r}),!0)})}function UG(t,e){is.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}var Bl=nn,WG=ki.Graph,HG=GG;function GG(t,e,n){var r=jG(t),i=new WG({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(a){return t.node(a)});return Bl.forEach(t.nodes(),function(a){var s=t.node(a),o=t.parent(a);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(a),i.setParent(a,o||r),Bl.forEach(t[n](a),function(l){var u=l.v===a?l.w:l.v,h=i.edge(u,a),d=Bl.isUndefined(h)?0:h.weight;i.setEdge(u,a,{weight:t.edge(l).weight+d})}),Bl.has(s,"minRank")&&i.setNode(a,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i}function jG(t){for(var e;t.hasNode(e=Bl.uniqueId("_root")););return e}var XG=nn,KG=ZG;function ZG(t,e,n){var r={},i;XG.forEach(n,function(a){for(var s=t.parent(a),o,l;s;){if(o=t.parent(s),o?(l=r[o],r[o]=s):(l=i,i=s),l&&l!==s){e.setEdge(l,s);return}s=o}})}var ls=nn,QG=TG,JG=CG,tj=YG,ej=HG,nj=KG,rj=ki.Graph,Ow=wr,ij=aj;function aj(t){var e=Ow.maxRank(t),n=Fw(t,ls.range(1,e+1),"inEdges"),r=Fw(t,ls.range(e-1,-1,-1),"outEdges"),i=QG(t);Pw(t,i);for(var a=Number.POSITIVE_INFINITY,s,o=0,l=0;l<4;++o,++l){sj(o%2?n:r,o%4>=2),i=Ow.buildLayerMatrix(t);var u=JG(t,i);u<a&&(l=0,s=ls.cloneDeep(i),a=u)}Pw(t,s)}function Fw(t,e,n){return ls.map(e,function(r){return ej(t,r,n)})}function sj(t,e){var n=new rj;ls.forEach(t,function(r){var i=r.graph().root,a=tj(r,i,n,e);ls.forEach(a.vs,function(s,o){r.node(s).order=o}),nj(r,n,a.vs)})}function Pw(t,e){ls.forEach(e,function(n){ls.forEach(n,function(r,i){t.node(r).order=i})})}var xe=nn,oj=ki.Graph,cj=wr,lj={positionX:fj,findType1Conflicts:NA,findType2Conflicts:IA,addConflict:Z_,hasConflict:BA,verticalAlignment:DA,horizontalCompaction:OA,alignCoordinates:PA,findSmallestWidthAlignment:FA,balance:$A};function NA(t,e){var n={};function r(i,a){var s=0,o=0,l=i.length,u=xe.last(a);return xe.forEach(a,function(h,d){var f=uj(t,h),p=f?t.node(f).order:l;(f||h===u)&&(xe.forEach(a.slice(o,d+1),function(y){xe.forEach(t.predecessors(y),function(m){var b=t.node(m),x=b.order;(x<s||p<x)&&!(b.dummy&&t.node(y).dummy)&&Z_(n,m,y)})}),o=d+1,s=p)}),a}return xe.reduce(e,r),n}function IA(t,e){var n={};function r(a,s,o,l,u){var h;xe.forEach(xe.range(s,o),function(d){h=a[d],t.node(h).dummy&&xe.forEach(t.predecessors(h),function(f){var p=t.node(f);p.dummy&&(p.order<l||p.order>u)&&Z_(n,f,h)})})}function i(a,s){var o=-1,l,u=0;return xe.forEach(s,function(h,d){if(t.node(h).dummy==="border"){var f=t.predecessors(h);f.length&&(l=t.node(f[0]).order,r(s,u,d,o,l),u=d,o=l)}r(s,u,s.length,l,a.length)}),s}return xe.reduce(e,i),n}function uj(t,e){if(t.node(e).dummy)return xe.find(t.predecessors(e),function(n){return t.node(n).dummy})}function Z_(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function BA(t,e,n){if(e>n){var r=e;e=n,n=r}return xe.has(t[e],n)}function DA(t,e,n,r){var i={},a={},s={};return xe.forEach(e,function(o){xe.forEach(o,function(l,u){i[l]=l,a[l]=l,s[l]=u})}),xe.forEach(e,function(o){var l=-1;xe.forEach(o,function(u){var h=r(u);if(h.length){h=xe.sortBy(h,function(m){return s[m]});for(var d=(h.length-1)/2,f=Math.floor(d),p=Math.ceil(d);f<=p;++f){var y=h[f];a[u]===u&&l<s[y]&&!BA(n,u,y)&&(a[y]=u,a[u]=i[u]=i[y],l=s[y])}}})}),{root:i,align:a}}function OA(t,e,n,r,i){var a={},s=hj(t,e,n,i),o=i?"borderLeft":"borderRight";function l(d,f){for(var p=s.nodes(),y=p.pop(),m={};y;)m[y]?d(y):(m[y]=!0,p.push(y),p=p.concat(f(y))),y=p.pop()}function u(d){a[d]=s.inEdges(d).reduce(function(f,p){return Math.max(f,a[p.v]+s.edge(p))},0)}function h(d){var f=s.outEdges(d).reduce(function(y,m){return Math.min(y,a[m.w]-s.edge(m))},Number.POSITIVE_INFINITY),p=t.node(d);f!==Number.POSITIVE_INFINITY&&p.borderType!==o&&(a[d]=Math.max(a[d],f))}return l(u,s.predecessors.bind(s)),l(h,s.successors.bind(s)),xe.forEach(r,function(d){a[d]=a[n[d]]}),a}function hj(t,e,n,r){var i=new oj,a=t.graph(),s=dj(a.nodesep,a.edgesep,r);return xe.forEach(e,function(o){var l;xe.forEach(o,function(u){var h=n[u];if(i.setNode(h),l){var d=n[l],f=i.edge(d,h);i.setEdge(d,h,Math.max(s(t,u,l),f||0))}l=u})}),i}function FA(t,e){return xe.minBy(xe.values(e),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return xe.forIn(n,function(a,s){var o=pj(t,s)/2;r=Math.max(a+o,r),i=Math.min(a-o,i)}),r-i})}function PA(t,e){var n=xe.values(e),r=xe.min(n),i=xe.max(n);xe.forEach(["u","d"],function(a){xe.forEach(["l","r"],function(s){var o=a+s,l=t[o],u;if(l!==e){var h=xe.values(l);u=s==="l"?r-xe.min(h):i-xe.max(h),u&&(t[o]=xe.mapValues(l,function(d){return d+u}))}})})}function $A(t,e){return xe.mapValues(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=xe.sortBy(xe.map(t,r));return(i[1]+i[2])/2})}function fj(t){var e=cj.buildLayerMatrix(t),n=xe.merge(NA(t,e),IA(t,e)),r={},i;xe.forEach(["u","d"],function(s){i=s==="u"?e:xe.values(e).reverse(),xe.forEach(["l","r"],function(o){o==="r"&&(i=xe.map(i,function(d){return xe.values(d).reverse()}));var l=(s==="u"?t.predecessors:t.successors).bind(t),u=DA(t,i,n,l),h=OA(t,i,u.root,u.align,o==="r");o==="r"&&(h=xe.mapValues(h,function(d){return-d})),r[s+o]=h})});var a=FA(t,r);return PA(r,a),$A(r,t.graph().align)}function dj(t,e,n){return function(r,i,a){var s=r.node(i),o=r.node(a),l=0,u;if(l+=s.width/2,xe.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(s.dummy?e:t)/2,l+=(o.dummy?e:t)/2,l+=o.width/2,xe.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function pj(t,e){return t.node(e).width}var Dl=nn,qA=wr,gj=lj.positionX,yj=mj;function mj(t){t=qA.asNonCompoundGraph(t),bj(t),Dl.forEach(gj(t),function(e,n){t.node(n).x=e})}function bj(t){var e=qA.buildLayerMatrix(t),n=t.graph().ranksep,r=0;Dl.forEach(e,function(i){var a=Dl.max(Dl.map(i,function(s){return t.node(s).height}));Dl.forEach(i,function(s){t.node(s).y=r+a/2}),r+=a+n})}var Le=nn,$w=yH,qw=IH,vj=rG,_j=wr.normalizeRanks,xj=oG,wj=wr.removeEmptyRanks,Vw=hG,kj=mG,Yw=vG,Tj=ij,Ej=yj,gs=wr,Cj=ki.Graph,Sj=Aj;function Aj(t,e){var n=e&&e.debugTiming?gs.time:gs.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return $j(t)});n("  runLayout",function(){Mj(r,n)}),n("  updateInputGraph",function(){Lj(t,r)})})}function Mj(t,e){e("    makeSpaceForEdgeLabels",function(){qj(t)}),e("    removeSelfEdges",function(){Xj(t)}),e("    acyclic",function(){$w.run(t)}),e("    nestingGraph.run",function(){Vw.run(t)}),e("    rank",function(){vj(gs.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){Vj(t)}),e("    removeEmptyRanks",function(){wj(t)}),e("    nestingGraph.cleanup",function(){Vw.cleanup(t)}),e("    normalizeRanks",function(){_j(t)}),e("    assignRankMinMax",function(){Yj(t)}),e("    removeEdgeLabelProxies",function(){zj(t)}),e("    normalize.run",function(){qw.run(t)}),e("    parentDummyChains",function(){xj(t)}),e("    addBorderSegments",function(){kj(t)}),e("    order",function(){Tj(t)}),e("    insertSelfEdges",function(){Kj(t)}),e("    adjustCoordinateSystem",function(){Yw.adjust(t)}),e("    position",function(){Ej(t)}),e("    positionSelfEdges",function(){Zj(t)}),e("    removeBorderNodes",function(){jj(t)}),e("    normalize.undo",function(){qw.undo(t)}),e("    fixupEdgeLabelCoords",function(){Hj(t)}),e("    undoCoordinateSystem",function(){Yw.undo(t)}),e("    translateGraph",function(){Uj(t)}),e("    assignNodeIntersects",function(){Wj(t)}),e("    reversePoints",function(){Gj(t)}),e("    acyclic.undo",function(){$w.undo(t)})}function Lj(t,e){Le.forEach(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),Le.forEach(t.edges(),function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,Le.has(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var Rj=["nodesep","edgesep","ranksep","marginx","marginy"],Nj={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Ij=["acyclicer","ranker","rankdir","align"],Bj=["width","height"],Dj={width:0,height:0},Oj=["minlen","weight","width","height","labeloffset"],Fj={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Pj=["labelpos"];function $j(t){var e=new Cj({multigraph:!0,compound:!0}),n=Ey(t.graph());return e.setGraph(Le.merge({},Nj,Ty(n,Rj),Le.pick(n,Ij))),Le.forEach(t.nodes(),function(r){var i=Ey(t.node(r));e.setNode(r,Le.defaults(Ty(i,Bj),Dj)),e.setParent(r,t.parent(r))}),Le.forEach(t.edges(),function(r){var i=Ey(t.edge(r));e.setEdge(r,Le.merge({},Fj,Ty(i,Oj),Le.pick(i,Pj)))}),e}function qj(t){var e=t.graph();e.ranksep/=2,Le.forEach(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function Vj(t){Le.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),a={rank:(i.rank-r.rank)/2+r.rank,e};gs.addDummyNode(t,"edge-proxy",a,"_ep")}})}function Yj(t){var e=0;Le.forEach(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Le.max(e,r.maxRank))}),t.graph().maxRank=e}function zj(t){Le.forEach(t.nodes(),function(e){var n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function Uj(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,a=t.graph(),s=a.marginx||0,o=a.marginy||0;function l(u){var h=u.x,d=u.y,f=u.width,p=u.height;e=Math.min(e,h-f/2),n=Math.max(n,h+f/2),r=Math.min(r,d-p/2),i=Math.max(i,d+p/2)}Le.forEach(t.nodes(),function(u){l(t.node(u))}),Le.forEach(t.edges(),function(u){var h=t.edge(u);Le.has(h,"x")&&l(h)}),e-=s,r-=o,Le.forEach(t.nodes(),function(u){var h=t.node(u);h.x-=e,h.y-=r}),Le.forEach(t.edges(),function(u){var h=t.edge(u);Le.forEach(h.points,function(d){d.x-=e,d.y-=r}),Le.has(h,"x")&&(h.x-=e),Le.has(h,"y")&&(h.y-=r)}),a.width=n-e+s,a.height=i-r+o}function Wj(t){Le.forEach(t.edges(),function(e){var n=t.edge(e),r=t.node(e.v),i=t.node(e.w),a,s;n.points?(a=n.points[0],s=n.points[n.points.length-1]):(n.points=[],a=i,s=r),n.points.unshift(gs.intersectRect(r,a)),n.points.push(gs.intersectRect(i,s))})}function Hj(t){Le.forEach(t.edges(),function(e){var n=t.edge(e);if(Le.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function Gj(t){Le.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}function jj(t){Le.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),a=t.node(Le.last(n.borderLeft)),s=t.node(Le.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-r.y),n.x=a.x+n.width/2,n.y=r.y+n.height/2}}),Le.forEach(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function Xj(t){Le.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function Kj(t){var e=gs.buildLayerMatrix(t);Le.forEach(e,function(n){var r=0;Le.forEach(n,function(i,a){var s=t.node(i);s.order=a+r,Le.forEach(s.selfEdges,function(o){gs.addDummyNode(t,"selfedge",{width:o.label.width,height:o.label.height,rank:s.rank,order:a+ ++r,e:o.e,label:o.label},"_se")}),delete s.selfEdges})})}function Zj(t){Le.forEach(t.nodes(),function(e){var n=t.node(e);if(n.dummy==="selfedge"){var r=t.node(n.e.v),i=r.x+r.width/2,a=r.y,s=n.x-i,o=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*s/3,y:a-o},{x:i+5*s/6,y:a-o},{x:i+s,y:a},{x:i+5*s/6,y:a+o},{x:i+2*s/3,y:a+o}],n.label.x=n.x,n.label.y=n.y}})}function Ty(t,e){return Le.mapValues(Le.pick(t,e),Number)}function Ey(t){var e={};return Le.forEach(t,function(n,r){e[r.toLowerCase()]=n}),e}var ef=nn,Qj=wr,Jj=ki.Graph,tX={debugOrdering:eX};function eX(t){var e=Qj.buildLayerMatrix(t),n=new Jj({compound:!0,multigraph:!0}).setGraph({});return ef.forEach(t.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+t.node(r).rank)}),ef.forEach(t.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),ef.forEach(e,function(r,i){var a="layer"+i;n.setNode(a,{rank:"same"}),ef.reduce(r,function(s,o){return n.setEdge(s,o,{style:"invis"}),o})}),n}var nX="0.8.5",Gc={graphlib:ki,layout:Sj,debug:tX,util:{time:wr.time,notime:wr.notime},version:nX},P1;if(typeof Es=="function")try{P1=gn}catch{}P1||(P1=window.graphlib);var rX=P1,$1;if(typeof Es=="function")try{$1=Gc}catch{}$1||($1=window.dagre);var VA=$1,YA=iX;function iX(t,e){return t.intersect(e)}var Q_=aX;function aX(t,e,n,r){var i=t.x,a=t.y,s=i-r.x,o=a-r.y,l=Math.sqrt(e*e*o*o+n*n*s*s),u=Math.abs(e*n*s/l);r.x<i&&(u=-u);var h=Math.abs(e*n*o/l);return r.y<a&&(h=-h),{x:i+u,y:a+h}}var sX=Q_,zA=oX;function oX(t,e,n){return sX(t,e,e,n)}var cX=lX;function lX(t,e,n,r){var i,a,s,o,l,u,h,d,f,p,y,m,b,x,k;if(i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,f=i*n.x+s*n.y+l,p=i*r.x+s*r.y+l,!(f!==0&&p!==0&&zw(f,p))&&(a=r.y-n.y,o=n.x-r.x,u=r.x*n.y-n.x*r.y,h=a*t.x+o*t.y+u,d=a*e.x+o*e.y+u,!(h!==0&&d!==0&&zw(h,d))&&(y=i*o-a*s,y!==0)))return m=Math.abs(y/2),b=s*u-o*l,x=b<0?(b-m)/y:(b+m)/y,b=a*l-i*u,k=b<0?(b-m)/y:(b+m)/y,{x,y:k}}function zw(t,e){return t*e>0}var uX=cX,UA=hX;function hX(t,e,n){var r=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;e.forEach(function(y){s=Math.min(s,y.x),o=Math.min(o,y.y)});for(var l=r-t.width/2-s,u=i-t.height/2-o,h=0;h<e.length;h++){var d=e[h],f=e[h<e.length-1?h+1:0],p=uX(t,n,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort(function(y,m){var b=y.x-n.x,x=y.y-n.y,k=Math.sqrt(b*b+x*x),T=m.x-n.x,S=m.y-n.y,L=Math.sqrt(T*T+S*S);return k<L?-1:k===L?0:1}),a[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t)}var WA=fX;function fX(t,e){var n=t.x,r=t.y,i=e.x-n,a=e.y-r,s=t.width/2,o=t.height/2,l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,u=o):(i<0&&(s=-s),l=s,u=i===0?0:s*a/i),{x:n+l,y:r+u}}var dX={node:YA,circle:zA,ellipse:Q_,polygon:UA,rect:WA},q1;if(typeof Es=="function")try{q1={defaults:oA(),each:U_(),isFunction:ld(),isPlainObject:hA(),pick:pA(),has:v_,range:gA(),uniqueId:yA()}}catch{}q1||(q1=window._);var jc=q1,pX="5.16.0";function Cs(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function J_(t){return t.length===1&&(t=gX(t)),{left:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(r==null&&(r=0),i==null&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}function gX(t){return function(e,n){return Cs(t(e),n)}}var HA=J_(Cs),ys=HA.right,yX=HA.left;function mX(t,e){e==null&&(e=GA);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return a}function GA(t,e){return[t,e]}function bX(t,e,n){var r=t.length,i=e.length,a=new Array(r*i),s,o,l,u;for(n==null&&(n=GA),s=l=0;s<r;++s)for(u=t[s],o=0;o<i;++o,++l)a[l]=n(u,e[o]);return a}function vX(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function ms(t){return t===null?NaN:+t}function jA(t,e){var n=t.length,r=0,i=-1,a=0,s,o,l=0;if(e==null)for(;++i<n;)isNaN(s=ms(t[i]))||(o=s-a,a+=o/++r,l+=o*(s-a));else for(;++i<n;)isNaN(s=ms(e(t[i],i,t)))||(o=s-a,a+=o/++r,l+=o*(s-a));if(r>1)return l/(r-1)}function XA(t,e){var n=jA(t,e);return n&&Math.sqrt(n)}function t4(t,e){var n=t.length,r=-1,i,a,s;if(e==null){for(;++r<n;)if((i=t[r])!=null&&i>=i)for(a=s=i;++r<n;)(i=t[r])!=null&&(a>i&&(a=i),s<i&&(s=i))}else for(;++r<n;)if((i=e(t[r],r,t))!=null&&i>=i)for(a=s=i;++r<n;)(i=e(t[r],r,t))!=null&&(a>i&&(a=i),s<i&&(s=i));return[a,s]}var KA=Array.prototype,_X=KA.slice,xX=KA.map;function nf(t){return function(){return t}}function wX(t){return t}function Dr(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}var U3=Math.sqrt(50),W3=Math.sqrt(10),H3=Math.sqrt(2);function e4(t,e,n){var r,i=-1,a,s,o;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),(o=iu(t,e,n))===0||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),s=new Array(a=Math.ceil(e-t+1));++i<a;)s[i]=(t+i)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),s=new Array(a=Math.ceil(t-e+1));++i<a;)s[i]=(t-i)/o;return r&&s.reverse(),s}function iu(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=U3?10:a>=W3?5:a>=H3?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=U3?10:a>=W3?5:a>=H3?2:1)}function co(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=U3?i*=10:a>=W3?i*=5:a>=H3&&(i*=2),e<t?-i:i}function n4(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function kX(){var t=wX,e=t4,n=n4;function r(i){var a,s=i.length,o,l=new Array(s);for(a=0;a<s;++a)l[a]=t(i[a],a,i);var u=e(l),h=u[0],d=u[1],f=n(l,h,d);Array.isArray(f)||(f=co(h,d,f),f=Dr(Math.ceil(h/f)*f,d,f));for(var p=f.length;f[0]<=h;)f.shift(),--p;for(;f[p-1]>d;)f.pop(),--p;var y=new Array(p+1),m;for(a=0;a<=p;++a)m=y[a]=[],m.x0=a>0?f[a-1]:h,m.x1=a<p?f[a]:d;for(a=0;a<s;++a)o=l[a],h<=o&&o<=d&&y[ys(f,o,0,p)].push(i[a]);return y}return r.value=function(i){return arguments.length?(t=typeof i=="function"?i:nf(i),r):t},r.domain=function(i){return arguments.length?(e=typeof i=="function"?i:nf([i[0],i[1]]),r):e},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:Array.isArray(i)?nf(_X.call(i)):nf(i),r):n},r}function Eu(t,e,n){if(n==null&&(n=ms),!!(r=t.length)){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function TX(t,e,n){return t=xX.call(t,ms).sort(Cs),Math.ceil((n-e)/(2*(Eu(t,.75)-Eu(t,.25))*Math.pow(t.length,-1/3)))}function EX(t,e,n){return Math.ceil((n-e)/(3.5*XA(t)*Math.pow(t.length,-1/3)))}function ZA(t,e){var n=t.length,r=-1,i,a;if(e==null){for(;++r<n;)if((i=t[r])!=null&&i>=i)for(a=i;++r<n;)(i=t[r])!=null&&i>a&&(a=i)}else for(;++r<n;)if((i=e(t[r],r,t))!=null&&i>=i)for(a=i;++r<n;)(i=e(t[r],r,t))!=null&&i>a&&(a=i);return a}function CX(t,e){var n=t.length,r=n,i=-1,a,s=0;if(e==null)for(;++i<n;)isNaN(a=ms(t[i]))?--r:s+=a;else for(;++i<n;)isNaN(a=ms(e(t[i],i,t)))?--r:s+=a;if(r)return s/r}function SX(t,e){var n=t.length,r=-1,i,a=[];if(e==null)for(;++r<n;)isNaN(i=ms(t[r]))||a.push(i);else for(;++r<n;)isNaN(i=ms(e(t[r],r,t)))||a.push(i);return Eu(a.sort(Cs),.5)}function r4(t){for(var e=t.length,n,r=-1,i=0,a,s;++r<e;)i+=t[r].length;for(a=new Array(i);--e>=0;)for(s=t[e],n=s.length;--n>=0;)a[--i]=s[n];return a}function QA(t,e){var n=t.length,r=-1,i,a;if(e==null){for(;++r<n;)if((i=t[r])!=null&&i>=i)for(a=i;++r<n;)(i=t[r])!=null&&a>i&&(a=i)}else for(;++r<n;)if((i=e(t[r],r,t))!=null&&i>=i)for(a=i;++r<n;)(i=e(t[r],r,t))!=null&&a>i&&(a=i);return a}function AX(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function MX(t,e){if(!!(n=t.length)){var n,r=0,i=0,a,s=t[i];for(e==null&&(e=Cs);++r<n;)(e(a=t[r],s)<0||e(s,s)!==0)&&(s=a,i=r);if(e(s,s)===0)return i}}function LX(t,e,n){for(var r=(n==null?t.length:n)-(e=e==null?0:+e),i,a;r;)a=Math.random()*r--|0,i=t[r+e],t[r+e]=t[a+e],t[a+e]=i;return t}function RX(t,e){var n=t.length,r=-1,i,a=0;if(e==null)for(;++r<n;)(i=+t[r])&&(a+=i);else for(;++r<n;)(i=+e(t[r],r,t))&&(a+=i);return a}function JA(t){if(!(a=t.length))return[];for(var e=-1,n=QA(t,NX),r=new Array(n);++e<n;)for(var i=-1,a,s=r[e]=new Array(a);++i<a;)s[i]=t[i][e];return r}function NX(t){return t.length}function IX(){return JA(arguments)}var Cy=Array.prototype.slice;function BX(t){return t}var Wf=1,Hf=2,G3=3,Ol=4,Uw=1e-6;function DX(t){return"translate("+(t+.5)+",0)"}function OX(t){return"translate(0,"+(t+.5)+")"}function FX(t){return function(e){return+t(e)}}function PX(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function $X(){return!this.__axis}function Ad(t,e){var n=[],r=null,i=null,a=6,s=6,o=3,l=t===Wf||t===Ol?-1:1,u=t===Ol||t===Hf?"x":"y",h=t===Wf||t===G3?DX:OX;function d(f){var p=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,y=i==null?e.tickFormat?e.tickFormat.apply(e,n):BX:i,m=Math.max(a,0)+o,b=e.range(),x=+b[0]+.5,k=+b[b.length-1]+.5,T=(e.bandwidth?PX:FX)(e.copy()),S=f.selection?f.selection():f,L=S.selectAll(".domain").data([null]),R=S.selectAll(".tick").data(p,e).order(),A=R.exit(),I=R.enter().append("g").attr("class","tick"),C=R.select("line"),N=R.select("text");L=L.merge(L.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(I),C=C.merge(I.append("line").attr("stroke","currentColor").attr(u+"2",l*a)),N=N.merge(I.append("text").attr("fill","currentColor").attr(u,l*m).attr("dy",t===Wf?"0em":t===G3?"0.71em":"0.32em")),f!==S&&(L=L.transition(f),R=R.transition(f),C=C.transition(f),N=N.transition(f),A=A.transition(f).attr("opacity",Uw).attr("transform",function(v){return isFinite(v=T(v))?h(v):this.getAttribute("transform")}),I.attr("opacity",Uw).attr("transform",function(v){var E=this.parentNode.__axis;return h(E&&isFinite(E=E(v))?E:T(v))})),A.remove(),L.attr("d",t===Ol||t==Hf?s?"M"+l*s+","+x+"H0.5V"+k+"H"+l*s:"M0.5,"+x+"V"+k:s?"M"+x+","+l*s+"V0.5H"+k+"V"+l*s:"M"+x+",0.5H"+k),R.attr("opacity",1).attr("transform",function(v){return h(T(v))}),C.attr(u+"2",l*a),N.attr(u,l*m).text(y),S.filter($X).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Hf?"start":t===Ol?"end":"middle"),S.each(function(){this.__axis=T})}return d.scale=function(f){return arguments.length?(e=f,d):e},d.ticks=function(){return n=Cy.call(arguments),d},d.tickArguments=function(f){return arguments.length?(n=f==null?[]:Cy.call(f),d):n.slice()},d.tickValues=function(f){return arguments.length?(r=f==null?null:Cy.call(f),d):r&&r.slice()},d.tickFormat=function(f){return arguments.length?(i=f,d):i},d.tickSize=function(f){return arguments.length?(a=s=+f,d):a},d.tickSizeInner=function(f){return arguments.length?(a=+f,d):a},d.tickSizeOuter=function(f){return arguments.length?(s=+f,d):s},d.tickPadding=function(f){return arguments.length?(o=+f,d):o},d}function qX(t){return Ad(Wf,t)}function VX(t){return Ad(Hf,t)}function YX(t){return Ad(G3,t)}function zX(t){return Ad(Ol,t)}var UX={value:function(){}};function Mo(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gf(n)}function Gf(t){this._=t}function WX(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gf.prototype=Mo.prototype={constructor:Gf,on:function(t,e){var n=this._,r=WX(t+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(t=r[a]).type)&&(i=HX(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<s;)if(i=(t=r[a]).type)n[i]=Ww(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ww(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Gf(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function HX(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ww(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=UX,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var j3="http://www.w3.org/1999/xhtml";const X3={svg:"http://www.w3.org/2000/svg",xhtml:j3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ph(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),X3.hasOwnProperty(e)?{space:X3[e],local:t}:t}function GX(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===j3&&e.documentElement.namespaceURI===j3?e.createElement(t):e.createElementNS(n,t)}}function jX(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Md(t){var e=ph(t);return(e.local?jX:GX)(e)}function XX(){}function Ld(t){return t==null?XX:function(){return this.querySelector(t)}}function KX(t){typeof t!="function"&&(t=Ld(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=new Array(s),l,u,h=0;h<s;++h)(l=a[h])&&(u=t.call(l,l.__data__,h,a))&&("__data__"in l&&(u.__data__=l.__data__),o[h]=u);return new lr(r,this._parents)}function ZX(){return[]}function i4(t){return t==null?ZX:function(){return this.querySelectorAll(t)}}function QX(t){typeof t!="function"&&(t=i4(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var s=e[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&(r.push(t.call(l,l.__data__,u,s)),i.push(l));return new lr(r,i)}function a4(t){return function(){return this.matches(t)}}function JX(t){typeof t!="function"&&(t=a4(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new lr(r,this._parents)}function tM(t){return new Array(t.length)}function tK(){return new lr(this._enter||this._groups.map(tM),this._parents)}function V1(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}V1.prototype={constructor:V1,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function eK(t){return function(){return t}}var Hw="$";function nK(t,e,n,r,i,a){for(var s=0,o,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new V1(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function rK(t,e,n,r,i,a,s){var o,l,u={},h=e.length,d=a.length,f=new Array(h),p;for(o=0;o<h;++o)(l=e[o])&&(f[o]=p=Hw+s.call(l,l.__data__,o,e),p in u?i[o]=l:u[p]=l);for(o=0;o<d;++o)p=Hw+s.call(t,a[o],o,a),(l=u[p])?(r[o]=l,l.__data__=a[o],u[p]=null):n[o]=new V1(t,a[o]);for(o=0;o<h;++o)(l=e[o])&&u[f[o]]===l&&(i[o]=l)}function iK(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each(function(R){p[++u]=R}),p;var n=e?rK:nK,r=this._parents,i=this._groups;typeof t!="function"&&(t=eK(t));for(var a=i.length,s=new Array(a),o=new Array(a),l=new Array(a),u=0;u<a;++u){var h=r[u],d=i[u],f=d.length,p=t.call(h,h&&h.__data__,u,r),y=p.length,m=o[u]=new Array(y),b=s[u]=new Array(y),x=l[u]=new Array(f);n(h,d,m,b,x,p,e);for(var k=0,T=0,S,L;k<y;++k)if(S=m[k]){for(k>=T&&(T=k+1);!(L=b[T])&&++T<y;);S._next=L||null}}return s=new lr(s,r),s._enter=o,s._exit=l,s}function aK(){return new lr(this._exit||this._groups.map(tM),this._parents)}function sK(t,e,n){var r=this.enter(),i=this,a=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function oK(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],u=n[o],h=l.length,d=s[o]=new Array(h),f,p=0;p<h;++p)(f=l[p]||u[p])&&(d[p]=f);for(;o<r;++o)s[o]=e[o];return new lr(s,this._parents)}function cK(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function lK(t){t||(t=uK);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],o=s.length,l=i[a]=new Array(o),u,h=0;h<o;++h)(u=s[h])&&(l[h]=u);l.sort(e)}return new lr(i,this._parents).order()}function uK(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function hK(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function fK(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function dK(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function pK(){var t=0;return this.each(function(){++t}),t}function gK(){return!this.node()}function yK(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,s=i.length,o;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this}function mK(t){return function(){this.removeAttribute(t)}}function bK(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vK(t,e){return function(){this.setAttribute(t,e)}}function _K(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function xK(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function wK(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function kK(t,e){var n=ph(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?bK:mK:typeof e=="function"?n.local?wK:xK:n.local?_K:vK)(n,e))}function s4(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function TK(t){return function(){this.style.removeProperty(t)}}function EK(t,e,n){return function(){this.style.setProperty(t,e,n)}}function CK(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function SK(t,e,n){return arguments.length>1?this.each((e==null?TK:typeof e=="function"?CK:EK)(t,e,n==null?"":n)):lo(this.node(),t)}function lo(t,e){return t.style.getPropertyValue(e)||s4(t).getComputedStyle(t,null).getPropertyValue(e)}function AK(t){return function(){delete this[t]}}function MK(t,e){return function(){this[t]=e}}function LK(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function RK(t,e){return arguments.length>1?this.each((e==null?AK:typeof e=="function"?LK:MK)(t,e)):this.node()[t]}function eM(t){return t.trim().split(/^|\s+/)}function o4(t){return t.classList||new nM(t)}function nM(t){this._node=t,this._names=eM(t.getAttribute("class")||"")}nM.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function rM(t,e){for(var n=o4(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function iM(t,e){for(var n=o4(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function NK(t){return function(){rM(this,t)}}function IK(t){return function(){iM(this,t)}}function BK(t,e){return function(){(e.apply(this,arguments)?rM:iM)(this,t)}}function DK(t,e){var n=eM(t+"");if(arguments.length<2){for(var r=o4(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?BK:e?NK:IK)(n,e))}function OK(){this.textContent=""}function FK(t){return function(){this.textContent=t}}function PK(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function $K(t){return arguments.length?this.each(t==null?OK:(typeof t=="function"?PK:FK)(t)):this.node().textContent}function qK(){this.innerHTML=""}function VK(t){return function(){this.innerHTML=t}}function YK(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function zK(t){return arguments.length?this.each(t==null?qK:(typeof t=="function"?YK:VK)(t)):this.node().innerHTML}function UK(){this.nextSibling&&this.parentNode.appendChild(this)}function WK(){return this.each(UK)}function HK(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function GK(){return this.each(HK)}function jK(t){var e=typeof t=="function"?t:Md(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function XK(){return null}function KK(t,e){var n=typeof t=="function"?t:Md(t),r=e==null?XK:typeof e=="function"?e:Ld(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ZK(){var t=this.parentNode;t&&t.removeChild(this)}function QK(){return this.each(ZK)}function JK(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function tZ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function eZ(t){return this.select(t?tZ:JK)}function nZ(t){return arguments.length?this.property("__data__",t):this.node().__data__}var aM={},Ut=null;if(typeof document<"u"){var rZ=document.documentElement;"onmouseenter"in rZ||(aM={mouseenter:"mouseover",mouseleave:"mouseout"})}function iZ(t,e,n){return t=sM(t,e,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&t.call(this,r)}}function sM(t,e,n){return function(r){var i=Ut;Ut=r;try{t.call(this,this.__data__,e,n)}finally{Ut=i}}}function aZ(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function sZ(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.capture):e[++r]=a;++r?e.length=r:delete this.__on}}}function oZ(t,e,n){var r=aM.hasOwnProperty(t.type)?iZ:sM;return function(i,a,s){var o=this.__on,l,u=r(e,a,s);if(o){for(var h=0,d=o.length;h<d;++h)if((l=o[h]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=u,l.capture=n),l.value=e;return}}this.addEventListener(t.type,u,n),l={type:t.type,name:t.name,value:e,listener:u,capture:n},o?o.push(l):this.__on=[l]}}function cZ(t,e,n){var r=aZ(t+""),i,a=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,u=o.length,h;l<u;++l)for(i=0,h=o[l];i<a;++i)if((s=r[i]).type===h.type&&s.name===h.name)return h.value}return}for(o=e?oZ:sZ,n==null&&(n=!1),i=0;i<a;++i)this.each(o(r[i],e,n));return this}function Cu(t,e,n,r){var i=Ut;t.sourceEvent=Ut,Ut=t;try{return e.apply(n,r)}finally{Ut=i}}function oM(t,e,n){var r=s4(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function lZ(t,e){return function(){return oM(this,t,e)}}function uZ(t,e){return function(){return oM(this,t,e.apply(this,arguments))}}function hZ(t,e){return this.each((typeof e=="function"?uZ:lZ)(t,e))}var c4=[null];function lr(t,e){this._groups=t,this._parents=e}function Lo(){return new lr([[document.documentElement]],c4)}lr.prototype=Lo.prototype={constructor:lr,select:KX,selectAll:QX,filter:JX,data:iK,enter:tK,exit:aK,join:sK,merge:oK,order:cK,sort:lK,call:hK,nodes:fK,node:dK,size:pK,empty:gK,each:yK,attr:kK,style:SK,property:RK,classed:DK,text:$K,html:zK,raise:WK,lower:GK,append:jK,insert:KK,remove:QK,clone:eZ,datum:nZ,on:cZ,dispatch:hZ};function xr(t){return typeof t=="string"?new lr([[document.querySelector(t)]],[document.documentElement]):new lr([[t]],c4)}function fZ(t){return xr(Md(t).call(document.documentElement))}var dZ=0;function cM(){return new K3}function K3(){this._="@"+(++dZ).toString(36)}K3.prototype=cM.prototype={constructor:K3,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function l4(){for(var t=Ut,e;e=t.sourceEvent;)t=e;return t}function Rd(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Qs(t){var e=l4();return e.changedTouches&&(e=e.changedTouches[0]),Rd(t,e)}function pZ(t){return typeof t=="string"?new lr([document.querySelectorAll(t)],[document.documentElement]):new lr([t==null?[]:t],c4)}function Su(t,e,n){arguments.length<3&&(n=e,e=l4().changedTouches);for(var r=0,i=e?e.length:0,a;r<i;++r)if((a=e[r]).identifier===n)return Rd(t,a);return null}function gZ(t,e){e==null&&(e=l4().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Rd(t,e[n]);return i}function Sy(){Ut.stopImmediatePropagation()}function oc(){Ut.preventDefault(),Ut.stopImmediatePropagation()}function Nd(t){var e=t.document.documentElement,n=xr(t).on("dragstart.drag",oc,!0);"onselectstart"in e?n.on("selectstart.drag",oc,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Id(t,e){var n=t.document.documentElement,r=xr(t).on("dragstart.drag",null);e&&(r.on("click.drag",oc,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function rf(t){return function(){return t}}function Z3(t,e,n,r,i,a,s,o,l,u){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=s,this.dx=o,this.dy=l,this._=u}Z3.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function yZ(){return!Ut.ctrlKey&&!Ut.button}function mZ(){return this.parentNode}function bZ(t){return t==null?{x:Ut.x,y:Ut.y}:t}function vZ(){return navigator.maxTouchPoints||"ontouchstart"in this}function _Z(){var t=yZ,e=mZ,n=bZ,r=vZ,i={},a=Mo("start","drag","end"),s=0,o,l,u,h,d=0;function f(S){S.on("mousedown.drag",p).filter(r).on("touchstart.drag",b).on("touchmove.drag",x).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!(h||!t.apply(this,arguments))){var S=T("mouse",e.apply(this,arguments),Qs,this,arguments);!S||(xr(Ut.view).on("mousemove.drag",y,!0).on("mouseup.drag",m,!0),Nd(Ut.view),Sy(),u=!1,o=Ut.clientX,l=Ut.clientY,S("start"))}}function y(){if(oc(),!u){var S=Ut.clientX-o,L=Ut.clientY-l;u=S*S+L*L>d}i.mouse("drag")}function m(){xr(Ut.view).on("mousemove.drag mouseup.drag",null),Id(Ut.view,u),oc(),i.mouse("end")}function b(){if(!!t.apply(this,arguments)){var S=Ut.changedTouches,L=e.apply(this,arguments),R=S.length,A,I;for(A=0;A<R;++A)(I=T(S[A].identifier,L,Su,this,arguments))&&(Sy(),I("start"))}}function x(){var S=Ut.changedTouches,L=S.length,R,A;for(R=0;R<L;++R)(A=i[S[R].identifier])&&(oc(),A("drag"))}function k(){var S=Ut.changedTouches,L=S.length,R,A;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),R=0;R<L;++R)(A=i[S[R].identifier])&&(Sy(),A("end"))}function T(S,L,R,A,I){var C=R(L,S),N,v,E,_=a.copy();if(!!Cu(new Z3(f,"beforestart",N,S,s,C[0],C[1],0,0,_),function(){return(Ut.subject=N=n.apply(A,I))==null?!1:(v=N.x-C[0]||0,E=N.y-C[1]||0,!0)}))return function V(B){var G=C,tt;switch(B){case"start":i[S]=V,tt=s++;break;case"end":delete i[S],--s;case"drag":C=R(L,S),tt=s;break}Cu(new Z3(f,B,N,S,tt,C[0]+v,C[1]+E,C[0]-G[0],C[1]-G[1],_),_.apply,_,[B,A,I])}}return f.filter=function(S){return arguments.length?(t=typeof S=="function"?S:rf(!!S),f):t},f.container=function(S){return arguments.length?(e=typeof S=="function"?S:rf(S),f):e},f.subject=function(S){return arguments.length?(n=typeof S=="function"?S:rf(S),f):n},f.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:rf(!!S),f):r},f.on=function(){var S=a.on.apply(a,arguments);return S===a?f:S},f.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,f):Math.sqrt(d)},f}function Xc(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gh(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ss(){}var uo=.7,Ec=1/uo,cc="\\s*([+-]?\\d+)\\s*",Au="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ki="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xZ=/^#([0-9a-f]{3,8})$/,wZ=new RegExp("^rgb\\("+[cc,cc,cc]+"\\)$"),kZ=new RegExp("^rgb\\("+[Ki,Ki,Ki]+"\\)$"),TZ=new RegExp("^rgba\\("+[cc,cc,cc,Au]+"\\)$"),EZ=new RegExp("^rgba\\("+[Ki,Ki,Ki,Au]+"\\)$"),CZ=new RegExp("^hsl\\("+[Au,Ki,Ki]+"\\)$"),SZ=new RegExp("^hsla\\("+[Au,Ki,Ki,Au]+"\\)$"),Gw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xc(Ss,bs,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:jw,formatHex:jw,formatHsl:AZ,formatRgb:Xw,toString:Xw});function jw(){return this.rgb().formatHex()}function AZ(){return lM(this).formatHsl()}function Xw(){return this.rgb().formatRgb()}function bs(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=xZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Kw(e):n===3?new $n(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?af(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?af(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wZ.exec(t))?new $n(e[1],e[2],e[3],1):(e=kZ.exec(t))?new $n(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=TZ.exec(t))?af(e[1],e[2],e[3],e[4]):(e=EZ.exec(t))?af(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=CZ.exec(t))?Jw(e[1],e[2]/100,e[3]/100,1):(e=SZ.exec(t))?Jw(e[1],e[2]/100,e[3]/100,e[4]):Gw.hasOwnProperty(t)?Kw(Gw[t]):t==="transparent"?new $n(NaN,NaN,NaN,0):null}function Kw(t){return new $n(t>>16&255,t>>8&255,t&255,1)}function af(t,e,n,r){return r<=0&&(t=e=n=NaN),new $n(t,e,n,r)}function u4(t){return t instanceof Ss||(t=bs(t)),t?(t=t.rgb(),new $n(t.r,t.g,t.b,t.opacity)):new $n}function Cc(t,e,n,r){return arguments.length===1?u4(t):new $n(t,e,n,r==null?1:r)}function $n(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Xc($n,Cc,gh(Ss,{brighter:function(t){return t=t==null?Ec:Math.pow(Ec,t),new $n(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?uo:Math.pow(uo,t),new $n(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zw,formatHex:Zw,formatRgb:Qw,toString:Qw}));function Zw(){return"#"+Ay(this.r)+Ay(this.g)+Ay(this.b)}function Qw(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Ay(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function Jw(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vi(t,e,n,r)}function lM(t){if(t instanceof Vi)return new Vi(t.h,t.s,t.l,t.opacity);if(t instanceof Ss||(t=bs(t)),!t)return new Vi;if(t instanceof Vi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Vi(s,o,l,t.opacity)}function Y1(t,e,n,r){return arguments.length===1?lM(t):new Vi(t,e,n,r==null?1:r)}function Vi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Xc(Vi,Y1,gh(Ss,{brighter:function(t){return t=t==null?Ec:Math.pow(Ec,t),new Vi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?uo:Math.pow(uo,t),new Vi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $n(My(t>=240?t-240:t+120,i,r),My(t,i,r),My(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function My(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var uM=Math.PI/180,hM=180/Math.PI,z1=18,fM=.96422,dM=1,pM=.82521,gM=4/29,lc=6/29,yM=3*lc*lc,MZ=lc*lc*lc;function mM(t){if(t instanceof gi)return new gi(t.l,t.a,t.b,t.opacity);if(t instanceof Wi)return vM(t);t instanceof $n||(t=u4(t));var e=Iy(t.r),n=Iy(t.g),r=Iy(t.b),i=Ly((.2225045*e+.7168786*n+.0606169*r)/dM),a,s;return e===n&&n===r?a=s=i:(a=Ly((.4360747*e+.3850649*n+.1430804*r)/fM),s=Ly((.0139322*e+.0971045*n+.7141733*r)/pM)),new gi(116*i-16,500*(a-i),200*(i-s),t.opacity)}function LZ(t,e){return new gi(t,0,0,e==null?1:e)}function U1(t,e,n,r){return arguments.length===1?mM(t):new gi(t,e,n,r==null?1:r)}function gi(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Xc(gi,U1,gh(Ss,{brighter:function(t){return new gi(this.l+z1*(t==null?1:t),this.a,this.b,this.opacity)},darker:function(t){return new gi(this.l-z1*(t==null?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=fM*Ry(e),t=dM*Ry(t),n=pM*Ry(n),new $n(Ny(3.1338561*e-1.6168667*t-.4906146*n),Ny(-.9787684*e+1.9161415*t+.033454*n),Ny(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Ly(t){return t>MZ?Math.pow(t,1/3):t/yM+gM}function Ry(t){return t>lc?t*t*t:yM*(t-gM)}function Ny(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Iy(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function bM(t){if(t instanceof Wi)return new Wi(t.h,t.c,t.l,t.opacity);if(t instanceof gi||(t=mM(t)),t.a===0&&t.b===0)return new Wi(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*hM;return new Wi(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function RZ(t,e,n,r){return arguments.length===1?bM(t):new Wi(n,e,t,r==null?1:r)}function W1(t,e,n,r){return arguments.length===1?bM(t):new Wi(t,e,n,r==null?1:r)}function Wi(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function vM(t){if(isNaN(t.h))return new gi(t.l,0,0,t.opacity);var e=t.h*uM;return new gi(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Xc(Wi,W1,gh(Ss,{brighter:function(t){return new Wi(this.h,this.c,this.l+z1*(t==null?1:t),this.opacity)},darker:function(t){return new Wi(this.h,this.c,this.l-z1*(t==null?1:t),this.opacity)},rgb:function(){return vM(this).rgb()}}));var _M=-.14861,h4=1.78277,f4=-.29227,Bd=-.90649,Mu=1.97294,t7=Mu*Bd,e7=Mu*h4,n7=h4*f4-Bd*_M;function NZ(t){if(t instanceof eo)return new eo(t.h,t.s,t.l,t.opacity);t instanceof $n||(t=u4(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(n7*r+t7*e-e7*n)/(n7+t7-e7),a=r-i,s=(Mu*(n-i)-f4*a)/Bd,o=Math.sqrt(s*s+a*a)/(Mu*i*(1-i)),l=o?Math.atan2(s,a)*hM-120:NaN;return new eo(l<0?l+360:l,o,i,t.opacity)}function vi(t,e,n,r){return arguments.length===1?NZ(t):new eo(t,e,n,r==null?1:r)}function eo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Xc(eo,vi,gh(Ss,{brighter:function(t){return t=t==null?Ec:Math.pow(Ec,t),new eo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?uo:Math.pow(uo,t),new eo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*uM,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new $n(255*(e+n*(_M*r+h4*i)),255*(e+n*(f4*r+Bd*i)),255*(e+n*(Mu*r)),this.opacity)}}));function xM(t,e,n,r,i){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*n+(1+3*t+3*a-3*s)*r+s*i)/6}function wM(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],s=r>0?t[r-1]:2*i-a,o=r<e-1?t[r+2]:2*a-i;return xM((n-r/e)*e,s,i,a,o)}}function kM(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],s=t[(r+1)%e],o=t[(r+2)%e];return xM((n-r/e)*e,i,a,s,o)}}function Dd(t){return function(){return t}}function TM(t,e){return function(n){return t+n*e}}function IZ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Od(t,e){var n=e-t;return n?TM(t,n>180||n<-180?n-360*Math.round(n/360):n):Dd(isNaN(t)?e:t)}function BZ(t){return(t=+t)==1?Nn:function(e,n){return n-e?IZ(e,n,t):Dd(isNaN(e)?n:e)}}function Nn(t,e){var n=e-t;return n?TM(t,n):Dd(isNaN(t)?e:t)}const Lu=function t(e){var n=BZ(e);function r(i,a){var s=n((i=Cc(i)).r,(a=Cc(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=Nn(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function EM(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=Cc(e[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=t(r),i=t(i),a=t(a),o.opacity=1,function(l){return o.r=r(l),o.g=i(l),o.b=a(l),o+""}}}var CM=EM(wM),DZ=EM(kM);function d4(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function SM(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function OZ(t,e){return(SM(e)?d4:AM)(t,e)}function AM(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=yh(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function MM(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ur(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function LM(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=yh(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Q3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,By=new RegExp(Q3.source,"g");function FZ(t){return function(){return t}}function PZ(t){return function(e){return t(e)+""}}function p4(t,e){var n=Q3.lastIndex=By.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=Q3.exec(t))&&(i=By.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:Ur(r,i)})),n=By.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?PZ(l[0].x):FZ(e):(e=l.length,function(u){for(var h=0,d;h<e;++h)o[(d=l[h]).i]=d.x(u);return o.join("")})}function yh(t,e){var n=typeof e,r;return e==null||n==="boolean"?Dd(e):(n==="number"?Ur:n==="string"?(r=bs(e))?(e=r,Lu):p4:e instanceof bs?Lu:e instanceof Date?MM:SM(e)?d4:Array.isArray(e)?AM:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?LM:Ur)(t,e)}function $Z(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function qZ(t,e){var n=Od(+t,+e);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function RM(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var r7=180/Math.PI,J3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function NM(t,e,n,r,i,a){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*r7,skewX:Math.atan(l)*r7,scaleX:s,scaleY:o}}var pl,Dy,i7,sf;function VZ(t){return t==="none"?J3:(pl||(pl=document.createElement("DIV"),Dy=document.documentElement,i7=document.defaultView),pl.style.transform=t,t=i7.getComputedStyle(Dy.appendChild(pl),null).getPropertyValue("transform"),Dy.removeChild(pl),t=t.slice(7,-1).split(","),NM(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function YZ(t){return t==null||(sf||(sf=document.createElementNS("http://www.w3.org/2000/svg","g")),sf.setAttribute("transform",t),!(t=sf.transform.baseVal.consolidate()))?J3:(t=t.matrix,NM(t.a,t.b,t.c,t.d,t.e,t.f))}function IM(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,h,d,f,p,y){if(u!==d||h!==f){var m=p.push("translate(",null,e,null,n);y.push({i:m-4,x:Ur(u,d)},{i:m-2,x:Ur(h,f)})}else(d||f)&&p.push("translate("+d+e+f+n)}function s(u,h,d,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Ur(u,h)})):h&&d.push(i(d)+"rotate("+h+r)}function o(u,h,d,f){u!==h?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Ur(u,h)}):h&&d.push(i(d)+"skewX("+h+r)}function l(u,h,d,f,p,y){if(u!==d||h!==f){var m=p.push(i(p)+"scale(",null,",",null,")");y.push({i:m-4,x:Ur(u,d)},{i:m-2,x:Ur(h,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(u,h){var d=[],f=[];return u=t(u),h=t(h),a(u.translateX,u.translateY,h.translateX,h.translateY,d,f),s(u.rotate,h.rotate,d,f),o(u.skewX,h.skewX,d,f),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,f),u=h=null,function(p){for(var y=-1,m=f.length,b;++y<m;)d[(b=f[y]).i]=b.x(p);return d.join("")}}}var BM=IM(VZ,"px, ","px)","deg)"),DM=IM(YZ,", ",")",")"),gl=Math.SQRT2,Oy=2,a7=4,zZ=1e-12;function s7(t){return((t=Math.exp(t))+1/t)/2}function UZ(t){return((t=Math.exp(t))-1/t)/2}function WZ(t){return((t=Math.exp(2*t))-1)/(t+1)}function OM(t,e){var n=t[0],r=t[1],i=t[2],a=e[0],s=e[1],o=e[2],l=a-n,u=s-r,h=l*l+u*u,d,f;if(h<zZ)f=Math.log(o/i)/gl,d=function(k){return[n+k*l,r+k*u,i*Math.exp(gl*k*f)]};else{var p=Math.sqrt(h),y=(o*o-i*i+a7*h)/(2*i*Oy*p),m=(o*o-i*i-a7*h)/(2*o*Oy*p),b=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(m*m+1)-m);f=(x-b)/gl,d=function(k){var T=k*f,S=s7(b),L=i/(Oy*p)*(S*WZ(gl*T+b)-UZ(b));return[n+L*l,r+L*u,i*S/s7(gl*T+b)]}}return d.duration=f*1e3,d}function FM(t){return function(e,n){var r=t((e=Y1(e)).h,(n=Y1(n)).h),i=Nn(e.s,n.s),a=Nn(e.l,n.l),s=Nn(e.opacity,n.opacity);return function(o){return e.h=r(o),e.s=i(o),e.l=a(o),e.opacity=s(o),e+""}}}const HZ=FM(Od);var GZ=FM(Nn);function jZ(t,e){var n=Nn((t=U1(t)).l,(e=U1(e)).l),r=Nn(t.a,e.a),i=Nn(t.b,e.b),a=Nn(t.opacity,e.opacity);return function(s){return t.l=n(s),t.a=r(s),t.b=i(s),t.opacity=a(s),t+""}}function PM(t){return function(e,n){var r=t((e=W1(e)).h,(n=W1(n)).h),i=Nn(e.c,n.c),a=Nn(e.l,n.l),s=Nn(e.opacity,n.opacity);return function(o){return e.h=r(o),e.c=i(o),e.l=a(o),e.opacity=s(o),e+""}}}const XZ=PM(Od);var KZ=PM(Nn);function $M(t){return function e(n){n=+n;function r(i,a){var s=t((i=vi(i)).h,(a=vi(a)).h),o=Nn(i.s,a.s),l=Nn(i.l,a.l),u=Nn(i.opacity,a.opacity);return function(h){return i.h=s(h),i.s=o(h),i.l=l(Math.pow(h,n)),i.opacity=u(h),i+""}}return r.gamma=e,r}(1)}const ZZ=$M(Od);var Fd=$M(Nn);function QZ(t,e){for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function JZ(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Sc=0,Fl=0,yl=0,qM=1e3,H1,Pl,G1=0,ho=0,Pd=0,Ru=typeof performance=="object"&&performance.now?performance:Date,VM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Kc(){return ho||(VM(tQ),ho=Ru.now()+Pd)}function tQ(){ho=0}function Nu(){this._call=this._time=this._next=null}Nu.prototype=$d.prototype={constructor:Nu,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Kc():+n)+(e==null?0:+e),!this._next&&Pl!==this&&(Pl?Pl._next=this:H1=this,Pl=this),this._call=t,this._time=n,tv()},stop:function(){this._call&&(this._call=null,this._time=1/0,tv())}};function $d(t,e,n){var r=new Nu;return r.restart(t,e,n),r}function YM(){Kc(),++Sc;for(var t=H1,e;t;)(e=ho-t._time)>=0&&t._call.call(null,e),t=t._next;--Sc}function o7(){ho=(G1=Ru.now())+Pd,Sc=Fl=0;try{YM()}finally{Sc=0,nQ(),ho=0}}function eQ(){var t=Ru.now(),e=t-G1;e>qM&&(Pd-=e,G1=t)}function nQ(){for(var t,e=H1,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:H1=n);Pl=t,tv(r)}function tv(t){if(!Sc){Fl&&(Fl=clearTimeout(Fl));var e=t-ho;e>24?(t<1/0&&(Fl=setTimeout(o7,t-Ru.now()-Pd)),yl&&(yl=clearInterval(yl))):(yl||(G1=Ru.now(),yl=setInterval(eQ,qM)),Sc=1,VM(o7))}}function ev(t,e,n){var r=new Nu;return e=e==null?0:+e,r.restart(function(i){r.stop(),t(i+e)},e,n),r}function rQ(t,e,n){var r=new Nu,i=e;return e==null?(r.restart(t,e,n),r):(e=+e,n=n==null?Kc():+n,r.restart(function a(s){s+=i,r.restart(a,i+=e,n),t(s)},e,n),r)}var iQ=Mo("start","end","cancel","interrupt"),aQ=[],zM=0,nv=1,rv=2,jf=3,c7=4,iv=5,Xf=6;function qd(t,e,n,r,i,a){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;sQ(t,n,{name:e,index:r,group:i,on:iQ,tween:aQ,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:zM})}function g4(t,e){var n=Ti(t,e);if(n.state>zM)throw new Error("too late; already scheduled");return n}function za(t,e){var n=Ti(t,e);if(n.state>jf)throw new Error("too late; already running");return n}function Ti(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function sQ(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=$d(a,0,n.time);function a(u){n.state=nv,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var h,d,f,p;if(n.state!==nv)return l();for(h in r)if(p=r[h],p.name===n.name){if(p.state===jf)return ev(s);p.state===c7?(p.state=Xf,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[h]):+h<e&&(p.state=Xf,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[h])}if(ev(function(){n.state===jf&&(n.state=c7,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=rv,n.on.call("start",t,t.__data__,n.index,n.group),n.state===rv){for(n.state=jf,i=new Array(f=n.tween.length),h=0,d=-1;h<f;++h)(p=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function o(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=iv,1),d=-1,f=i.length;++d<f;)i[d].call(t,h);n.state===iv&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Xf,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function no(t,e){var n=t.__transition,r,i,a=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){a=!1;continue}i=r.state>rv&&r.state<iv,r.state=Xf,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}a&&delete t.__transition}}function oQ(t){return this.each(function(){no(this,t)})}function cQ(t,e){var n,r;return function(){var i=za(this,t),a=i.tween;if(a!==n){r=n=a;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function lQ(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=za(this,t),s=a.tween;if(s!==r){i=(r=s).slice();for(var o={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=o;break}l===u&&i.push(o)}a.tween=i}}function uQ(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ti(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?cQ:lQ)(n,t,e))}function y4(t,e,n){var r=t._id;return t.each(function(){var i=za(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ti(i,r).value[e]}}function UM(t,e){var n;return(typeof e=="number"?Ur:e instanceof bs?Lu:(n=bs(e))?(e=n,Lu):p4)(t,e)}function hQ(t){return function(){this.removeAttribute(t)}}function fQ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dQ(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttribute(t);return s===i?null:s===r?a:a=e(r=s,n)}}function pQ(t,e,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?a:a=e(r=s,n)}}function gQ(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function yQ(t,e,n){var r,i,a;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o)))}}function mQ(t,e){var n=ph(t),r=n==="transform"?DM:UM;return this.attrTween(t,typeof e=="function"?(n.local?yQ:gQ)(n,r,y4(this,"attr."+t,e)):e==null?(n.local?fQ:hQ)(n):(n.local?pQ:dQ)(n,r,e))}function bQ(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function vQ(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function _Q(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&vQ(t,a)),n}return i._value=e,i}function xQ(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&bQ(t,a)),n}return i._value=e,i}function wQ(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=ph(t);return this.tween(n,(r.local?_Q:xQ)(r,e))}function kQ(t,e){return function(){g4(this,t).delay=+e.apply(this,arguments)}}function TQ(t,e){return e=+e,function(){g4(this,t).delay=e}}function EQ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?kQ:TQ)(e,t)):Ti(this.node(),e).delay}function CQ(t,e){return function(){za(this,t).duration=+e.apply(this,arguments)}}function SQ(t,e){return e=+e,function(){za(this,t).duration=e}}function AQ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?CQ:SQ)(e,t)):Ti(this.node(),e).duration}function MQ(t,e){if(typeof e!="function")throw new Error;return function(){za(this,t).ease=e}}function LQ(t){var e=this._id;return arguments.length?this.each(MQ(e,t)):Ti(this.node(),e).ease}function RQ(t){typeof t!="function"&&(t=a4(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],s=a.length,o=r[i]=[],l,u=0;u<s;++u)(l=a[u])&&t.call(l,l.__data__,u,a)&&o.push(l);return new ta(r,this._parents,this._name,this._id)}function NQ(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),s=new Array(r),o=0;o<a;++o)for(var l=e[o],u=n[o],h=l.length,d=s[o]=new Array(h),f,p=0;p<h;++p)(f=l[p]||u[p])&&(d[p]=f);for(;o<r;++o)s[o]=e[o];return new ta(s,this._parents,this._name,this._id)}function IQ(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function BQ(t,e,n){var r,i,a=IQ(e)?g4:za;return function(){var s=a(this,t),o=s.on;o!==r&&(i=(r=o).copy()).on(e,n),s.on=i}}function DQ(t,e){var n=this._id;return arguments.length<2?Ti(this.node(),n).on.on(t):this.each(BQ(n,t,e))}function OQ(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function FQ(){return this.on("end.remove",OQ(this._id))}function PQ(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ld(t));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var o=r[s],l=o.length,u=a[s]=new Array(l),h,d,f=0;f<l;++f)(h=o[f])&&(d=t.call(h,h.__data__,f,o))&&("__data__"in h&&(d.__data__=h.__data__),u[f]=d,qd(u[f],e,n,f,u,Ti(h,n)));return new ta(a,this._parents,e,n)}function $Q(t){var e=this._name,n=this._id;typeof t!="function"&&(t=i4(t));for(var r=this._groups,i=r.length,a=[],s=[],o=0;o<i;++o)for(var l=r[o],u=l.length,h,d=0;d<u;++d)if(h=l[d]){for(var f=t.call(h,h.__data__,d,l),p,y=Ti(h,n),m=0,b=f.length;m<b;++m)(p=f[m])&&qd(p,e,n,m,f,y);a.push(f),s.push(h)}return new ta(a,s,e,n)}var qQ=Lo.prototype.constructor;function VQ(){return new qQ(this._groups,this._parents)}function YQ(t,e){var n,r,i;return function(){var a=lo(this,t),s=(this.style.removeProperty(t),lo(this,t));return a===s?null:a===n&&s===r?i:i=e(n=a,r=s)}}function WM(t){return function(){this.style.removeProperty(t)}}function zQ(t,e,n){var r,i=n+"",a;return function(){var s=lo(this,t);return s===i?null:s===r?a:a=e(r=s,n)}}function UQ(t,e,n){var r,i,a;return function(){var s=lo(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),lo(this,t))),s===l?null:s===r&&l===i?a:(i=l,a=e(r=s,o))}}function WQ(t,e){var n,r,i,a="style."+e,s="end."+a,o;return function(){var l=za(this,t),u=l.on,h=l.value[a]==null?o||(o=WM(e)):void 0;(u!==n||i!==h)&&(r=(n=u).copy()).on(s,i=h),l.on=r}}function HQ(t,e,n){var r=(t+="")=="transform"?BM:UM;return e==null?this.styleTween(t,YQ(t,r)).on("end.style."+t,WM(t)):typeof e=="function"?this.styleTween(t,UQ(t,r,y4(this,"style."+t,e))).each(WQ(this._id,t)):this.styleTween(t,zQ(t,r,e),n).on("end.style."+t,null)}function GQ(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function jQ(t,e,n){var r,i;function a(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&GQ(t,s,n)),r}return a._value=e,a}function XQ(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,jQ(t,e,n==null?"":n))}function KQ(t){return function(){this.textContent=t}}function ZQ(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function QQ(t){return this.tween("text",typeof t=="function"?ZQ(y4(this,"text",t)):KQ(t==null?"":t+""))}function JQ(t){return function(e){this.textContent=t.call(this,e)}}function tJ(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&JQ(i)),e}return r._value=t,r}function eJ(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,tJ(t))}function nJ(){for(var t=this._name,e=this._id,n=GM(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)if(l=s[u]){var h=Ti(l,e);qd(l,t,n,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ta(r,this._parents,t,n)}function rJ(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var o={value:s},l={value:function(){--i===0&&a()}};n.each(function(){var u=za(this,r),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),u.on=e})})}var iJ=0;function ta(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function HM(t){return Lo().transition(t)}function GM(){return++iJ}var Uo=Lo.prototype;ta.prototype=HM.prototype={constructor:ta,select:PQ,selectAll:$Q,filter:RQ,merge:NQ,selection:VQ,transition:nJ,call:Uo.call,nodes:Uo.nodes,node:Uo.node,size:Uo.size,empty:Uo.empty,each:Uo.each,on:DQ,attr:mQ,attrTween:wQ,style:HQ,styleTween:XQ,text:QQ,textTween:eJ,remove:FQ,tween:uQ,delay:EQ,duration:AQ,ease:LQ,end:rJ};function aJ(t){return+t}function sJ(t){return t*t}function oJ(t){return t*(2-t)}function l7(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function cJ(t){return t*t*t}function lJ(t){return--t*t*t+1}function av(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var m4=3,uJ=function t(e){e=+e;function n(r){return Math.pow(r,e)}return n.exponent=t,n}(m4),hJ=function t(e){e=+e;function n(r){return 1-Math.pow(1-r,e)}return n.exponent=t,n}(m4),u7=function t(e){e=+e;function n(r){return((r*=2)<=1?Math.pow(r,e):2-Math.pow(2-r,e))/2}return n.exponent=t,n}(m4),jM=Math.PI,XM=jM/2;function fJ(t){return+t==1?1:1-Math.cos(t*XM)}function dJ(t){return Math.sin(t*XM)}function h7(t){return(1-Math.cos(jM*t))/2}function vs(t){return(Math.pow(2,-10*t)-.0009765625)*1.0009775171065494}function pJ(t){return vs(1-+t)}function gJ(t){return 1-vs(t)}function f7(t){return((t*=2)<=1?vs(1-t):2-vs(t-1))/2}function yJ(t){return 1-Math.sqrt(1-t*t)}function mJ(t){return Math.sqrt(1- --t*t)}function d7(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var sv=4/11,bJ=6/11,vJ=8/11,_J=3/4,xJ=9/11,wJ=10/11,kJ=15/16,TJ=21/22,EJ=63/64,of=1/sv/sv;function CJ(t){return 1-Iu(1-t)}function Iu(t){return(t=+t)<sv?of*t*t:t<vJ?of*(t-=bJ)*t+_J:t<wJ?of*(t-=xJ)*t+kJ:of*(t-=TJ)*t+EJ}function SJ(t){return((t*=2)<=1?1-Iu(1-t):Iu(t-1)+1)/2}var b4=1.70158,AJ=function t(e){e=+e;function n(r){return(r=+r)*r*(e*(r-1)+r)}return n.overshoot=t,n}(b4),MJ=function t(e){e=+e;function n(r){return--r*r*((r+1)*e+r)+1}return n.overshoot=t,n}(b4),p7=function t(e){e=+e;function n(r){return((r*=2)<1?r*r*((e+1)*r-e):(r-=2)*r*((e+1)*r+e)+2)/2}return n.overshoot=t,n}(b4),Ac=2*Math.PI,v4=1,_4=.3,LJ=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ac);function i(a){return e*vs(- --a)*Math.sin((r-a)/n)}return i.amplitude=function(a){return t(a,n*Ac)},i.period=function(a){return t(e,a)},i}(v4,_4),g7=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ac);function i(a){return 1-e*vs(a=+a)*Math.sin((a+r)/n)}return i.amplitude=function(a){return t(a,n*Ac)},i.period=function(a){return t(e,a)},i}(v4,_4),RJ=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Ac);function i(a){return((a=a*2-1)<0?e*vs(-a)*Math.sin((r-a)/n):2-e*vs(a)*Math.sin((r+a)/n))/2}return i.amplitude=function(a){return t(a,n*Ac)},i.period=function(a){return t(e,a)},i}(v4,_4),ov={time:null,delay:0,duration:250,ease:av};function NJ(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ov.time=Kc(),ov;return n}function IJ(t){var e,n;t instanceof ta?(e=t._id,t=t._name):(e=GM(),(n=ov).time=Kc(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],o=s.length,l,u=0;u<o;++u)(l=s[u])&&qd(l,t,e,u,s,n||NJ(l,e));return new ta(r,this._parents,t,e)}Lo.prototype.interrupt=oQ;Lo.prototype.transition=IJ;var BJ=[null];function DJ(t,e){var n=t.__transition,r,i;if(n){e=e==null?null:e+"";for(i in n)if((r=n[i]).state>nv&&r.name===e)return new ta([[t]],BJ,e,+i)}return null}function Fy(t){return function(){return t}}function OJ(t,e,n){this.target=t,this.type=e,this.selection=n}function y7(){Ut.stopImmediatePropagation()}function Py(){Ut.preventDefault(),Ut.stopImmediatePropagation()}var m7={name:"drag"},$y={name:"space"},Wo={name:"handle"},Ho={name:"center"};function b7(t){return[+t[0],+t[1]]}function cv(t){return[b7(t[0]),b7(t[1])]}function FJ(t){return function(e){return Su(e,Ut.touches,t)}}var Kf={name:"x",handles:["w","e"].map(Bu),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Zf={name:"y",handles:["n","s"].map(Bu),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},PJ={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Bu),input:function(t){return t==null?null:cv(t)},output:function(t){return t}},ma={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},v7={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_7={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},$J={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},qJ={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Bu(t){return{type:t}}function VJ(){return!Ut.ctrlKey&&!Ut.button}function YJ(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function zJ(){return navigator.maxTouchPoints||"ontouchstart"in this}function qy(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function UJ(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function WJ(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function HJ(){return x4(Kf)}function GJ(){return x4(Zf)}function jJ(){return x4(PJ)}function x4(t){var e=YJ,n=VJ,r=zJ,i=!0,a=Mo("start","brush","end"),s=6,o;function l(b){var x=b.property("__brush",m).selectAll(".overlay").data([Bu("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ma.overlay).merge(x).each(function(){var T=qy(this).extent;xr(this).attr("x",T[0][0]).attr("y",T[0][1]).attr("width",T[1][0]-T[0][0]).attr("height",T[1][1]-T[0][1])}),b.selectAll(".selection").data([Bu("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ma.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var k=b.selectAll(".handle").data(t.handles,function(T){return T.type});k.exit().remove(),k.enter().append("rect").attr("class",function(T){return"handle handle--"+T.type}).attr("cursor",function(T){return ma[T.type]}),b.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(b,x){b.selection?b.on("start.brush",function(){h(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){h(this,arguments).end()}).tween("brush",function(){var k=this,T=k.__brush,S=h(k,arguments),L=T.selection,R=t.input(typeof x=="function"?x.apply(this,arguments):x,T.extent),A=yh(L,R);function I(C){T.selection=C===1&&R===null?null:A(C),u.call(k),S.brush()}return L!==null&&R!==null?I:I(1)}):b.each(function(){var k=this,T=arguments,S=k.__brush,L=t.input(typeof x=="function"?x.apply(k,T):x,S.extent),R=h(k,T).beforestart();no(k),S.selection=L===null?null:L,u.call(k),R.start().brush().end()})},l.clear=function(b){l.move(b,null)};function u(){var b=xr(this),x=qy(this).selection;x?(b.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(k){return k.type[k.type.length-1]==="e"?x[1][0]-s/2:x[0][0]-s/2}).attr("y",function(k){return k.type[0]==="s"?x[1][1]-s/2:x[0][1]-s/2}).attr("width",function(k){return k.type==="n"||k.type==="s"?x[1][0]-x[0][0]+s:s}).attr("height",function(k){return k.type==="e"||k.type==="w"?x[1][1]-x[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(b,x,k){var T=b.__brush.emitter;return T&&(!k||!T.clean)?T:new d(b,x,k)}function d(b,x,k){this.that=b,this.args=x,this.state=b.__brush,this.active=0,this.clean=k}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(b){Cu(new OJ(l,b,t.output(this.state.selection)),a.apply,a,[b,this.that,this.args])}};function f(){if(o&&!Ut.touches||!n.apply(this,arguments))return;var b=this,x=Ut.target.__data__.type,k=(i&&Ut.metaKey?x="overlay":x)==="selection"?m7:i&&Ut.altKey?Ho:Wo,T=t===Zf?null:$J[x],S=t===Kf?null:qJ[x],L=qy(b),R=L.extent,A=L.selection,I=R[0][0],C,N,v=R[0][1],E,_,V=R[1][0],B,G,tt=R[1][1],ut,X,z=0,j=0,ht,it=T&&S&&i&&Ut.shiftKey,et,ft,st=Ut.touches?FJ(Ut.changedTouches[0].identifier):Qs,wt=st(b),Z=wt,F=h(b,arguments,!0).beforestart();x==="overlay"?(A&&(ht=!0),L.selection=A=[[C=t===Zf?I:wt[0],E=t===Kf?v:wt[1]],[B=t===Zf?V:C,ut=t===Kf?tt:E]]):(C=A[0][0],E=A[0][1],B=A[1][0],ut=A[1][1]),N=C,_=E,G=B,X=ut;var H=xr(b).attr("pointer-events","none"),q=H.selectAll(".overlay").attr("cursor",ma[x]);if(Ut.touches)F.moved=$,F.ended=P;else{var D=xr(Ut.view).on("mousemove.brush",$,!0).on("mouseup.brush",P,!0);i&&D.on("keydown.brush",K,!0).on("keyup.brush",ct,!0),Nd(Ut.view)}y7(),no(b),u.call(b),F.start();function $(){var Dt=st(b);it&&!et&&!ft&&(Math.abs(Dt[0]-Z[0])>Math.abs(Dt[1]-Z[1])?ft=!0:et=!0),Z=Dt,ht=!0,Py(),U()}function U(){var Dt;switch(z=Z[0]-wt[0],j=Z[1]-wt[1],k){case $y:case m7:{T&&(z=Math.max(I-C,Math.min(V-B,z)),N=C+z,G=B+z),S&&(j=Math.max(v-E,Math.min(tt-ut,j)),_=E+j,X=ut+j);break}case Wo:{T<0?(z=Math.max(I-C,Math.min(V-C,z)),N=C+z,G=B):T>0&&(z=Math.max(I-B,Math.min(V-B,z)),N=C,G=B+z),S<0?(j=Math.max(v-E,Math.min(tt-E,j)),_=E+j,X=ut):S>0&&(j=Math.max(v-ut,Math.min(tt-ut,j)),_=E,X=ut+j);break}case Ho:{T&&(N=Math.max(I,Math.min(V,C-z*T)),G=Math.max(I,Math.min(V,B+z*T))),S&&(_=Math.max(v,Math.min(tt,E-j*S)),X=Math.max(v,Math.min(tt,ut+j*S)));break}}G<N&&(T*=-1,Dt=C,C=B,B=Dt,Dt=N,N=G,G=Dt,x in v7&&q.attr("cursor",ma[x=v7[x]])),X<_&&(S*=-1,Dt=E,E=ut,ut=Dt,Dt=_,_=X,X=Dt,x in _7&&q.attr("cursor",ma[x=_7[x]])),L.selection&&(A=L.selection),et&&(N=A[0][0],G=A[1][0]),ft&&(_=A[0][1],X=A[1][1]),(A[0][0]!==N||A[0][1]!==_||A[1][0]!==G||A[1][1]!==X)&&(L.selection=[[N,_],[G,X]],u.call(b),F.brush())}function P(){if(y7(),Ut.touches){if(Ut.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else Id(Ut.view,ht),D.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);H.attr("pointer-events","all"),q.attr("cursor",ma.overlay),L.selection&&(A=L.selection),UJ(A)&&(L.selection=null,u.call(b)),F.end()}function K(){switch(Ut.keyCode){case 16:{it=T&&S;break}case 18:{k===Wo&&(T&&(B=G-z*T,C=N+z*T),S&&(ut=X-j*S,E=_+j*S),k=Ho,U());break}case 32:{(k===Wo||k===Ho)&&(T<0?B=G-z:T>0&&(C=N-z),S<0?ut=X-j:S>0&&(E=_-j),k=$y,q.attr("cursor",ma.selection),U());break}default:return}Py()}function ct(){switch(Ut.keyCode){case 16:{it&&(et=ft=it=!1,U());break}case 18:{k===Ho&&(T<0?B=G:T>0&&(C=N),S<0?ut=X:S>0&&(E=_),k=Wo,U());break}case 32:{k===$y&&(Ut.altKey?(T&&(B=G-z*T,C=N+z*T),S&&(ut=X-j*S,E=_+j*S),k=Ho):(T<0?B=G:T>0&&(C=N),S<0?ut=X:S>0&&(E=_),k=Wo),q.attr("cursor",ma[x]),U());break}default:return}Py()}}function p(){h(this,arguments).moved()}function y(){h(this,arguments).ended()}function m(){var b=this.__brush||{selection:null};return b.extent=cv(e.apply(this,arguments)),b.dim=t,b}return l.extent=function(b){return arguments.length?(e=typeof b=="function"?b:Fy(cv(b)),l):e},l.filter=function(b){return arguments.length?(n=typeof b=="function"?b:Fy(!!b),l):n},l.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Fy(!!b),l):r},l.handleSize=function(b){return arguments.length?(s=+b,l):s},l.keyModifiers=function(b){return arguments.length?(i=!!b,l):i},l.on=function(){var b=a.on.apply(a,arguments);return b===a?l:b},l}var x7=Math.cos,w7=Math.sin,KM=Math.PI,cf=KM/2,k7=KM*2,T7=Math.max;function XJ(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function KJ(){var t=0,e=null,n=null,r=null;function i(a){var s=a.length,o=[],l=Dr(s),u=[],h=[],d=h.groups=new Array(s),f=new Array(s*s),p,y,m,b,x,k;for(p=0,x=-1;++x<s;){for(y=0,k=-1;++k<s;)y+=a[x][k];o.push(y),u.push(Dr(s)),p+=y}for(e&&l.sort(function(N,v){return e(o[N],o[v])}),n&&u.forEach(function(N,v){N.sort(function(E,_){return n(a[v][E],a[v][_])})}),p=T7(0,k7-t*s)/p,b=p?t:k7/s,y=0,x=-1;++x<s;){for(m=y,k=-1;++k<s;){var T=l[x],S=u[T][k],L=a[T][S],R=y,A=y+=L*p;f[S*s+T]={index:T,subindex:S,startAngle:R,endAngle:A,value:L}}d[T]={index:T,startAngle:m,endAngle:y,value:o[T]},y+=b}for(x=-1;++x<s;)for(k=x-1;++k<s;){var I=f[k*s+x],C=f[x*s+k];(I.value||C.value)&&h.push(I.value<C.value?{source:C,target:I}:{source:I,target:C})}return r?h.sort(r):h}return i.padAngle=function(a){return arguments.length?(t=T7(0,a),i):t},i.sortGroups=function(a){return arguments.length?(e=a,i):e},i.sortSubgroups=function(a){return arguments.length?(n=a,i):n},i.sortChords=function(a){return arguments.length?(a==null?r=null:(r=XJ(a))._=a,i):r&&r._},i}var ZJ=Array.prototype.slice;function Vy(t){return function(){return t}}var lv=Math.PI,uv=2*lv,Ws=1e-6,QJ=uv-Ws;function hv(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function As(){return new hv}hv.prototype=As.prototype={constructor:hv,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,s=this._y1,o=n-t,l=r-e,u=a-t,h=s-e,d=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Ws)if(!(Math.abs(h*o-l*u)>Ws)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var f=n-a,p=r-s,y=o*o+l*l,m=f*f+p*p,b=Math.sqrt(y),x=Math.sqrt(d),k=i*Math.tan((lv-Math.acos((y+d-m)/(2*b*x)))/2),T=k/x,S=k/b;Math.abs(T-1)>Ws&&(this._+="L"+(t+T*u)+","+(e+T*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>u*p)+","+(this._x1=t+S*o)+","+(this._y1=e+S*l)}},arc:function(t,e,n,r,i,a){t=+t,e=+e,n=+n,a=!!a;var s=n*Math.cos(r),o=n*Math.sin(r),l=t+s,u=e+o,h=1^a,d=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Ws||Math.abs(this._y1-u)>Ws)&&(this._+="L"+l+","+u),n&&(d<0&&(d=d%uv+uv),d>QJ?this._+="A"+n+","+n+",0,1,"+h+","+(t-s)+","+(e-o)+"A"+n+","+n+",0,1,"+h+","+(this._x1=l)+","+(this._y1=u):d>Ws&&(this._+="A"+n+","+n+",0,"+ +(d>=lv)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function JJ(t){return t.source}function ttt(t){return t.target}function ett(t){return t.radius}function ntt(t){return t.startAngle}function rtt(t){return t.endAngle}function itt(){var t=JJ,e=ttt,n=ett,r=ntt,i=rtt,a=null;function s(){var o,l=ZJ.call(arguments),u=t.apply(this,l),h=e.apply(this,l),d=+n.apply(this,(l[0]=u,l)),f=r.apply(this,l)-cf,p=i.apply(this,l)-cf,y=d*x7(f),m=d*w7(f),b=+n.apply(this,(l[0]=h,l)),x=r.apply(this,l)-cf,k=i.apply(this,l)-cf;if(a||(a=o=As()),a.moveTo(y,m),a.arc(0,0,d,f,p),(f!==x||p!==k)&&(a.quadraticCurveTo(0,0,b*x7(x),b*w7(x)),a.arc(0,0,b,x,k)),a.quadraticCurveTo(0,0,y,m),a.closePath(),o)return a=null,o+""||null}return s.radius=function(o){return arguments.length?(n=typeof o=="function"?o:Vy(+o),s):n},s.startAngle=function(o){return arguments.length?(r=typeof o=="function"?o:Vy(+o),s):r},s.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Vy(+o),s):i},s.source=function(o){return arguments.length?(t=o,s):t},s.target=function(o){return arguments.length?(e=o,s):e},s.context=function(o){return arguments.length?(a=o==null?null:o,s):a},s}var Yr="$";function j1(){}j1.prototype=qa.prototype={constructor:j1,has:function(t){return Yr+t in this},get:function(t){return this[Yr+t]},set:function(t,e){return this[Yr+t]=e,this},remove:function(t){var e=Yr+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Yr&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Yr&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Yr&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Yr&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Yr&&++t;return t},empty:function(){for(var t in this)if(t[0]===Yr)return!1;return!0},each:function(t){for(var e in this)e[0]===Yr&&t(this[e],e.slice(1),this)}};function qa(t,e){var n=new j1;if(t instanceof j1)t.each(function(o,l){n.set(l,o)});else if(Array.isArray(t)){var r=-1,i=t.length,a;if(e==null)for(;++r<i;)n.set(r,t[r]);else for(;++r<i;)n.set(e(a=t[r],r,t),a)}else if(t)for(var s in t)n.set(s,t[s]);return n}function att(){var t=[],e=[],n,r,i;function a(o,l,u,h){if(l>=t.length)return n!=null&&o.sort(n),r!=null?r(o):o;for(var d=-1,f=o.length,p=t[l++],y,m,b=qa(),x,k=u();++d<f;)(x=b.get(y=p(m=o[d])+""))?x.push(m):b.set(y,[m]);return b.each(function(T,S){h(k,S,a(T,l,u,h))}),k}function s(o,l){if(++l>t.length)return o;var u,h=e[l-1];return r!=null&&l>=t.length?u=o.entries():(u=[],o.each(function(d,f){u.push({key:f,values:s(d,l)})})),h!=null?u.sort(function(d,f){return h(d.key,f.key)}):u}return i={object:function(o){return a(o,0,stt,ott)},map:function(o){return a(o,0,E7,C7)},entries:function(o){return s(a(o,0,E7,C7),0)},key:function(o){return t.push(o),i},sortKeys:function(o){return e[t.length-1]=o,i},sortValues:function(o){return n=o,i},rollup:function(o){return r=o,i}}}function stt(){return{}}function ott(t,e,n){t[e]=n}function E7(){return qa()}function C7(t,e,n){t.set(e,n)}function X1(){}var Vs=qa.prototype;X1.prototype=ZM.prototype={constructor:X1,has:Vs.has,add:function(t){return t+="",this[Yr+t]=t,this},remove:Vs.remove,clear:Vs.clear,values:Vs.keys,size:Vs.size,empty:Vs.empty,each:Vs.each};function ZM(t,e){var n=new X1;if(t instanceof X1)t.each(function(a){n.add(a)});else if(t){var r=-1,i=t.length;if(e==null)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function ctt(t){var e=[];for(var n in t)e.push(n);return e}function ltt(t){var e=[];for(var n in t)e.push(t[n]);return e}function utt(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var htt=Array.prototype,QM=htt.slice;function ftt(t,e){return t-e}function dtt(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}function es(t){return function(){return t}}function ptt(t,e){for(var n=-1,r=e.length,i;++n<r;)if(i=gtt(t,e[n]))return i;return 0}function gtt(t,e){for(var n=e[0],r=e[1],i=-1,a=0,s=t.length,o=s-1;a<s;o=a++){var l=t[a],u=l[0],h=l[1],d=t[o],f=d[0],p=d[1];if(ytt(l,d,e))return 0;h>r!=p>r&&n<(f-u)*(r-h)/(p-h)+u&&(i=-i)}return i}function ytt(t,e,n){var r;return mtt(t,e,n)&&btt(t[r=+(t[0]===e[0])],n[r],e[r])}function mtt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function btt(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function vtt(){}var ba=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function JM(){var t=1,e=1,n=n4,r=l;function i(u){var h=n(u);if(Array.isArray(h))h=h.slice().sort(ftt);else{var d=t4(u),f=d[0],p=d[1];h=co(f,p,h),h=Dr(Math.floor(f/h)*h,Math.floor(p/h)*h,h)}return h.map(function(y){return a(u,y)})}function a(u,h){var d=[],f=[];return s(u,h,function(p){r(p,u,h),dtt(p)>0?d.push([p]):f.push(p)}),f.forEach(function(p){for(var y=0,m=d.length,b;y<m;++y)if(ptt((b=d[y])[0],p)!==-1){b.push(p);return}}),{type:"MultiPolygon",value:h,coordinates:d}}function s(u,h,d){var f=new Array,p=new Array,y,m,b,x,k,T;for(y=m=-1,x=u[0]>=h,ba[x<<1].forEach(S);++y<t-1;)b=x,x=u[y+1]>=h,ba[b|x<<1].forEach(S);for(ba[x<<0].forEach(S);++m<e-1;){for(y=-1,x=u[m*t+t]>=h,k=u[m*t]>=h,ba[x<<1|k<<2].forEach(S);++y<t-1;)b=x,x=u[m*t+t+y+1]>=h,T=k,k=u[m*t+y+1]>=h,ba[b|x<<1|k<<2|T<<3].forEach(S);ba[x|k<<3].forEach(S)}for(y=-1,k=u[m*t]>=h,ba[k<<2].forEach(S);++y<t-1;)T=k,k=u[m*t+y+1]>=h,ba[k<<2|T<<3].forEach(S);ba[k<<3].forEach(S);function S(L){var R=[L[0][0]+y,L[0][1]+m],A=[L[1][0]+y,L[1][1]+m],I=o(R),C=o(A),N,v;(N=p[I])?(v=f[C])?(delete p[N.end],delete f[v.start],N===v?(N.ring.push(A),d(N.ring)):f[N.start]=p[v.end]={start:N.start,end:v.end,ring:N.ring.concat(v.ring)}):(delete p[N.end],N.ring.push(A),p[N.end=C]=N):(N=f[C])?(v=p[I])?(delete f[N.start],delete p[v.end],N===v?(N.ring.push(A),d(N.ring)):f[v.start]=p[N.end]={start:v.start,end:N.end,ring:v.ring.concat(N.ring)}):(delete f[N.start],N.ring.unshift(R),f[N.start=I]=N):f[I]=p[C]={start:I,end:C,ring:[R,A]}}}function o(u){return u[0]*2+u[1]*(t+1)*4}function l(u,h,d){u.forEach(function(f){var p=f[0],y=f[1],m=p|0,b=y|0,x,k=h[b*t+m];p>0&&p<t&&m===p&&(x=h[b*t+m-1],f[0]=p+(d-x)/(k-x)-.5),y>0&&y<e&&b===y&&(x=h[(b-1)*t+m],f[1]=y+(d-x)/(k-x)-.5)})}return i.contour=a,i.size=function(u){if(!arguments.length)return[t,e];var h=Math.ceil(u[0]),d=Math.ceil(u[1]);if(!(h>0)||!(d>0))throw new Error("invalid size");return t=h,e=d,i},i.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?es(QM.call(u)):es(u),i):n},i.smooth=function(u){return arguments.length?(r=u?l:vtt,i):r===l},i}function Yy(t,e,n){for(var r=t.width,i=t.height,a=(n<<1)+1,s=0;s<i;++s)for(var o=0,l=0;o<r+n;++o)o<r&&(l+=t.data[o+s*r]),o>=n&&(o>=a&&(l-=t.data[o-a+s*r]),e.data[o-n+s*r]=l/Math.min(o+1,r-1+a-o,a))}function zy(t,e,n){for(var r=t.width,i=t.height,a=(n<<1)+1,s=0;s<r;++s)for(var o=0,l=0;o<i+n;++o)o<i&&(l+=t.data[s+o*r]),o>=n&&(o>=a&&(l-=t.data[s+(o-a)*r]),e.data[s+(o-n)*r]=l/Math.min(o+1,i-1+a-o,a))}function _tt(t){return t[0]}function xtt(t){return t[1]}function wtt(){return 1}function ktt(){var t=_tt,e=xtt,n=wtt,r=960,i=500,a=20,s=2,o=a*3,l=r+o*2>>s,u=i+o*2>>s,h=es(20);function d(x){var k=new Float32Array(l*u),T=new Float32Array(l*u);x.forEach(function(R,A,I){var C=+t(R,A,I)+o>>s,N=+e(R,A,I)+o>>s,v=+n(R,A,I);C>=0&&C<l&&N>=0&&N<u&&(k[C+N*l]+=v)}),Yy({width:l,height:u,data:k},{width:l,height:u,data:T},a>>s),zy({width:l,height:u,data:T},{width:l,height:u,data:k},a>>s),Yy({width:l,height:u,data:k},{width:l,height:u,data:T},a>>s),zy({width:l,height:u,data:T},{width:l,height:u,data:k},a>>s),Yy({width:l,height:u,data:k},{width:l,height:u,data:T},a>>s),zy({width:l,height:u,data:T},{width:l,height:u,data:k},a>>s);var S=h(k);if(!Array.isArray(S)){var L=ZA(k);S=co(0,L,S),S=Dr(0,Math.floor(L/S)*S,S),S.shift()}return JM().thresholds(S).size([l,u])(k).map(f)}function f(x){return x.value*=Math.pow(2,-2*s),x.coordinates.forEach(p),x}function p(x){x.forEach(y)}function y(x){x.forEach(m)}function m(x){x[0]=x[0]*Math.pow(2,s)-o,x[1]=x[1]*Math.pow(2,s)-o}function b(){return o=a*3,l=r+o*2>>s,u=i+o*2>>s,d}return d.x=function(x){return arguments.length?(t=typeof x=="function"?x:es(+x),d):t},d.y=function(x){return arguments.length?(e=typeof x=="function"?x:es(+x),d):e},d.weight=function(x){return arguments.length?(n=typeof x=="function"?x:es(+x),d):n},d.size=function(x){if(!arguments.length)return[r,i];var k=Math.ceil(x[0]),T=Math.ceil(x[1]);if(!(k>=0)&&!(k>=0))throw new Error("invalid size");return r=k,i=T,b()},d.cellSize=function(x){if(!arguments.length)return 1<<s;if(!((x=+x)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(x)/Math.LN2),b()},d.thresholds=function(x){return arguments.length?(h=typeof x=="function"?x:Array.isArray(x)?es(QM.call(x)):es(x),d):h},d.bandwidth=function(x){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((x=+x)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*x*x+1)-1)/2),b()},d}var S7={},Uy={},Wy=34,ml=10,Hy=13;function tL(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Ttt(t,e){var n=tL(t);return function(r,i){return e(n(r),i,t)}}function A7(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function gr(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Ett(t){return t<0?"-"+gr(-t,6):t>9999?"+"+gr(t,6):gr(t,4)}function Ctt(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Ett(t.getUTCFullYear())+"-"+gr(t.getUTCMonth()+1,2)+"-"+gr(t.getUTCDate(),2)+(i?"T"+gr(e,2)+":"+gr(n,2)+":"+gr(r,2)+"."+gr(i,3)+"Z":r?"T"+gr(e,2)+":"+gr(n,2)+":"+gr(r,2)+"Z":n||e?"T"+gr(e,2)+":"+gr(n,2)+"Z":"")}function Vd(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(d,f){var p,y,m=i(d,function(b,x){if(p)return p(b,x-1);y=b,p=f?Ttt(b,f):tL(b)});return m.columns=y||[],m}function i(d,f){var p=[],y=d.length,m=0,b=0,x,k=y<=0,T=!1;d.charCodeAt(y-1)===ml&&--y,d.charCodeAt(y-1)===Hy&&--y;function S(){if(k)return Uy;if(T)return T=!1,S7;var R,A=m,I;if(d.charCodeAt(A)===Wy){for(;m++<y&&d.charCodeAt(m)!==Wy||d.charCodeAt(++m)===Wy;);return(R=m)>=y?k=!0:(I=d.charCodeAt(m++))===ml?T=!0:I===Hy&&(T=!0,d.charCodeAt(m)===ml&&++m),d.slice(A+1,R-1).replace(/""/g,'"')}for(;m<y;){if((I=d.charCodeAt(R=m++))===ml)T=!0;else if(I===Hy)T=!0,d.charCodeAt(m)===ml&&++m;else if(I!==n)continue;return d.slice(A,R)}return k=!0,d.slice(A,y)}for(;(x=S())!==Uy;){for(var L=[];x!==S7&&x!==Uy;)L.push(x),x=S();f&&(L=f(L,b++))==null||p.push(L)}return p}function a(d,f){return d.map(function(p){return f.map(function(y){return h(p[y])}).join(t)})}function s(d,f){return f==null&&(f=A7(d)),[f.map(h).join(t)].concat(a(d,f)).join(`
`)}function o(d,f){return f==null&&(f=A7(d)),a(d,f).join(`
`)}function l(d){return d.map(u).join(`
`)}function u(d){return d.map(h).join(t)}function h(d){return d==null?"":d instanceof Date?Ctt(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:o,formatRows:l,formatRow:u,formatValue:h}}var Ro=Vd(","),eL=Ro.parse,Stt=Ro.parseRows,Att=Ro.format,Mtt=Ro.formatBody,Ltt=Ro.formatRows,Rtt=Ro.formatRow,Ntt=Ro.formatValue,No=Vd("	"),nL=No.parse,Itt=No.parseRows,Btt=No.format,Dtt=No.formatBody,Ott=No.formatRows,Ftt=No.formatRow,Ptt=No.formatValue;function $tt(t){for(var e in t){var n=t[e].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))qtt&&!!i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;t[e]=n}return t}var qtt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Vtt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Ytt(t,e){return fetch(t,e).then(Vtt)}function ztt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Utt(t,e){return fetch(t,e).then(ztt)}function Wtt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Yd(t,e){return fetch(t,e).then(Wtt)}function rL(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Yd(e,n).then(function(i){return t(i,r)})}}function Htt(t,e,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var i=Vd(t);return Yd(e,n).then(function(a){return i.parse(a,r)})}var Gtt=rL(eL),jtt=rL(nL);function Xtt(t,e){return new Promise(function(n,r){var i=new Image;for(var a in e)i[a]=e[a];i.onerror=r,i.onload=function(){n(i)},i.src=t})}function Ktt(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(!(t.status===204||t.status===205))return t.json()}function Ztt(t,e){return fetch(t,e).then(Ktt)}function w4(t){return function(e,n){return Yd(e,n).then(function(r){return new DOMParser().parseFromString(r,t)})}}const Qtt=w4("application/xml");var Jtt=w4("text/html"),tet=w4("image/svg+xml");function eet(t,e){var n;t==null&&(t=0),e==null&&(e=0);function r(){var i,a=n.length,s,o=0,l=0;for(i=0;i<a;++i)s=n[i],o+=s.x,l+=s.y;for(o=o/a-t,l=l/a-e,i=0;i<a;++i)s=n[i],s.x-=o,s.y-=l}return r.initialize=function(i){n=i},r.x=function(i){return arguments.length?(t=+i,r):t},r.y=function(i){return arguments.length?(e=+i,r):e},r}function An(t){return function(){return t}}function os(){return(Math.random()-.5)*1e-6}function net(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return iL(this.cover(e,n),e,n,t)}function iL(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a=t._root,s={data:r},o=t._x0,l=t._y0,u=t._x1,h=t._y1,d,f,p,y,m,b,x,k;if(!a)return t._root=s,t;for(;a.length;)if((m=e>=(d=(o+u)/2))?o=d:u=d,(b=n>=(f=(l+h)/2))?l=f:h=f,i=a,!(a=a[x=b<<1|m]))return i[x]=s,t;if(p=+t._x.call(null,a.data),y=+t._y.call(null,a.data),e===p&&n===y)return s.next=a,i?i[x]=s:t._root=s,t;do i=i?i[x]=new Array(4):t._root=new Array(4),(m=e>=(d=(o+u)/2))?o=d:u=d,(b=n>=(f=(l+h)/2))?l=f:h=f;while((x=b<<1|m)===(k=(y>=f)<<1|p>=d));return i[k]=a,i[x]=s,t}function ret(t){var e,n,r=t.length,i,a,s=new Array(r),o=new Array(r),l=1/0,u=1/0,h=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(a=+this._y.call(null,e))||(s[n]=i,o[n]=a,i<l&&(l=i),i>h&&(h=i),a<u&&(u=a),a>d&&(d=a));if(l>h||u>d)return this;for(this.cover(l,u).cover(h,d),n=0;n<r;++n)iL(this,s[n],o[n],t[n]);return this}function iet(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var s=i-n,o=this._root,l,u;n>t||t>=i||r>e||e>=a;)switch(u=(e<r)<<1|t<n,l=new Array(4),l[u]=o,o=l,s*=2,u){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function aet(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function set(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function rr(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function oet(t,e,n){var r,i=this._x0,a=this._y0,s,o,l,u,h=this._x1,d=this._y1,f=[],p=this._root,y,m;for(p&&f.push(new rr(p,i,a,h,d)),n==null?n=1/0:(i=t-n,a=e-n,h=t+n,d=e+n,n*=n);y=f.pop();)if(!(!(p=y.node)||(s=y.x0)>h||(o=y.y0)>d||(l=y.x1)<i||(u=y.y1)<a))if(p.length){var b=(s+l)/2,x=(o+u)/2;f.push(new rr(p[3],b,x,l,u),new rr(p[2],s,x,b,u),new rr(p[1],b,o,l,x),new rr(p[0],s,o,b,x)),(m=(e>=x)<<1|t>=b)&&(y=f[f.length-1],f[f.length-1]=f[f.length-1-m],f[f.length-1-m]=y)}else{var k=t-+this._x.call(null,p.data),T=e-+this._y.call(null,p.data),S=k*k+T*T;if(S<n){var L=Math.sqrt(n=S);i=t-L,a=e-L,h=t+L,d=e+L,r=p.data}}return r}function cet(t){if(isNaN(h=+this._x.call(null,t))||isNaN(d=+this._y.call(null,t)))return this;var e,n=this._root,r,i,a,s=this._x0,o=this._y0,l=this._x1,u=this._y1,h,d,f,p,y,m,b,x;if(!n)return this;if(n.length)for(;;){if((y=h>=(f=(s+l)/2))?s=f:l=f,(m=d>=(p=(o+u)/2))?o=p:u=p,e=n,!(n=n[b=m<<1|y]))return this;if(!n.length)break;(e[b+1&3]||e[b+2&3]||e[b+3&3])&&(r=e,x=b)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):e?(a?e[b]=a:delete e[b],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[x]=n:this._root=n),this):(this._root=a,this)}function uet(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function het(){return this._root}function fet(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function det(t){var e=[],n,r=this._root,i,a,s,o,l;for(r&&e.push(new rr(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,a=n.x0,s=n.y0,o=n.x1,l=n.y1)&&r.length){var u=(a+o)/2,h=(s+l)/2;(i=r[3])&&e.push(new rr(i,u,h,o,l)),(i=r[2])&&e.push(new rr(i,a,h,u,l)),(i=r[1])&&e.push(new rr(i,u,s,o,h)),(i=r[0])&&e.push(new rr(i,a,s,u,h))}return this}function pet(t){var e=[],n=[],r;for(this._root&&e.push(new rr(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var a,s=r.x0,o=r.y0,l=r.x1,u=r.y1,h=(s+l)/2,d=(o+u)/2;(a=i[0])&&e.push(new rr(a,s,o,h,d)),(a=i[1])&&e.push(new rr(a,h,o,l,d)),(a=i[2])&&e.push(new rr(a,s,d,h,u)),(a=i[3])&&e.push(new rr(a,h,d,l,u))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function get(t){return t[0]}function yet(t){return arguments.length?(this._x=t,this):this._x}function met(t){return t[1]}function bet(t){return arguments.length?(this._y=t,this):this._y}function zd(t,e,n){var r=new k4(e==null?get:e,n==null?met:n,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function k4(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function M7(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var dr=zd.prototype=k4.prototype;dr.copy=function(){var t=new k4(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=M7(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=M7(r));return t};dr.add=net;dr.addAll=ret;dr.cover=iet;dr.data=aet;dr.extent=set;dr.find=oet;dr.remove=cet;dr.removeAll=uet;dr.root=het;dr.size=fet;dr.visit=det;dr.visitAfter=pet;dr.x=yet;dr.y=bet;function vet(t){return t.x+t.vx}function _et(t){return t.y+t.vy}function xet(t){var e,n,r=1,i=1;typeof t!="function"&&(t=An(t==null?1:+t));function a(){for(var l,u=e.length,h,d,f,p,y,m,b=0;b<i;++b)for(h=zd(e,vet,_et).visitAfter(s),l=0;l<u;++l)d=e[l],y=n[d.index],m=y*y,f=d.x+d.vx,p=d.y+d.vy,h.visit(x);function x(k,T,S,L,R){var A=k.data,I=k.r,C=y+I;if(A){if(A.index>d.index){var N=f-A.x-A.vx,v=p-A.y-A.vy,E=N*N+v*v;E<C*C&&(N===0&&(N=os(),E+=N*N),v===0&&(v=os(),E+=v*v),E=(C-(E=Math.sqrt(E)))/E*r,d.vx+=(N*=E)*(C=(I*=I)/(m+I)),d.vy+=(v*=E)*C,A.vx-=N*(C=1-C),A.vy-=v*C)}return}return T>f+C||L<f-C||S>p+C||R<p-C}}function s(l){if(l.data)return l.r=n[l.data.index];for(var u=l.r=0;u<4;++u)l[u]&&l[u].r>l.r&&(l.r=l[u].r)}function o(){if(!!e){var l,u=e.length,h;for(n=new Array(u),l=0;l<u;++l)h=e[l],n[h.index]=+t(h,l,e)}}return a.initialize=function(l){e=l,o()},a.iterations=function(l){return arguments.length?(i=+l,a):i},a.strength=function(l){return arguments.length?(r=+l,a):r},a.radius=function(l){return arguments.length?(t=typeof l=="function"?l:An(+l),o(),a):t},a}function wet(t){return t.index}function L7(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function ket(t){var e=wet,n=h,r,i=An(30),a,s,o,l,u=1;t==null&&(t=[]);function h(m){return 1/Math.min(o[m.source.index],o[m.target.index])}function d(m){for(var b=0,x=t.length;b<u;++b)for(var k=0,T,S,L,R,A,I,C;k<x;++k)T=t[k],S=T.source,L=T.target,R=L.x+L.vx-S.x-S.vx||os(),A=L.y+L.vy-S.y-S.vy||os(),I=Math.sqrt(R*R+A*A),I=(I-a[k])/I*m*r[k],R*=I,A*=I,L.vx-=R*(C=l[k]),L.vy-=A*C,S.vx+=R*(C=1-C),S.vy+=A*C}function f(){if(!!s){var m,b=s.length,x=t.length,k=qa(s,e),T;for(m=0,o=new Array(b);m<x;++m)T=t[m],T.index=m,typeof T.source!="object"&&(T.source=L7(k,T.source)),typeof T.target!="object"&&(T.target=L7(k,T.target)),o[T.source.index]=(o[T.source.index]||0)+1,o[T.target.index]=(o[T.target.index]||0)+1;for(m=0,l=new Array(x);m<x;++m)T=t[m],l[m]=o[T.source.index]/(o[T.source.index]+o[T.target.index]);r=new Array(x),p(),a=new Array(x),y()}}function p(){if(!!s)for(var m=0,b=t.length;m<b;++m)r[m]=+n(t[m],m,t)}function y(){if(!!s)for(var m=0,b=t.length;m<b;++m)a[m]=+i(t[m],m,t)}return d.initialize=function(m){s=m,f()},d.links=function(m){return arguments.length?(t=m,f(),d):t},d.id=function(m){return arguments.length?(e=m,d):e},d.iterations=function(m){return arguments.length?(u=+m,d):u},d.strength=function(m){return arguments.length?(n=typeof m=="function"?m:An(+m),p(),d):n},d.distance=function(m){return arguments.length?(i=typeof m=="function"?m:An(+m),y(),d):i},d}function Tet(t){return t.x}function Eet(t){return t.y}var Cet=10,Aet=Math.PI*(3-Math.sqrt(5));function Met(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,s=.6,o=qa(),l=$d(h),u=Mo("tick","end");t==null&&(t=[]);function h(){d(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function d(y){var m,b=t.length,x;y===void 0&&(y=1);for(var k=0;k<y;++k)for(n+=(a-n)*i,o.each(function(T){T(n)}),m=0;m<b;++m)x=t[m],x.fx==null?x.x+=x.vx*=s:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=s:(x.y=x.fy,x.vy=0);return e}function f(){for(var y=0,m=t.length,b;y<m;++y){if(b=t[y],b.index=y,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var x=Cet*Math.sqrt(y),k=y*Aet;b.x=x*Math.cos(k),b.y=x*Math.sin(k)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function p(y){return y.initialize&&y.initialize(t),y}return f(),e={tick:d,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(y){return arguments.length?(t=y,f(),o.each(p),e):t},alpha:function(y){return arguments.length?(n=+y,e):n},alphaMin:function(y){return arguments.length?(r=+y,e):r},alphaDecay:function(y){return arguments.length?(i=+y,e):+i},alphaTarget:function(y){return arguments.length?(a=+y,e):a},velocityDecay:function(y){return arguments.length?(s=1-y,e):1-s},force:function(y,m){return arguments.length>1?(m==null?o.remove(y):o.set(y,p(m)),e):o.get(y)},find:function(y,m,b){var x=0,k=t.length,T,S,L,R,A;for(b==null?b=1/0:b*=b,x=0;x<k;++x)R=t[x],T=y-R.x,S=m-R.y,L=T*T+S*S,L<b&&(A=R,b=L);return A},on:function(y,m){return arguments.length>1?(u.on(y,m),e):u.on(y)}}}function Let(){var t,e,n,r=An(-30),i,a=1,s=1/0,o=.81;function l(f){var p,y=t.length,m=zd(t,Tet,Eet).visitAfter(h);for(n=f,p=0;p<y;++p)e=t[p],m.visit(d)}function u(){if(!!t){var f,p=t.length,y;for(i=new Array(p),f=0;f<p;++f)y=t[f],i[y.index]=+r(y,f,t)}}function h(f){var p=0,y,m,b=0,x,k,T;if(f.length){for(x=k=T=0;T<4;++T)(y=f[T])&&(m=Math.abs(y.value))&&(p+=y.value,b+=m,x+=m*y.x,k+=m*y.y);f.x=x/b,f.y=k/b}else{y=f,y.x=y.data.x,y.y=y.data.y;do p+=i[y.data.index];while(y=y.next)}f.value=p}function d(f,p,y,m){if(!f.value)return!0;var b=f.x-e.x,x=f.y-e.y,k=m-p,T=b*b+x*x;if(k*k/o<T)return T<s&&(b===0&&(b=os(),T+=b*b),x===0&&(x=os(),T+=x*x),T<a&&(T=Math.sqrt(a*T)),e.vx+=b*f.value*n/T,e.vy+=x*f.value*n/T),!0;if(f.length||T>=s)return;(f.data!==e||f.next)&&(b===0&&(b=os(),T+=b*b),x===0&&(x=os(),T+=x*x),T<a&&(T=Math.sqrt(a*T)));do f.data!==e&&(k=i[f.data.index]*n/T,e.vx+=b*k,e.vy+=x*k);while(f=f.next)}return l.initialize=function(f){t=f,u()},l.strength=function(f){return arguments.length?(r=typeof f=="function"?f:An(+f),u(),l):r},l.distanceMin=function(f){return arguments.length?(a=f*f,l):Math.sqrt(a)},l.distanceMax=function(f){return arguments.length?(s=f*f,l):Math.sqrt(s)},l.theta=function(f){return arguments.length?(o=f*f,l):Math.sqrt(o)},l}function Ret(t,e,n){var r,i=An(.1),a,s;typeof t!="function"&&(t=An(+t)),e==null&&(e=0),n==null&&(n=0);function o(u){for(var h=0,d=r.length;h<d;++h){var f=r[h],p=f.x-e||1e-6,y=f.y-n||1e-6,m=Math.sqrt(p*p+y*y),b=(s[h]-m)*a[h]*u/m;f.vx+=p*b,f.vy+=y*b}}function l(){if(!!r){var u,h=r.length;for(a=new Array(h),s=new Array(h),u=0;u<h;++u)s[u]=+t(r[u],u,r),a[u]=isNaN(s[u])?0:+i(r[u],u,r)}}return o.initialize=function(u){r=u,l()},o.strength=function(u){return arguments.length?(i=typeof u=="function"?u:An(+u),l(),o):i},o.radius=function(u){return arguments.length?(t=typeof u=="function"?u:An(+u),l(),o):t},o.x=function(u){return arguments.length?(e=+u,o):e},o.y=function(u){return arguments.length?(n=+u,o):n},o}function Net(t){var e=An(.1),n,r,i;typeof t!="function"&&(t=An(t==null?0:+t));function a(o){for(var l=0,u=n.length,h;l<u;++l)h=n[l],h.vx+=(i[l]-h.x)*r[l]*o}function s(){if(!!n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(e=typeof o=="function"?o:An(+o),s(),a):e},a.x=function(o){return arguments.length?(t=typeof o=="function"?o:An(+o),s(),a):t},a}function Iet(t){var e=An(.1),n,r,i;typeof t!="function"&&(t=An(t==null?0:+t));function a(o){for(var l=0,u=n.length,h;l<u;++l)h=n[l],h.vy+=(i[l]-h.y)*r[l]*o}function s(){if(!!n){var o,l=n.length;for(r=new Array(l),i=new Array(l),o=0;o<l;++o)r[o]=isNaN(i[o]=+t(n[o],o,n))?0:+e(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(e=typeof o=="function"?o:An(+o),s(),a):e},a.y=function(o){return arguments.length?(t=typeof o=="function"?o:An(+o),s(),a):t},a}function Bet(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function K1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Mc(t){return t=K1(Math.abs(t)),t?t[1]:NaN}function Det(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Oet(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Fet=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Du(t){if(!(e=Fet.exec(t)))throw new Error("invalid format: "+t);var e;return new Ud({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Du.prototype=Ud.prototype;function Ud(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ud.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pet(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var aL;function $et(t,e){var n=K1(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(aL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+K1(t,Math.max(0,e+a-1))[0]}function R7(t,e){var n=K1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const N7={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:Bet,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return R7(t*100,e)},r:R7,s:$et,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function I7(t){return t}var B7=Array.prototype.map,D7=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function sL(t){var e=t.grouping===void 0||t.thousands===void 0?I7:Det(B7.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?I7:Oet(B7.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"-":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Du(d);var f=d.fill,p=d.align,y=d.sign,m=d.symbol,b=d.zero,x=d.width,k=d.comma,T=d.precision,S=d.trim,L=d.type;L==="n"?(k=!0,L="g"):N7[L]||(T===void 0&&(T=12),S=!0,L="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var R=m==="$"?n:m==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",A=m==="$"?r:/[%p]/.test(L)?s:"",I=N7[L],C=/[defgprs%]/.test(L);T=T===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function N(v){var E=R,_=A,V,B,G;if(L==="c")_=I(v)+_,v="";else{v=+v;var tt=v<0||1/v<0;if(v=isNaN(v)?l:I(Math.abs(v),T),S&&(v=Pet(v)),tt&&+v==0&&y!=="+"&&(tt=!1),E=(tt?y==="("?y:o:y==="-"||y==="("?"":y)+E,_=(L==="s"?D7[8+aL/3]:"")+_+(tt&&y==="("?")":""),C){for(V=-1,B=v.length;++V<B;)if(G=v.charCodeAt(V),48>G||G>57){_=(G===46?i+v.slice(V+1):v.slice(V))+_,v=v.slice(0,V);break}}}k&&!b&&(v=e(v,1/0));var ut=E.length+v.length+_.length,X=ut<x?new Array(x-ut+1).join(f):"";switch(k&&b&&(v=e(X+v,X.length?x-_.length:1/0),X=""),p){case"<":v=E+v+_+X;break;case"=":v=E+X+v+_;break;case"^":v=X.slice(0,ut=X.length>>1)+E+v+_+X.slice(ut);break;default:v=X+E+v+_;break}return a(v)}return N.toString=function(){return d+""},N}function h(d,f){var p=u((d=Du(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Mc(f)/3)))*3,m=Math.pow(10,-y),b=D7[8+y/3];return function(x){return p(m*x)+b}}return{format:u,formatPrefix:h}}var lf,Wd,T4;oL({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function oL(t){return lf=sL(t),Wd=lf.format,T4=lf.formatPrefix,lf}function cL(t){return Math.max(0,-Mc(Math.abs(t)))}function lL(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mc(e)/3)))*3-Mc(Math.abs(t)))}function uL(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Mc(e)-Mc(t))+1}function Ms(){return new Z1}function Z1(){this.reset()}Z1.prototype={constructor:Z1,reset:function(){this.s=this.t=0},add:function(t){O7(uf,t,this.t),O7(this,uf.s,this.s),this.s?this.t+=uf.t:this.s=uf.t},valueOf:function(){return this.s}};var uf=new Z1;function O7(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var ee=1e-6,Q1=1e-12,Me=Math.PI,hn=Me/2,J1=Me/4,ur=Me*2,Xe=180/Me,ae=Me/180,Oe=Math.abs,Zc=Math.atan,hr=Math.atan2,Qt=Math.cos,hf=Math.ceil,hL=Math.exp,t0=Math.log,Gy=Math.pow,jt=Math.sin,Hr=Math.sign||function(t){return t>0?1:t<0?-1:0},Tn=Math.sqrt,E4=Math.tan;function fL(t){return t>1?0:t<-1?Me:Math.acos(t)}function fr(t){return t>1?hn:t<-1?-hn:Math.asin(t)}function F7(t){return(t=jt(t/2))*t}function sn(){}function e0(t,e){t&&$7.hasOwnProperty(t.type)&&$7[t.type](t,e)}var P7={Feature:function(t,e){e0(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)e0(n[r].geometry,e)}},$7={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fv(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fv(n[r],e,0)},Polygon:function(t,e){q7(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)q7(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)e0(n[r],e)}};function fv(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function q7(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fv(t[n],e,1);e.polygonEnd()}function oi(t,e){t&&P7.hasOwnProperty(t.type)?P7[t.type](t,e):e0(t,e)}var n0=Ms(),r0=Ms(),dL,pL,dv,pv,gv,ea={point:sn,lineStart:sn,lineEnd:sn,polygonStart:function(){n0.reset(),ea.lineStart=qet,ea.lineEnd=Vet},polygonEnd:function(){var t=+n0;r0.add(t<0?ur+t:t),this.lineStart=this.lineEnd=this.point=sn},sphere:function(){r0.add(ur)}};function qet(){ea.point=Yet}function Vet(){gL(dL,pL)}function Yet(t,e){ea.point=gL,dL=t,pL=e,t*=ae,e*=ae,dv=t,pv=Qt(e=e/2+J1),gv=jt(e)}function gL(t,e){t*=ae,e*=ae,e=e/2+J1;var n=t-dv,r=n>=0?1:-1,i=r*n,a=Qt(e),s=jt(e),o=gv*s,l=pv*a+o*Qt(i),u=o*r*jt(i);n0.add(hr(u,l)),dv=t,pv=a,gv=s}function zet(t){return r0.reset(),oi(t,ea),r0*2}function i0(t){return[hr(t[1],t[0]),fr(t[2])]}function fo(t){var e=t[0],n=t[1],r=Qt(n);return[r*Qt(e),r*jt(e),jt(n)]}function ff(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Lc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function jy(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function df(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function a0(t){var e=Tn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var an,yr,cn,Ir,Hs,yL,mL,uc,au=Ms(),ns,Va,Ea={point:yv,lineStart:V7,lineEnd:Y7,polygonStart:function(){Ea.point=vL,Ea.lineStart=Uet,Ea.lineEnd=Wet,au.reset(),ea.polygonStart()},polygonEnd:function(){ea.polygonEnd(),Ea.point=yv,Ea.lineStart=V7,Ea.lineEnd=Y7,n0<0?(an=-(cn=180),yr=-(Ir=90)):au>ee?Ir=90:au<-ee&&(yr=-90),Va[0]=an,Va[1]=cn},sphere:function(){an=-(cn=180),yr=-(Ir=90)}};function yv(t,e){ns.push(Va=[an=t,cn=t]),e<yr&&(yr=e),e>Ir&&(Ir=e)}function bL(t,e){var n=fo([t*ae,e*ae]);if(uc){var r=Lc(uc,n),i=[r[1],-r[0],0],a=Lc(i,r);a0(a),a=i0(a);var s=t-Hs,o=s>0?1:-1,l=a[0]*Xe*o,u,h=Oe(s)>180;h^(o*Hs<l&&l<o*t)?(u=a[1]*Xe,u>Ir&&(Ir=u)):(l=(l+360)%360-180,h^(o*Hs<l&&l<o*t)?(u=-a[1]*Xe,u<yr&&(yr=u)):(e<yr&&(yr=e),e>Ir&&(Ir=e))),h?t<Hs?Lr(an,t)>Lr(an,cn)&&(cn=t):Lr(t,cn)>Lr(an,cn)&&(an=t):cn>=an?(t<an&&(an=t),t>cn&&(cn=t)):t>Hs?Lr(an,t)>Lr(an,cn)&&(cn=t):Lr(t,cn)>Lr(an,cn)&&(an=t)}else ns.push(Va=[an=t,cn=t]);e<yr&&(yr=e),e>Ir&&(Ir=e),uc=n,Hs=t}function V7(){Ea.point=bL}function Y7(){Va[0]=an,Va[1]=cn,Ea.point=yv,uc=null}function vL(t,e){if(uc){var n=t-Hs;au.add(Oe(n)>180?n+(n>0?360:-360):n)}else yL=t,mL=e;ea.point(t,e),bL(t,e)}function Uet(){ea.lineStart()}function Wet(){vL(yL,mL),ea.lineEnd(),Oe(au)>ee&&(an=-(cn=180)),Va[0]=an,Va[1]=cn,uc=null}function Lr(t,e){return(e-=t)<0?e+360:e}function Het(t,e){return t[0]-e[0]}function z7(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Get(t){var e,n,r,i,a,s,o;if(Ir=cn=-(an=yr=1/0),ns=[],oi(t,Ea),n=ns.length){for(ns.sort(Het),e=1,r=ns[0],a=[r];e<n;++e)i=ns[e],z7(r,i[0])||z7(r,i[1])?(Lr(r[0],i[1])>Lr(r[0],r[1])&&(r[1]=i[1]),Lr(i[0],r[1])>Lr(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,n=a.length-1,e=0,r=a[n];e<=n;r=i,++e)i=a[e],(o=Lr(r[1],i[0]))>s&&(s=o,an=i[0],cn=r[1])}return ns=Va=null,an===1/0||yr===1/0?[[NaN,NaN],[NaN,NaN]]:[[an,yr],[cn,Ir]]}var $l,s0,o0,c0,l0,u0,h0,f0,mv,bv,vv,_L,xL,tr,er,nr,ui={sphere:sn,point:C4,lineStart:U7,lineEnd:W7,polygonStart:function(){ui.lineStart=Ket,ui.lineEnd=Zet},polygonEnd:function(){ui.lineStart=U7,ui.lineEnd=W7}};function C4(t,e){t*=ae,e*=ae;var n=Qt(e);mh(n*Qt(t),n*jt(t),jt(e))}function mh(t,e,n){++$l,o0+=(t-o0)/$l,c0+=(e-c0)/$l,l0+=(n-l0)/$l}function U7(){ui.point=jet}function jet(t,e){t*=ae,e*=ae;var n=Qt(e);tr=n*Qt(t),er=n*jt(t),nr=jt(e),ui.point=Xet,mh(tr,er,nr)}function Xet(t,e){t*=ae,e*=ae;var n=Qt(e),r=n*Qt(t),i=n*jt(t),a=jt(e),s=hr(Tn((s=er*a-nr*i)*s+(s=nr*r-tr*a)*s+(s=tr*i-er*r)*s),tr*r+er*i+nr*a);s0+=s,u0+=s*(tr+(tr=r)),h0+=s*(er+(er=i)),f0+=s*(nr+(nr=a)),mh(tr,er,nr)}function W7(){ui.point=C4}function Ket(){ui.point=Qet}function Zet(){wL(_L,xL),ui.point=C4}function Qet(t,e){_L=t,xL=e,t*=ae,e*=ae,ui.point=wL;var n=Qt(e);tr=n*Qt(t),er=n*jt(t),nr=jt(e),mh(tr,er,nr)}function wL(t,e){t*=ae,e*=ae;var n=Qt(e),r=n*Qt(t),i=n*jt(t),a=jt(e),s=er*a-nr*i,o=nr*r-tr*a,l=tr*i-er*r,u=Tn(s*s+o*o+l*l),h=fr(u),d=u&&-h/u;mv+=d*s,bv+=d*o,vv+=d*l,s0+=h,u0+=h*(tr+(tr=r)),h0+=h*(er+(er=i)),f0+=h*(nr+(nr=a)),mh(tr,er,nr)}function Jet(t){$l=s0=o0=c0=l0=u0=h0=f0=mv=bv=vv=0,oi(t,ui);var e=mv,n=bv,r=vv,i=e*e+n*n+r*r;return i<Q1&&(e=u0,n=h0,r=f0,s0<ee&&(e=o0,n=c0,r=l0),i=e*e+n*n+r*r,i<Q1)?[NaN,NaN]:[hr(n,e)*Xe,fr(r/Tn(i))*Xe]}function Go(t){return function(){return t}}function _v(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function xv(t,e){return[Oe(t)>Me?t+Math.round(-t/ur)*ur:t,e]}xv.invert=xv;function S4(t,e,n){return(t%=ur)?e||n?_v(G7(t),j7(e,n)):G7(t):e||n?j7(e,n):xv}function H7(t){return function(e,n){return e+=t,[e>Me?e-ur:e<-Me?e+ur:e,n]}}function G7(t){var e=H7(t);return e.invert=H7(-t),e}function j7(t,e){var n=Qt(t),r=jt(t),i=Qt(e),a=jt(e);function s(o,l){var u=Qt(l),h=Qt(o)*u,d=jt(o)*u,f=jt(l),p=f*n+h*r;return[hr(d*i-p*a,h*n-f*r),fr(p*i+d*a)]}return s.invert=function(o,l){var u=Qt(l),h=Qt(o)*u,d=jt(o)*u,f=jt(l),p=f*i-d*a;return[hr(d*i+f*a,h*n+p*r),fr(p*n-h*r)]},s}function kL(t){t=S4(t[0]*ae,t[1]*ae,t.length>2?t[2]*ae:0);function e(n){return n=t(n[0]*ae,n[1]*ae),n[0]*=Xe,n[1]*=Xe,n}return e.invert=function(n){return n=t.invert(n[0]*ae,n[1]*ae),n[0]*=Xe,n[1]*=Xe,n},e}function TL(t,e,n,r,i,a){if(!!n){var s=Qt(e),o=jt(e),l=r*n;i==null?(i=e+r*ur,a=e-l/2):(i=X7(s,i),a=X7(s,a),(r>0?i<a:i>a)&&(i+=r*ur));for(var u,h=i;r>0?h>a:h<a;h-=l)u=i0([s,-o*Qt(h),-o*jt(h)]),t.point(u[0],u[1])}}function X7(t,e){e=fo(e),e[0]-=t,a0(e);var n=fL(-e[1]);return((-e[2]<0?-n:n)+ur-ee)%ur}function tnt(){var t=Go([0,0]),e=Go(90),n=Go(6),r,i,a={point:s};function s(l,u){r.push(l=i(l,u)),l[0]*=Xe,l[1]*=Xe}function o(){var l=t.apply(this,arguments),u=e.apply(this,arguments)*ae,h=n.apply(this,arguments)*ae;return r=[],i=S4(-l[0]*ae,-l[1]*ae,0).invert,TL(a,u,h,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return o.center=function(l){return arguments.length?(t=typeof l=="function"?l:Go([+l[0],+l[1]]),o):t},o.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Go(+l),o):e},o.precision=function(l){return arguments.length?(n=typeof l=="function"?l:Go(+l),o):n},o}function EL(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:sn,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Qf(t,e){return Oe(t[0]-e[0])<ee&&Oe(t[1]-e[1])<ee}function pf(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function CL(t,e,n,r,i){var a=[],s=[],o,l;if(t.forEach(function(y){if(!((m=y.length-1)<=0)){var m,b=y[0],x=y[m],k;if(Qf(b,x)){if(!b[2]&&!x[2]){for(i.lineStart(),o=0;o<m;++o)i.point((b=y[o])[0],b[1]);i.lineEnd();return}x[0]+=2*ee}a.push(k=new pf(b,y,null,!0)),s.push(k.o=new pf(b,null,k,!1)),a.push(k=new pf(x,y,null,!1)),s.push(k.o=new pf(x,null,k,!0))}}),!!a.length){for(s.sort(e),K7(a),K7(s),o=0,l=s.length;o<l;++o)s[o].e=n=!n;for(var u=a[0],h,d;;){for(var f=u,p=!0;f.v;)if((f=f.n)===u)return;h=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,l=h.length;o<l;++o)i.point((d=h[o])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(h=f.p.z,o=h.length-1;o>=0;--o)i.point((d=h[o])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,h=f.z,p=!p}while(!f.v);i.lineEnd()}}}function K7(t){if(!!(e=t.length)){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}var Xy=Ms();function Ky(t){return Oe(t[0])<=Me?t[0]:Hr(t[0])*((Oe(t[0])+Me)%ur-Me)}function SL(t,e){var n=Ky(e),r=e[1],i=jt(r),a=[jt(n),-Qt(n),0],s=0,o=0;Xy.reset(),i===1?r=hn+ee:i===-1&&(r=-hn-ee);for(var l=0,u=t.length;l<u;++l)if(!!(d=(h=t[l]).length))for(var h,d,f=h[d-1],p=Ky(f),y=f[1]/2+J1,m=jt(y),b=Qt(y),x=0;x<d;++x,p=T,m=L,b=R,f=k){var k=h[x],T=Ky(k),S=k[1]/2+J1,L=jt(S),R=Qt(S),A=T-p,I=A>=0?1:-1,C=I*A,N=C>Me,v=m*L;if(Xy.add(hr(v*I*jt(C),b*R+v*Qt(C))),s+=N?A+I*ur:A,N^p>=n^T>=n){var E=Lc(fo(f),fo(k));a0(E);var _=Lc(a,E);a0(_);var V=(N^A>=0?-1:1)*fr(_[2]);(r>V||r===V&&(E[0]||E[1]))&&(o+=N^A>=0?1:-1)}}return(s<-ee||s<ee&&Xy<-ee)^o&1}function AL(t,e,n,r){return function(i){var a=e(i),s=EL(),o=e(s),l=!1,u,h,d,f={point:p,lineStart:m,lineEnd:b,polygonStart:function(){f.point=x,f.lineStart=k,f.lineEnd=T,h=[],u=[]},polygonEnd:function(){f.point=p,f.lineStart=m,f.lineEnd=b,h=r4(h);var S=SL(u,r);h.length?(l||(i.polygonStart(),l=!0),CL(h,nnt,S,n,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),h=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(S,L){t(S,L)&&i.point(S,L)}function y(S,L){a.point(S,L)}function m(){f.point=y,a.lineStart()}function b(){f.point=p,a.lineEnd()}function x(S,L){d.push([S,L]),o.point(S,L)}function k(){o.lineStart(),d=[]}function T(){x(d[0][0],d[0][1]),o.lineEnd();var S=o.clean(),L=s.result(),R,A=L.length,I,C,N;if(d.pop(),u.push(d),d=null,!!A){if(S&1){if(C=L[0],(I=C.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),R=0;R<I;++R)i.point((N=C[R])[0],N[1]);i.lineEnd()}return}A>1&&S&2&&L.push(L.pop().concat(L.shift())),h.push(L.filter(ent))}}return f}}function ent(t){return t.length>1}function nnt(t,e){return((t=t.x)[0]<0?t[1]-hn-ee:hn-t[1])-((e=e.x)[0]<0?e[1]-hn-ee:hn-e[1])}const wv=AL(function(){return!0},rnt,ant,[-Me,-hn]);function rnt(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var o=a>0?Me:-Me,l=Oe(a-e);Oe(l-Me)<ee?(t.point(e,n=(n+s)/2>0?hn:-hn),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),t.point(a,n),i=0):r!==o&&l>=Me&&(Oe(e-r)<ee&&(e-=r*ee),Oe(a-o)<ee&&(a-=o*ee),n=int(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(o,n),i=0),t.point(e=a,n=s),r=o},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function int(t,e,n,r){var i,a,s=jt(t-n);return Oe(s)>ee?Zc((jt(e)*(a=Qt(r))*jt(n)-jt(r)*(i=Qt(e))*jt(t))/(i*a*s)):(e+r)/2}function ant(t,e,n,r){var i;if(t==null)i=n*hn,r.point(-Me,i),r.point(0,i),r.point(Me,i),r.point(Me,0),r.point(Me,-i),r.point(0,-i),r.point(-Me,-i),r.point(-Me,0),r.point(-Me,i);else if(Oe(t[0]-e[0])>ee){var a=t[0]<e[0]?Me:-Me;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function ML(t){var e=Qt(t),n=6*ae,r=e>0,i=Oe(e)>ee;function a(h,d,f,p){TL(p,t,n,f,h,d)}function s(h,d){return Qt(h)*Qt(d)>e}function o(h){var d,f,p,y,m;return{lineStart:function(){y=p=!1,m=1},point:function(b,x){var k=[b,x],T,S=s(b,x),L=r?S?0:u(b,x):S?u(b+(b<0?Me:-Me),x):0;if(!d&&(y=p=S)&&h.lineStart(),S!==p&&(T=l(d,k),(!T||Qf(d,T)||Qf(k,T))&&(k[2]=1)),S!==p)m=0,S?(h.lineStart(),T=l(k,d),h.point(T[0],T[1])):(T=l(d,k),h.point(T[0],T[1],2),h.lineEnd()),d=T;else if(i&&d&&r^S){var R;!(L&f)&&(R=l(k,d,!0))&&(m=0,r?(h.lineStart(),h.point(R[0][0],R[0][1]),h.point(R[1][0],R[1][1]),h.lineEnd()):(h.point(R[1][0],R[1][1]),h.lineEnd(),h.lineStart(),h.point(R[0][0],R[0][1],3)))}S&&(!d||!Qf(d,k))&&h.point(k[0],k[1]),d=k,p=S,f=L},lineEnd:function(){p&&h.lineEnd(),d=null},clean:function(){return m|(y&&p)<<1}}}function l(h,d,f){var p=fo(h),y=fo(d),m=[1,0,0],b=Lc(p,y),x=ff(b,b),k=b[0],T=x-k*k;if(!T)return!f&&h;var S=e*x/T,L=-e*k/T,R=Lc(m,b),A=df(m,S),I=df(b,L);jy(A,I);var C=R,N=ff(A,C),v=ff(C,C),E=N*N-v*(ff(A,A)-1);if(!(E<0)){var _=Tn(E),V=df(C,(-N-_)/v);if(jy(V,A),V=i0(V),!f)return V;var B=h[0],G=d[0],tt=h[1],ut=d[1],X;G<B&&(X=B,B=G,G=X);var z=G-B,j=Oe(z-Me)<ee,ht=j||z<ee;if(!j&&ut<tt&&(X=tt,tt=ut,ut=X),ht?j?tt+ut>0^V[1]<(Oe(V[0]-B)<ee?tt:ut):tt<=V[1]&&V[1]<=ut:z>Me^(B<=V[0]&&V[0]<=G)){var it=df(C,(-N+_)/v);return jy(it,A),[V,i0(it)]}}}function u(h,d){var f=r?t:Me-t,p=0;return h<-f?p|=1:h>f&&(p|=2),d<-f?p|=4:d>f&&(p|=8),p}return AL(s,o,a,r?[0,-t]:[-Me,t-Me])}function snt(t,e,n,r,i,a){var s=t[0],o=t[1],l=e[0],u=e[1],h=0,d=1,f=l-s,p=u-o,y;if(y=n-s,!(!f&&y>0)){if(y/=f,f<0){if(y<h)return;y<d&&(d=y)}else if(f>0){if(y>d)return;y>h&&(h=y)}if(y=i-s,!(!f&&y<0)){if(y/=f,f<0){if(y>d)return;y>h&&(h=y)}else if(f>0){if(y<h)return;y<d&&(d=y)}if(y=r-o,!(!p&&y>0)){if(y/=p,p<0){if(y<h)return;y<d&&(d=y)}else if(p>0){if(y>d)return;y>h&&(h=y)}if(y=a-o,!(!p&&y<0)){if(y/=p,p<0){if(y>d)return;y>h&&(h=y)}else if(p>0){if(y<h)return;y<d&&(d=y)}return h>0&&(t[0]=s+h*f,t[1]=o+h*p),d<1&&(e[0]=s+d*f,e[1]=o+d*p),!0}}}}}var ql=1e9,gf=-ql;function Hd(t,e,n,r){function i(u,h){return t<=u&&u<=n&&e<=h&&h<=r}function a(u,h,d,f){var p=0,y=0;if(u==null||(p=s(u,d))!==(y=s(h,d))||l(u,h)<0^d>0)do f.point(p===0||p===3?t:n,p>1?r:e);while((p=(p+d+4)%4)!==y);else f.point(h[0],h[1])}function s(u,h){return Oe(u[0]-t)<ee?h>0?0:3:Oe(u[0]-n)<ee?h>0?2:1:Oe(u[1]-e)<ee?h>0?1:0:h>0?3:2}function o(u,h){return l(u.x,h.x)}function l(u,h){var d=s(u,1),f=s(h,1);return d!==f?d-f:d===0?h[1]-u[1]:d===1?u[0]-h[0]:d===2?u[1]-h[1]:h[0]-u[0]}return function(u){var h=u,d=EL(),f,p,y,m,b,x,k,T,S,L,R,A={point:I,lineStart:E,lineEnd:_,polygonStart:N,polygonEnd:v};function I(B,G){i(B,G)&&h.point(B,G)}function C(){for(var B=0,G=0,tt=p.length;G<tt;++G)for(var ut=p[G],X=1,z=ut.length,j=ut[0],ht,it,et=j[0],ft=j[1];X<z;++X)ht=et,it=ft,j=ut[X],et=j[0],ft=j[1],it<=r?ft>r&&(et-ht)*(r-it)>(ft-it)*(t-ht)&&++B:ft<=r&&(et-ht)*(r-it)<(ft-it)*(t-ht)&&--B;return B}function N(){h=d,f=[],p=[],R=!0}function v(){var B=C(),G=R&&B,tt=(f=r4(f)).length;(G||tt)&&(u.polygonStart(),G&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),tt&&CL(f,o,B,a,u),u.polygonEnd()),h=u,f=p=y=null}function E(){A.point=V,p&&p.push(y=[]),L=!0,S=!1,k=T=NaN}function _(){f&&(V(m,b),x&&S&&d.rejoin(),f.push(d.result())),A.point=I,S&&h.lineEnd()}function V(B,G){var tt=i(B,G);if(p&&y.push([B,G]),L)m=B,b=G,x=tt,L=!1,tt&&(h.lineStart(),h.point(B,G));else if(tt&&S)h.point(B,G);else{var ut=[k=Math.max(gf,Math.min(ql,k)),T=Math.max(gf,Math.min(ql,T))],X=[B=Math.max(gf,Math.min(ql,B)),G=Math.max(gf,Math.min(ql,G))];snt(ut,X,t,e,n,r)?(S||(h.lineStart(),h.point(ut[0],ut[1])),h.point(X[0],X[1]),tt||h.lineEnd(),R=!1):tt&&(h.lineStart(),h.point(B,G),R=!1)}k=B,T=G,S=tt}return A}}function ont(){var t=0,e=0,n=960,r=500,i,a,s;return s={stream:function(o){return i&&a===o?i:i=Hd(t,e,n,r)(a=o)},extent:function(o){return arguments.length?(t=+o[0][0],e=+o[0][1],n=+o[1][0],r=+o[1][1],i=a=null,s):[[t,e],[n,r]]}}}var kv=Ms(),Tv,Jf,t1,Rc={sphere:sn,point:sn,lineStart:cnt,lineEnd:sn,polygonStart:sn,polygonEnd:sn};function cnt(){Rc.point=unt,Rc.lineEnd=lnt}function lnt(){Rc.point=Rc.lineEnd=sn}function unt(t,e){t*=ae,e*=ae,Tv=t,Jf=jt(e),t1=Qt(e),Rc.point=hnt}function hnt(t,e){t*=ae,e*=ae;var n=jt(e),r=Qt(e),i=Oe(t-Tv),a=Qt(i),s=jt(i),o=r*s,l=t1*n-Jf*r*a,u=Jf*n+t1*r*a;kv.add(hr(Tn(o*o+l*l),u)),Tv=t,Jf=n,t1=r}function LL(t){return kv.reset(),oi(t,Rc),+kv}var Ev=[null,null],fnt={type:"LineString",coordinates:Ev};function d0(t,e){return Ev[0]=t,Ev[1]=e,LL(fnt)}var Z7={Feature:function(t,e){return p0(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(p0(n[r].geometry,e))return!0;return!1}},Q7={Sphere:function(){return!0},Point:function(t,e){return J7(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(J7(n[r],e))return!0;return!1},LineString:function(t,e){return tk(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(tk(n[r],e))return!0;return!1},Polygon:function(t,e){return ek(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ek(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(p0(n[r],e))return!0;return!1}};function p0(t,e){return t&&Q7.hasOwnProperty(t.type)?Q7[t.type](t,e):!1}function J7(t,e){return d0(t,e)===0}function tk(t,e){for(var n,r,i,a=0,s=t.length;a<s;a++){if(r=d0(t[a],e),r===0||a>0&&(i=d0(t[a],t[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Q1*i))return!0;n=r}return!1}function ek(t,e){return!!SL(t.map(dnt),RL(e))}function dnt(t){return t=t.map(RL),t.pop(),t}function RL(t){return[t[0]*ae,t[1]*ae]}function pnt(t,e){return(t&&Z7.hasOwnProperty(t.type)?Z7[t.type]:p0)(t,e)}function nk(t,e,n){var r=Dr(t,e-ee,n).concat(e);return function(i){return r.map(function(a){return[i,a]})}}function rk(t,e,n){var r=Dr(t,e-ee,n).concat(e);return function(i){return r.map(function(a){return[a,i]})}}function NL(){var t,e,n,r,i,a,s,o,l=10,u=l,h=90,d=360,f,p,y,m,b=2.5;function x(){return{type:"MultiLineString",coordinates:k()}}function k(){return Dr(hf(r/h)*h,n,h).map(y).concat(Dr(hf(o/d)*d,s,d).map(m)).concat(Dr(hf(e/l)*l,t,l).filter(function(T){return Oe(T%h)>ee}).map(f)).concat(Dr(hf(a/u)*u,i,u).filter(function(T){return Oe(T%d)>ee}).map(p))}return x.lines=function(){return k().map(function(T){return{type:"LineString",coordinates:T}})},x.outline=function(){return{type:"Polygon",coordinates:[y(r).concat(m(s).slice(1),y(n).reverse().slice(1),m(o).reverse().slice(1))]}},x.extent=function(T){return arguments.length?x.extentMajor(T).extentMinor(T):x.extentMinor()},x.extentMajor=function(T){return arguments.length?(r=+T[0][0],n=+T[1][0],o=+T[0][1],s=+T[1][1],r>n&&(T=r,r=n,n=T),o>s&&(T=o,o=s,s=T),x.precision(b)):[[r,o],[n,s]]},x.extentMinor=function(T){return arguments.length?(e=+T[0][0],t=+T[1][0],a=+T[0][1],i=+T[1][1],e>t&&(T=e,e=t,t=T),a>i&&(T=a,a=i,i=T),x.precision(b)):[[e,a],[t,i]]},x.step=function(T){return arguments.length?x.stepMajor(T).stepMinor(T):x.stepMinor()},x.stepMajor=function(T){return arguments.length?(h=+T[0],d=+T[1],x):[h,d]},x.stepMinor=function(T){return arguments.length?(l=+T[0],u=+T[1],x):[l,u]},x.precision=function(T){return arguments.length?(b=+T,f=nk(a,i,90),p=rk(e,t,b),y=nk(o,s,90),m=rk(r,n,b),x):b},x.extentMajor([[-180,-90+ee],[180,90-ee]]).extentMinor([[-180,-80-ee],[180,80+ee]])}function gnt(){return NL()()}function ynt(t,e){var n=t[0]*ae,r=t[1]*ae,i=e[0]*ae,a=e[1]*ae,s=Qt(r),o=jt(r),l=Qt(a),u=jt(a),h=s*Qt(n),d=s*jt(n),f=l*Qt(i),p=l*jt(i),y=2*fr(Tn(F7(a-r)+s*l*F7(i-n))),m=jt(y),b=y?function(x){var k=jt(x*=y)/m,T=jt(y-x)/m,S=T*h+k*f,L=T*d+k*p,R=T*o+k*u;return[hr(L,S)*Xe,hr(R,Tn(S*S+L*L))*Xe]}:function(){return[n*Xe,r*Xe]};return b.distance=y,b}function Ou(t){return t}var Zy=Ms(),Cv=Ms(),IL,BL,Sv,Av,as={point:sn,lineStart:sn,lineEnd:sn,polygonStart:function(){as.lineStart=mnt,as.lineEnd=vnt},polygonEnd:function(){as.lineStart=as.lineEnd=as.point=sn,Zy.add(Oe(Cv)),Cv.reset()},result:function(){var t=Zy/2;return Zy.reset(),t}};function mnt(){as.point=bnt}function bnt(t,e){as.point=DL,IL=Sv=t,BL=Av=e}function DL(t,e){Cv.add(Av*t-Sv*e),Sv=t,Av=e}function vnt(){DL(IL,BL)}const ik=as;var Nc=1/0,g0=Nc,Fu=-Nc,y0=Fu,_nt={point:xnt,lineStart:sn,lineEnd:sn,polygonStart:sn,polygonEnd:sn,result:function(){var t=[[Nc,g0],[Fu,y0]];return Fu=y0=-(g0=Nc=1/0),t}};function xnt(t,e){t<Nc&&(Nc=t),t>Fu&&(Fu=t),e<g0&&(g0=e),e>y0&&(y0=e)}const m0=_nt;var Mv=0,Lv=0,Vl=0,b0=0,v0=0,tc=0,Rv=0,Nv=0,Yl=0,OL,FL,Yi,zi,ci={point:po,lineStart:ak,lineEnd:sk,polygonStart:function(){ci.lineStart=Tnt,ci.lineEnd=Ent},polygonEnd:function(){ci.point=po,ci.lineStart=ak,ci.lineEnd=sk},result:function(){var t=Yl?[Rv/Yl,Nv/Yl]:tc?[b0/tc,v0/tc]:Vl?[Mv/Vl,Lv/Vl]:[NaN,NaN];return Mv=Lv=Vl=b0=v0=tc=Rv=Nv=Yl=0,t}};function po(t,e){Mv+=t,Lv+=e,++Vl}function ak(){ci.point=wnt}function wnt(t,e){ci.point=knt,po(Yi=t,zi=e)}function knt(t,e){var n=t-Yi,r=e-zi,i=Tn(n*n+r*r);b0+=i*(Yi+t)/2,v0+=i*(zi+e)/2,tc+=i,po(Yi=t,zi=e)}function sk(){ci.point=po}function Tnt(){ci.point=Cnt}function Ent(){PL(OL,FL)}function Cnt(t,e){ci.point=PL,po(OL=Yi=t,FL=zi=e)}function PL(t,e){var n=t-Yi,r=e-zi,i=Tn(n*n+r*r);b0+=i*(Yi+t)/2,v0+=i*(zi+e)/2,tc+=i,i=zi*t-Yi*e,Rv+=i*(Yi+t),Nv+=i*(zi+e),Yl+=i*3,po(Yi=t,zi=e)}const ok=ci;function $L(t){this._context=t}$L.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ur);break}}},result:sn};var Iv=Ms(),Qy,qL,VL,zl,Ul,_0={point:sn,lineStart:function(){_0.point=Snt},lineEnd:function(){Qy&&YL(qL,VL),_0.point=sn},polygonStart:function(){Qy=!0},polygonEnd:function(){Qy=null},result:function(){var t=+Iv;return Iv.reset(),t}};function Snt(t,e){_0.point=YL,qL=zl=t,VL=Ul=e}function YL(t,e){zl-=t,Ul-=e,Iv.add(Tn(zl*zl+Ul*Ul)),zl=t,Ul=e}const ck=_0;function zL(){this._string=[]}zL.prototype={_radius:4.5,_circle:lk(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=lk(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function lk(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ant(t,e){var n=4.5,r,i;function a(s){return s&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),oi(s,r(i))),i.result()}return a.area=function(s){return oi(s,r(ik)),ik.result()},a.measure=function(s){return oi(s,r(ck)),ck.result()},a.bounds=function(s){return oi(s,r(m0)),m0.result()},a.centroid=function(s){return oi(s,r(ok)),ok.result()},a.projection=function(s){return arguments.length?(r=s==null?(t=null,Ou):(t=s).stream,a):t},a.context=function(s){return arguments.length?(i=s==null?(e=null,new zL):new $L(e=s),typeof n!="function"&&i.pointRadius(n),a):e},a.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(i.pointRadius(+s),+s),a):n},a.projection(t).context(e)}function Mnt(t){return{stream:bh(t)}}function bh(t){return function(e){var n=new Bv;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Bv(){}Bv.prototype={constructor:Bv,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function A4(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),oi(n,t.stream(m0)),e(m0.result()),r!=null&&t.clipExtent(r),t}function Gd(t,e,n){return A4(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,l])},n)}function M4(t,e,n){return Gd(t,[[0,0],e],n)}function L4(t,e,n){return A4(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];t.scale(150*a).translate([s,o])},n)}function R4(t,e,n){return A4(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,o])},n)}var uk=16,Lnt=Qt(30*ae);function hk(t,e){return+e?Nnt(t,e):Rnt(t)}function Rnt(t){return bh({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Nnt(t,e){function n(r,i,a,s,o,l,u,h,d,f,p,y,m,b){var x=u-r,k=h-i,T=x*x+k*k;if(T>4*e&&m--){var S=s+f,L=o+p,R=l+y,A=Tn(S*S+L*L+R*R),I=fr(R/=A),C=Oe(Oe(R)-1)<ee||Oe(a-d)<ee?(a+d)/2:hr(L,S),N=t(C,I),v=N[0],E=N[1],_=v-r,V=E-i,B=k*_-x*V;(B*B/T>e||Oe((x*_+k*V)/T-.5)>.3||s*f+o*p+l*y<Lnt)&&(n(r,i,a,s,o,l,v,E,C,S/=A,L/=A,R,m,b),b.point(v,E),n(v,E,C,S,L,R,u,h,d,f,p,y,m,b))}}return function(r){var i,a,s,o,l,u,h,d,f,p,y,m,b={point:x,lineStart:k,lineEnd:S,polygonStart:function(){r.polygonStart(),b.lineStart=L},polygonEnd:function(){r.polygonEnd(),b.lineStart=k}};function x(I,C){I=t(I,C),r.point(I[0],I[1])}function k(){d=NaN,b.point=T,r.lineStart()}function T(I,C){var N=fo([I,C]),v=t(I,C);n(d,f,h,p,y,m,d=v[0],f=v[1],h=I,p=N[0],y=N[1],m=N[2],uk,r),r.point(d,f)}function S(){b.point=x,r.lineEnd()}function L(){k(),b.point=R,b.lineEnd=A}function R(I,C){T(i=I,C),a=d,s=f,o=p,l=y,u=m,b.point=T}function A(){n(d,f,h,p,y,m,a,s,i,o,l,u,uk,r),b.lineEnd=S,S()}return b}}var Int=bh({point:function(t,e){this.stream.point(t*ae,e*ae)}});function Bnt(t){return bh({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Dnt(t,e,n,r,i){function a(s,o){return s*=r,o*=i,[e+t*s,n-t*o]}return a.invert=function(s,o){return[(s-e)/t*r,(n-o)/t*i]},a}function fk(t,e,n,r,i,a){var s=Qt(a),o=jt(a),l=s*t,u=o*t,h=s/t,d=o/t,f=(o*n-s*e)/t,p=(o*e+s*n)/t;function y(m,b){return m*=r,b*=i,[l*m-u*b+e,n-u*m-l*b]}return y.invert=function(m,b){return[r*(h*m-d*b+f),i*(p-d*m-h*b)]},y}function sa(t){return N4(function(){return t})()}function N4(t){var e,n=150,r=480,i=250,a=0,s=0,o=0,l=0,u=0,h,d=0,f=1,p=1,y=null,m=wv,b=null,x,k,T,S=Ou,L=.5,R,A,I,C,N;function v(B){return I(B[0]*ae,B[1]*ae)}function E(B){return B=I.invert(B[0],B[1]),B&&[B[0]*Xe,B[1]*Xe]}v.stream=function(B){return C&&N===B?C:C=Int(Bnt(h)(m(R(S(N=B)))))},v.preclip=function(B){return arguments.length?(m=B,y=void 0,V()):m},v.postclip=function(B){return arguments.length?(S=B,b=x=k=T=null,V()):S},v.clipAngle=function(B){return arguments.length?(m=+B?ML(y=B*ae):(y=null,wv),V()):y*Xe},v.clipExtent=function(B){return arguments.length?(S=B==null?(b=x=k=T=null,Ou):Hd(b=+B[0][0],x=+B[0][1],k=+B[1][0],T=+B[1][1]),V()):b==null?null:[[b,x],[k,T]]},v.scale=function(B){return arguments.length?(n=+B,_()):n},v.translate=function(B){return arguments.length?(r=+B[0],i=+B[1],_()):[r,i]},v.center=function(B){return arguments.length?(a=B[0]%360*ae,s=B[1]%360*ae,_()):[a*Xe,s*Xe]},v.rotate=function(B){return arguments.length?(o=B[0]%360*ae,l=B[1]%360*ae,u=B.length>2?B[2]%360*ae:0,_()):[o*Xe,l*Xe,u*Xe]},v.angle=function(B){return arguments.length?(d=B%360*ae,_()):d*Xe},v.reflectX=function(B){return arguments.length?(f=B?-1:1,_()):f<0},v.reflectY=function(B){return arguments.length?(p=B?-1:1,_()):p<0},v.precision=function(B){return arguments.length?(R=hk(A,L=B*B),V()):Tn(L)},v.fitExtent=function(B,G){return Gd(v,B,G)},v.fitSize=function(B,G){return M4(v,B,G)},v.fitWidth=function(B,G){return L4(v,B,G)},v.fitHeight=function(B,G){return R4(v,B,G)};function _(){var B=fk(n,0,0,f,p,d).apply(null,e(a,s)),G=(d?fk:Dnt)(n,r-B[0],i-B[1],f,p,d);return h=S4(o,l,u),A=_v(e,G),I=_v(h,A),R=hk(A,L),V()}function V(){return C=N=null,v}return function(){return e=t.apply(this,arguments),v.invert=e.invert&&E,_()}}function I4(t){var e=0,n=Me/3,r=N4(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*ae,n=a[1]*ae):[e*Xe,n*Xe]},i}function Ont(t){var e=Qt(t);function n(r,i){return[r*e,jt(i)/e]}return n.invert=function(r,i){return[r/e,fr(i*e)]},n}function UL(t,e){var n=jt(t),r=(n+jt(e))/2;if(Oe(r)<ee)return Ont(t);var i=1+n*(2*r-n),a=Tn(i)/r;function s(o,l){var u=Tn(i-2*r*jt(l))/r;return[u*jt(o*=r),a-u*Qt(o)]}return s.invert=function(o,l){var u=a-l,h=hr(o,Oe(u))*Hr(u);return u*r<0&&(h-=Me*Hr(o)*Hr(u)),[h/r,fr((i-(o*o+u*u)*r*r)/(2*r))]},s}function x0(){return I4(UL).scale(155.424).center([0,33.6442])}function WL(){return x0().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Fnt(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Pnt(){var t,e,n=WL(),r,i=x0().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=x0().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,u={point:function(f,p){l=[f,p]}};function h(f){var p=f[0],y=f[1];return l=null,r.point(p,y),l||(a.point(p,y),l)||(o.point(p,y),l)}h.invert=function(f){var p=n.scale(),y=n.translate(),m=(f[0]-y[0])/p,b=(f[1]-y[1])/p;return(b>=.12&&b<.234&&m>=-.425&&m<-.214?i:b>=.166&&b<.234&&m>=-.214&&m<-.115?s:n).invert(f)},h.stream=function(f){return t&&e===f?t:t=Fnt([n.stream(e=f),i.stream(f),s.stream(f)])},h.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),s.precision(f),d()):n.precision()},h.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),s.scale(f),h.translate(n.translate())):n.scale()},h.translate=function(f){if(!arguments.length)return n.translate();var p=n.scale(),y=+f[0],m=+f[1];return r=n.translate(f).clipExtent([[y-.455*p,m-.238*p],[y+.455*p,m+.238*p]]).stream(u),a=i.translate([y-.307*p,m+.201*p]).clipExtent([[y-.425*p+ee,m+.12*p+ee],[y-.214*p-ee,m+.234*p-ee]]).stream(u),o=s.translate([y-.205*p,m+.212*p]).clipExtent([[y-.214*p+ee,m+.166*p+ee],[y-.115*p-ee,m+.234*p-ee]]).stream(u),d()},h.fitExtent=function(f,p){return Gd(h,f,p)},h.fitSize=function(f,p){return M4(h,f,p)},h.fitWidth=function(f,p){return L4(h,f,p)},h.fitHeight=function(f,p){return R4(h,f,p)};function d(){return t=e=null,h}return h.scale(1070)}function HL(t){return function(e,n){var r=Qt(e),i=Qt(n),a=t(r*i);return[a*i*jt(e),a*jt(n)]}}function vh(t){return function(e,n){var r=Tn(e*e+n*n),i=t(r),a=jt(i),s=Qt(i);return[hr(e*a,r*s),fr(r&&n*a/r)]}}var B4=HL(function(t){return Tn(2/(1+t))});B4.invert=vh(function(t){return 2*fr(t/2)});function $nt(){return sa(B4).scale(124.75).clipAngle(180-.001)}var D4=HL(function(t){return(t=fL(t))&&t/jt(t)});D4.invert=vh(function(t){return t});function qnt(){return sa(D4).scale(79.4188).clipAngle(180-.001)}function _h(t,e){return[t,t0(E4((hn+e)/2))]}_h.invert=function(t,e){return[t,2*Zc(hL(e))-hn]};function Vnt(){return GL(_h).scale(961/ur)}function GL(t){var e=sa(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,o,l,u;e.scale=function(d){return arguments.length?(r(d),h()):r()},e.translate=function(d){return arguments.length?(i(d),h()):i()},e.center=function(d){return arguments.length?(n(d),h()):n()},e.clipExtent=function(d){return arguments.length?(d==null?s=o=l=u=null:(s=+d[0][0],o=+d[0][1],l=+d[1][0],u=+d[1][1]),h()):s==null?null:[[s,o],[l,u]]};function h(){var d=Me*r(),f=e(kL(e.rotate()).invert([0,0]));return a(s==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:t===_h?[[Math.max(f[0]-d,s),o],[Math.min(f[0]+d,l),u]]:[[s,Math.max(f[1]-d,o)],[l,Math.min(f[1]+d,u)]])}return h()}function yf(t){return E4((hn+t)/2)}function jL(t,e){var n=Qt(t),r=t===e?jt(t):t0(n/Qt(e))/t0(yf(e)/yf(t)),i=n*Gy(yf(t),r)/r;if(!r)return _h;function a(s,o){i>0?o<-hn+ee&&(o=-hn+ee):o>hn-ee&&(o=hn-ee);var l=i/Gy(yf(o),r);return[l*jt(r*s),i-l*Qt(r*s)]}return a.invert=function(s,o){var l=i-o,u=Hr(r)*Tn(s*s+l*l),h=hr(s,Oe(l))*Hr(l);return l*r<0&&(h-=Me*Hr(s)*Hr(l)),[h/r,2*Zc(Gy(i/u,1/r))-hn]},a}function Ynt(){return I4(jL).scale(109.5).parallels([30,30])}function Pu(t,e){return[t,e]}Pu.invert=Pu;function znt(){return sa(Pu).scale(152.63)}function XL(t,e){var n=Qt(t),r=t===e?jt(t):(n-Qt(e))/(e-t),i=n/r+t;if(Oe(r)<ee)return Pu;function a(s,o){var l=i-o,u=r*s;return[l*jt(u),i-l*Qt(u)]}return a.invert=function(s,o){var l=i-o,u=hr(s,Oe(l))*Hr(l);return l*r<0&&(u-=Me*Hr(s)*Hr(l)),[u/r,i-Hr(r)*Tn(s*s+l*l)]},a}function Unt(){return I4(XL).scale(131.154).center([0,13.9389])}var su=1.340264,ou=-.081106,cu=893e-6,lu=.003796,w0=Tn(3)/2,Wnt=12;function O4(t,e){var n=fr(w0*jt(e)),r=n*n,i=r*r*r;return[t*Qt(n)/(w0*(su+3*ou*r+i*(7*cu+9*lu*r))),n*(su+ou*r+i*(cu+lu*r))]}O4.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,s,o,l;a<Wnt&&(o=n*(su+ou*r+i*(cu+lu*r))-e,l=su+3*ou*r+i*(7*cu+9*lu*r),n-=s=o/l,r=n*n,i=r*r*r,!(Oe(s)<Q1));++a);return[w0*t*(su+3*ou*r+i*(7*cu+9*lu*r))/Qt(n),fr(jt(n)/w0)]};function Hnt(){return sa(O4).scale(177.158)}function F4(t,e){var n=Qt(e),r=Qt(t)*n;return[n*jt(t)/r,jt(e)/r]}F4.invert=vh(Zc);function Gnt(){return sa(F4).scale(144.049).clipAngle(60)}function jnt(){var t=1,e=0,n=0,r=1,i=1,a=0,s,o,l=null,u,h,d,f=1,p=1,y=bh({point:function(S,L){var R=T([S,L]);this.stream.point(R[0],R[1])}}),m=Ou,b,x;function k(){return f=t*r,p=t*i,b=x=null,T}function T(S){var L=S[0]*f,R=S[1]*p;if(a){var A=R*s-L*o;L=L*s+R*o,R=A}return[L+e,R+n]}return T.invert=function(S){var L=S[0]-e,R=S[1]-n;if(a){var A=R*s+L*o;L=L*s-R*o,R=A}return[L/f,R/p]},T.stream=function(S){return b&&x===S?b:b=y(m(x=S))},T.postclip=function(S){return arguments.length?(m=S,l=u=h=d=null,k()):m},T.clipExtent=function(S){return arguments.length?(m=S==null?(l=u=h=d=null,Ou):Hd(l=+S[0][0],u=+S[0][1],h=+S[1][0],d=+S[1][1]),k()):l==null?null:[[l,u],[h,d]]},T.scale=function(S){return arguments.length?(t=+S,k()):t},T.translate=function(S){return arguments.length?(e=+S[0],n=+S[1],k()):[e,n]},T.angle=function(S){return arguments.length?(a=S%360*ae,o=jt(a),s=Qt(a),k()):a*Xe},T.reflectX=function(S){return arguments.length?(r=S?-1:1,k()):r<0},T.reflectY=function(S){return arguments.length?(i=S?-1:1,k()):i<0},T.fitExtent=function(S,L){return Gd(T,S,L)},T.fitSize=function(S,L){return M4(T,S,L)},T.fitWidth=function(S,L){return L4(T,S,L)},T.fitHeight=function(S,L){return R4(T,S,L)},T}function P4(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}P4.invert=function(t,e){var n=e,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-e)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(Oe(i)>ee&&--r>0);return[t/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function Xnt(){return sa(P4).scale(175.295)}function $4(t,e){return[Qt(e)*jt(t),jt(e)]}$4.invert=vh(fr);function Knt(){return sa($4).scale(249.5).clipAngle(90+ee)}function q4(t,e){var n=Qt(e),r=1+Qt(t)*n;return[n*jt(t)/r,jt(e)/r]}q4.invert=vh(function(t){return 2*Zc(t)});function Znt(){return sa(q4).scale(250).clipAngle(142)}function V4(t,e){return[t0(E4((hn+e)/2)),-t]}V4.invert=function(t,e){return[-e,2*Zc(hL(t))-hn]};function Qnt(){var t=GL(V4),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Jnt(t,e){return t.parent===e.parent?1:2}function trt(t){return t.reduce(ert,0)/t.length}function ert(t,e){return t+e.x}function nrt(t){return 1+t.reduce(rrt,0)}function rrt(t,e){return Math.max(t,e.y)}function irt(t){for(var e;e=t.children;)t=e[0];return t}function art(t){for(var e;e=t.children;)t=e[e.length-1];return t}function srt(){var t=Jnt,e=1,n=1,r=!1;function i(a){var s,o=0;a.eachAfter(function(f){var p=f.children;p?(f.x=trt(p),f.y=nrt(p)):(f.x=s?o+=t(f,s):0,f.y=0,s=f)});var l=irt(a),u=art(a),h=l.x-t(l,u)/2,d=u.x+t(u,l)/2;return a.eachAfter(r?function(f){f.x=(f.x-a.x)*e,f.y=(a.y-f.y)*n}:function(f){f.x=(f.x-h)/(d-h)*e,f.y=(1-(a.y?f.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(t=a,i):t},i.size=function(a){return arguments.length?(r=!1,e=+a[0],n=+a[1],i):r?null:[e,n]},i.nodeSize=function(a){return arguments.length?(r=!0,e=+a[0],n=+a[1],i):r?[e,n]:null},i}function ort(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function crt(){return this.eachAfter(ort)}function lrt(t){var e=this,n,r=[e],i,a,s;do for(n=r.reverse(),r=[];e=n.pop();)if(t(e),i=e.children,i)for(a=0,s=i.length;a<s;++a)r.push(i[a]);while(r.length);return this}function urt(t){for(var e=this,n=[e],r,i;e=n.pop();)if(t(e),r=e.children,r)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this}function hrt(t){for(var e=this,n=[e],r=[],i,a,s;e=n.pop();)if(r.push(e),i=e.children,i)for(a=0,s=i.length;a<s;++a)n.push(i[a]);for(;e=r.pop();)t(e);return this}function frt(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function drt(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function prt(t){for(var e=this,n=grt(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function grt(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function yrt(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function mrt(){var t=[];return this.each(function(e){t.push(e)}),t}function brt(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function vrt(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function Y4(t,e){var n=new Ic(t),r=+t.value&&(n.value=t.value),i,a=[n],s,o,l,u;for(e==null&&(e=xrt);i=a.pop();)if(r&&(i.value=+i.data.value),(o=e(i.data))&&(u=o.length))for(i.children=new Array(u),l=u-1;l>=0;--l)a.push(s=i.children[l]=new Ic(o[l])),s.parent=i,s.depth=i.depth+1;return n.eachBefore(KL)}function _rt(){return Y4(this).eachBefore(wrt)}function xrt(t){return t.children}function wrt(t){t.data=t.data.data}function KL(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Ic(t){this.data=t,this.depth=this.height=0,this.parent=null}Ic.prototype=Y4.prototype={constructor:Ic,count:crt,each:lrt,eachAfter:hrt,eachBefore:urt,sum:frt,sort:drt,path:prt,ancestors:yrt,descendants:mrt,leaves:brt,links:vrt,copy:_rt};var krt=Array.prototype.slice;function Trt(t){for(var e=t.length,n,r;e;)r=Math.random()*e--|0,n=t[e],t[e]=t[r],t[r]=n;return t}function ZL(t){for(var e=0,n=(t=Trt(krt.call(t))).length,r=[],i,a;e<n;)i=t[e],a&&QL(a,i)?++e:(a=Crt(r=Ert(r,i)),e=0);return a}function Ert(t,e){var n,r;if(Jy(e,t))return[e];for(n=0;n<t.length;++n)if(mf(e,t[n])&&Jy(Wl(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(mf(Wl(t[n],t[r]),e)&&mf(Wl(t[n],e),t[r])&&mf(Wl(t[r],e),t[n])&&Jy(JL(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function mf(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function QL(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Jy(t,e){for(var n=0;n<e.length;++n)if(!QL(t,e[n]))return!1;return!0}function Crt(t){switch(t.length){case 1:return Srt(t[0]);case 2:return Wl(t[0],t[1]);case 3:return JL(t[0],t[1],t[2])}}function Srt(t){return{x:t.x,y:t.y,r:t.r}}function Wl(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,s=e.y,o=e.r,l=a-n,u=s-r,h=o-i,d=Math.sqrt(l*l+u*u);return{x:(n+a+l/d*h)/2,y:(r+s+u/d*h)/2,r:(d+i+o)/2}}function JL(t,e,n){var r=t.x,i=t.y,a=t.r,s=e.x,o=e.y,l=e.r,u=n.x,h=n.y,d=n.r,f=r-s,p=r-u,y=i-o,m=i-h,b=l-a,x=d-a,k=r*r+i*i-a*a,T=k-s*s-o*o+l*l,S=k-u*u-h*h+d*d,L=p*y-f*m,R=(y*S-m*T)/(L*2)-r,A=(m*b-y*x)/L,I=(p*T-f*S)/(L*2)-i,C=(f*x-p*b)/L,N=A*A+C*C-1,v=2*(a+R*A+I*C),E=R*R+I*I-a*a,_=-(N?(v+Math.sqrt(v*v-4*N*E))/(2*N):E/v);return{x:r+R+A*_,y:i+I+C*_,r:_}}function dk(t,e,n){var r=t.x-e.x,i,a,s=t.y-e.y,o,l,u=r*r+s*s;u?(a=e.r+n.r,a*=a,l=t.r+n.r,l*=l,a>l?(i=(u+l-a)/(2*u),o=Math.sqrt(Math.max(0,l/u-i*i)),n.x=t.x-i*r-o*s,n.y=t.y-i*s+o*r):(i=(u+a-l)/(2*u),o=Math.sqrt(Math.max(0,a/u-i*i)),n.x=e.x+i*r-o*s,n.y=e.y+i*s+o*r)):(n.x=e.x+n.r,n.y=e.y)}function pk(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function gk(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function bf(t){this._=t,this.next=null,this.previous=null}function tR(t){if(!(i=t.length))return 0;var e,n,r,i,a,s,o,l,u,h,d;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;dk(n,e,r=t[2]),e=new bf(e),n=new bf(n),r=new bf(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(o=3;o<i;++o){dk(e._,n._,r=t[o]),r=new bf(r),l=n.next,u=e.previous,h=n._.r,d=e._.r;do if(h<=d){if(pk(l._,r._)){n=l,e.next=n,n.previous=e,--o;continue t}h+=l._.r,l=l.next}else{if(pk(u._,r._)){e=u,e.next=n,n.previous=e,--o;continue t}d+=u._.r,u=u.previous}while(l!==u.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,a=gk(e);(r=r.next)!==n;)(s=gk(r))<a&&(e=r,a=s);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=ZL(e),o=0;o<i;++o)e=t[o],e.x-=r.x,e.y-=r.y;return r.r}function Art(t){return tR(t),t}function Mrt(t){return t==null?null:k0(t)}function k0(t){if(typeof t!="function")throw new Error;return t}function Gs(){return 0}function Xo(t){return function(){return t}}function Lrt(t){return Math.sqrt(t.value)}function Rrt(){var t=null,e=1,n=1,r=Gs;function i(a){return a.x=e/2,a.y=n/2,t?a.eachBefore(yk(t)).eachAfter(tm(r,.5)).eachBefore(mk(1)):a.eachBefore(yk(Lrt)).eachAfter(tm(Gs,1)).eachAfter(tm(r,a.r/Math.min(e,n))).eachBefore(mk(Math.min(e,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(t=Mrt(a),i):t},i.size=function(a){return arguments.length?(e=+a[0],n=+a[1],i):[e,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Xo(+a),i):r},i}function yk(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function tm(t,e){return function(n){if(r=n.children){var r,i,a=r.length,s=t(n)*e||0,o;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=tR(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function mk(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function eR(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function xh(t,e,n,r,i){for(var a=t.children,s,o=-1,l=a.length,u=t.value&&(r-e)/t.value;++o<l;)s=a[o],s.y0=n,s.y1=i,s.x0=e,s.x1=e+=s.value*u}function Nrt(){var t=1,e=1,n=0,r=!1;function i(s){var o=s.height+1;return s.x0=s.y0=n,s.x1=t,s.y1=e/o,s.eachBefore(a(e,o)),r&&s.eachBefore(eR),s}function a(s,o){return function(l){l.children&&xh(l,l.x0,s*(l.depth+1)/o,l.x1,s*(l.depth+2)/o);var u=l.x0,h=l.y0,d=l.x1-n,f=l.y1-n;d<u&&(u=d=(u+d)/2),f<h&&(h=f=(h+f)/2),l.x0=u,l.y0=h,l.x1=d,l.y1=f}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(t=+s[0],e=+s[1],i):[t,e]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var bk="$",Irt={depth:-1},vk={};function Brt(t){return t.id}function Drt(t){return t.parentId}function Ort(){var t=Brt,e=Drt;function n(r){var i,a,s=r.length,o,l,u,h=new Array(s),d,f,p={};for(a=0;a<s;++a)i=r[a],u=h[a]=new Ic(i),(d=t(i,a,r))!=null&&(d+="")&&(f=bk+(u.id=d),p[f]=f in p?vk:u);for(a=0;a<s;++a)if(u=h[a],d=e(r[a],a,r),d==null||!(d+="")){if(o)throw new Error("multiple roots");o=u}else{if(l=p[bk+d],!l)throw new Error("missing: "+d);if(l===vk)throw new Error("ambiguous: "+d);l.children?l.children.push(u):l.children=[u],u.parent=l}if(!o)throw new Error("no root");if(o.parent=Irt,o.eachBefore(function(y){y.depth=y.parent.depth+1,--s}).eachBefore(KL),o.parent=null,s>0)throw new Error("cycle");return o}return n.id=function(r){return arguments.length?(t=k0(r),n):t},n.parentId=function(r){return arguments.length?(e=k0(r),n):e},n}function Frt(t,e){return t.parent===e.parent?1:2}function em(t){var e=t.children;return e?e[0]:t.t}function nm(t){var e=t.children;return e?e[e.length-1]:t.t}function Prt(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function $rt(t){for(var e=0,n=0,r=t.children,i=r.length,a;--i>=0;)a=r[i],a.z+=e,a.m+=e,e+=a.s+(n+=a.c)}function qrt(t,e,n){return t.a.parent===e.parent?t.a:n}function e1(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}e1.prototype=Object.create(Ic.prototype);function Vrt(t){for(var e=new e1(t,0),n,r=[e],i,a,s,o;n=r.pop();)if(a=n._.children)for(n.children=new Array(o=a.length),s=o-1;s>=0;--s)r.push(i=n.children[s]=new e1(a[s],s)),i.parent=n;return(e.parent=new e1(null,0)).children=[e],e}function Yrt(){var t=Frt,e=1,n=1,r=null;function i(u){var h=Vrt(u);if(h.eachAfter(a),h.parent.m=-h.z,h.eachBefore(s),r)u.eachBefore(l);else{var d=u,f=u,p=u;u.eachBefore(function(k){k.x<d.x&&(d=k),k.x>f.x&&(f=k),k.depth>p.depth&&(p=k)});var y=d===f?1:t(d,f)/2,m=y-d.x,b=e/(f.x+y+m),x=n/(p.depth||1);u.eachBefore(function(k){k.x=(k.x+m)*b,k.y=k.depth*x})}return u}function a(u){var h=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(h){$rt(u);var p=(h[0].z+h[h.length-1].z)/2;f?(u.z=f.z+t(u._,f._),u.m=u.z-p):u.z=p}else f&&(u.z=f.z+t(u._,f._));u.parent.A=o(u,f,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function o(u,h,d){if(h){for(var f=u,p=u,y=h,m=f.parent.children[0],b=f.m,x=p.m,k=y.m,T=m.m,S;y=nm(y),f=em(f),y&&f;)m=em(m),p=nm(p),p.a=u,S=y.z+k-f.z-b+t(y._,f._),S>0&&(Prt(qrt(y,u,d),u,S),b+=S,x+=S),k+=y.m,b+=f.m,T+=m.m,x+=p.m;y&&!nm(p)&&(p.t=y,p.m+=k-x),f&&!em(m)&&(m.t=f,m.m+=b-T,d=u)}return d}function l(u){u.x*=e,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(t=u,i):t},i.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],i):r?null:[e,n]},i.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],i):r?[e,n]:null},i}function jd(t,e,n,r,i){for(var a=t.children,s,o=-1,l=a.length,u=t.value&&(i-n)/t.value;++o<l;)s=a[o],s.x0=e,s.x1=r,s.y0=n,s.y1=n+=s.value*u}var nR=(1+Math.sqrt(5))/2;function rR(t,e,n,r,i,a){for(var s=[],o=e.children,l,u,h=0,d=0,f=o.length,p,y,m=e.value,b,x,k,T,S,L,R;h<f;){p=i-n,y=a-r;do b=o[d++].value;while(!b&&d<f);for(x=k=b,L=Math.max(y/p,p/y)/(m*t),R=b*b*L,S=Math.max(k/R,R/x);d<f;++d){if(b+=u=o[d].value,u<x&&(x=u),u>k&&(k=u),R=b*b*L,T=Math.max(k/R,R/x),T>S){b-=u;break}S=T}s.push(l={value:b,dice:p<y,children:o.slice(h,d)}),l.dice?xh(l,n,r,i,m?r+=y*b/m:a):jd(l,n,r,m?n+=p*b/m:i,a),m-=b,h=d}return s}const iR=function t(e){function n(r,i,a,s,o){rR(e,r,i,a,s,o)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(nR);function zrt(){var t=iR,e=!1,n=1,r=1,i=[0],a=Gs,s=Gs,o=Gs,l=Gs,u=Gs;function h(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(d),i=[0],e&&f.eachBefore(eR),f}function d(f){var p=i[f.depth],y=f.x0+p,m=f.y0+p,b=f.x1-p,x=f.y1-p;b<y&&(y=b=(y+b)/2),x<m&&(m=x=(m+x)/2),f.x0=y,f.y0=m,f.x1=b,f.y1=x,f.children&&(p=i[f.depth+1]=a(f)/2,y+=u(f)-p,m+=s(f)-p,b-=o(f)-p,x-=l(f)-p,b<y&&(y=b=(y+b)/2),x<m&&(m=x=(m+x)/2),t(f,y,m,b,x))}return h.round=function(f){return arguments.length?(e=!!f,h):e},h.size=function(f){return arguments.length?(n=+f[0],r=+f[1],h):[n,r]},h.tile=function(f){return arguments.length?(t=k0(f),h):t},h.padding=function(f){return arguments.length?h.paddingInner(f).paddingOuter(f):h.paddingInner()},h.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:Xo(+f),h):a},h.paddingOuter=function(f){return arguments.length?h.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):h.paddingTop()},h.paddingTop=function(f){return arguments.length?(s=typeof f=="function"?f:Xo(+f),h):s},h.paddingRight=function(f){return arguments.length?(o=typeof f=="function"?f:Xo(+f),h):o},h.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:Xo(+f),h):l},h.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:Xo(+f),h):u},h}function Urt(t,e,n,r,i){var a=t.children,s,o=a.length,l,u=new Array(o+1);for(u[0]=l=s=0;s<o;++s)u[s+1]=l+=a[s].value;h(0,o,t.value,e,n,r,i);function h(d,f,p,y,m,b,x){if(d>=f-1){var k=a[d];k.x0=y,k.y0=m,k.x1=b,k.y1=x;return}for(var T=u[d],S=p/2+T,L=d+1,R=f-1;L<R;){var A=L+R>>>1;u[A]<S?L=A+1:R=A}S-u[L-1]<u[L]-S&&d+1<L&&--L;var I=u[L]-T,C=p-I;if(b-y>x-m){var N=(y*C+b*I)/p;h(d,L,I,y,m,N,x),h(L,f,C,N,m,b,x)}else{var v=(m*C+x*I)/p;h(d,L,I,y,m,b,v),h(L,f,C,y,v,b,x)}}}function Wrt(t,e,n,r,i){(t.depth&1?jd:xh)(t,e,n,r,i)}const Hrt=function t(e){function n(r,i,a,s,o){if((l=r._squarify)&&l.ratio===e)for(var l,u,h,d,f=-1,p,y=l.length,m=r.value;++f<y;){for(u=l[f],h=u.children,d=u.value=0,p=h.length;d<p;++d)u.value+=h[d].value;u.dice?xh(u,i,a,s,a+=(o-a)*u.value/m):jd(u,i,a,i+=(s-i)*u.value/m,o),m-=u.value}else r._squarify=l=rR(e,r,i,a,s,o),l.ratio=e}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(nR);function Grt(t){for(var e=-1,n=t.length,r,i=t[n-1],a=0;++e<n;)r=i,i=t[e],a+=r[1]*i[0]-r[0]*i[1];return a/2}function jrt(t){for(var e=-1,n=t.length,r=0,i=0,a,s=t[n-1],o,l=0;++e<n;)a=s,s=t[e],l+=o=a[0]*s[1]-s[0]*a[1],r+=(a[0]+s[0])*o,i+=(a[1]+s[1])*o;return l*=3,[r/l,i/l]}function Xrt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Krt(t,e){return t[0]-e[0]||t[1]-e[1]}function _k(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&Xrt(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Zrt(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Krt),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=_k(r),s=_k(i),o=s[0]===a[0],l=s[s.length-1]===a[a.length-1],u=[];for(e=a.length-1;e>=0;--e)u.push(t[r[a[e]][2]]);for(e=+o;e<s.length-l;++e)u.push(t[r[s[e]][2]]);return u}function Qrt(t,e){for(var n=t.length,r=t[n-1],i=e[0],a=e[1],s=r[0],o=r[1],l,u,h=!1,d=0;d<n;++d)r=t[d],l=r[0],u=r[1],u>a!=o>a&&i<(s-l)*(a-u)/(o-u)+l&&(h=!h),s=l,o=u;return h}function Jrt(t){for(var e=-1,n=t.length,r=t[n-1],i,a,s=r[0],o=r[1],l=0;++e<n;)i=s,a=o,r=t[e],s=r[0],o=r[1],i-=s,a-=o,l+=Math.sqrt(i*i+a*a);return l}function Qc(){return Math.random()}const tit=function t(e){function n(r,i){return r=r==null?0:+r,i=i==null?1:+i,arguments.length===1?(i=r,r=0):i-=r,function(){return e()*i+r}}return n.source=t,n}(Qc),aR=function t(e){function n(r,i){var a,s;return r=r==null?0:+r,i=i==null?1:+i,function(){var o;if(a!=null)o=a,a=null;else do a=e()*2-1,o=e()*2-1,s=a*a+o*o;while(!s||s>1);return r+i*o*Math.sqrt(-2*Math.log(s)/s)}}return n.source=t,n}(Qc),eit=function t(e){function n(){var r=aR.source(e).apply(this,arguments);return function(){return Math.exp(r())}}return n.source=t,n}(Qc),sR=function t(e){function n(r){return function(){for(var i=0,a=0;a<r;++a)i+=e();return i}}return n.source=t,n}(Qc),nit=function t(e){function n(r){var i=sR.source(e)(r);return function(){return i()/r}}return n.source=t,n}(Qc),rit=function t(e){function n(r){return function(){return-Math.log(1-e())/r}}return n.source=t,n}(Qc);function Ei(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ua(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}var oR=Array.prototype,T0=oR.map,go=oR.slice,Dv={name:"implicit"};function z4(){var t=qa(),e=[],n=[],r=Dv;function i(a){var s=a+"",o=t.get(s);if(!o){if(r!==Dv)return r;t.set(s,o=e.push(a))}return n[(o-1)%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=qa();for(var s=-1,o=a.length,l,u;++s<o;)t.has(u=(l=a[s])+"")||t.set(u,e.push(l));return i},i.range=function(a){return arguments.length?(n=go.call(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return z4(e,n).unknown(r)},Ei.apply(i,arguments),i}function U4(){var t=z4().unknown(void 0),e=t.domain,n=t.range,r=[0,1],i,a,s=!1,o=0,l=0,u=.5;delete t.unknown;function h(){var d=e().length,f=r[1]<r[0],p=r[f-0],y=r[1-f];i=(y-p)/Math.max(1,d-o+l*2),s&&(i=Math.floor(i)),p+=(y-p-i*(d-o))*u,a=i*(1-o),s&&(p=Math.round(p),a=Math.round(a));var m=Dr(d).map(function(b){return p+i*b});return n(f?m.reverse():m)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?(r=[+d[0],+d[1]],h()):r.slice()},t.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,h()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(d){return arguments.length?(s=!!d,h()):s},t.padding=function(d){return arguments.length?(o=Math.min(1,l=+d),h()):o},t.paddingInner=function(d){return arguments.length?(o=Math.min(1,d),h()):o},t.paddingOuter=function(d){return arguments.length?(l=+d,h()):l},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),h()):u},t.copy=function(){return U4(e(),r).round(s).paddingInner(o).paddingOuter(l).align(u)},Ei.apply(h(),arguments)}function cR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cR(e())},t}function iit(){return cR(U4.apply(null,arguments).paddingInner(1))}function ait(t){return function(){return t}}function Ov(t){return+t}var xk=[0,1];function qn(t){return t}function Fv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ait(isNaN(e)?NaN:.5)}function wk(t){var e=t[0],n=t[t.length-1],r;return e>n&&(r=e,e=n,n=r),function(i){return Math.max(e,Math.min(n,i))}}function sit(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=Fv(i,r),a=n(s,a)):(r=Fv(r,i),a=n(a,s)),function(o){return a(r(o))}}function oit(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Fv(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var l=ys(t,o,1,r)-1;return a[l](i[l](o))}}function wh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xd(){var t=xk,e=xk,n=yh,r,i,a,s=qn,o,l,u;function h(){return o=Math.min(t.length,e.length)>2?oit:sit,l=u=null,d}function d(f){return isNaN(f=+f)?a:(l||(l=o(t.map(r),e,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=o(e,t.map(r),Ur)))(f)))},d.domain=function(f){return arguments.length?(t=T0.call(f,Ov),s===qn||(s=wk(t)),h()):t.slice()},d.range=function(f){return arguments.length?(e=go.call(f),h()):e.slice()},d.rangeRound=function(f){return e=go.call(f),n=RM,h()},d.clamp=function(f){return arguments.length?(s=f?wk(t):qn,d):s!==qn},d.interpolate=function(f){return arguments.length?(n=f,h()):n},d.unknown=function(f){return arguments.length?(a=f,d):a},function(f,p){return r=f,i=p,h()}}function lR(t,e){return Xd()(t,e)}function uR(t,e,n,r){var i=co(t,e,n),a;switch(r=Du(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=lL(i,s))&&(r.precision=a),T4(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=uL(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=cL(i))&&(r.precision=a-(r.type==="%")*2);break}}return Wd(r)}function Io(t){var e=t.domain;return t.ticks=function(n){var r=e();return e4(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return uR(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],l;return o<s&&(l=s,s=o,o=l,l=i,i=a,a=l),l=iu(s,o,n),l>0?(s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l,l=iu(s,o,n)):l<0&&(s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l,l=iu(s,o,n)),l>0?(r[i]=Math.floor(s/l)*l,r[a]=Math.ceil(o/l)*l,e(r)):l<0&&(r[i]=Math.ceil(s*l)/l,r[a]=Math.floor(o*l)/l,e(r)),t},t}function hR(){var t=lR(qn,qn);return t.copy=function(){return wh(t,hR())},Ei.apply(t,arguments),Io(t)}function fR(t){var e;function n(r){return isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=T0.call(r,Ov),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return fR(t).unknown(e)},t=arguments.length?T0.call(t,Ov):[0,1],Io(n)}function dR(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function kk(t){return Math.log(t)}function Tk(t){return Math.exp(t)}function cit(t){return-Math.log(-t)}function lit(t){return-Math.exp(-t)}function uit(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hit(t){return t===10?uit:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function fit(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Ek(t){return function(e){return-t(-e)}}function W4(t){var e=t(kk,Tk),n=e.domain,r=10,i,a;function s(){return i=fit(r),a=hit(r),n()[0]<0?(i=Ek(i),a=Ek(a),t(cit,lit)):t(kk,Tk),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=function(o){var l=n(),u=l[0],h=l[l.length-1],d;(d=h<u)&&(f=u,u=h,h=f);var f=i(u),p=i(h),y,m,b,x=o==null?10:+o,k=[];if(!(r%1)&&p-f<x){if(f=Math.round(f)-1,p=Math.round(p)+1,u>0){for(;f<p;++f)for(m=1,y=a(f);m<r;++m)if(b=y*m,!(b<u)){if(b>h)break;k.push(b)}}else for(;f<p;++f)for(m=r-1,y=a(f);m>=1;--m)if(b=y*m,!(b<u)){if(b>h)break;k.push(b)}}else k=e4(f,p,Math.min(p-f,x)).map(a);return d?k.reverse():k},e.tickFormat=function(o,l){if(l==null&&(l=r===10?".0e":","),typeof l!="function"&&(l=Wd(l)),o===1/0)return l;o==null&&(o=10);var u=Math.max(1,r*o/e.ticks().length);return function(h){var d=h/a(Math.round(i(h)));return d*r<r-.5&&(d*=r),d<=u?l(h):""}},e.nice=function(){return n(dR(n(),{floor:function(o){return a(Math.floor(i(o)))},ceil:function(o){return a(Math.ceil(i(o)))}}))},e}function pR(){var t=W4(Xd()).domain([1,10]);return t.copy=function(){return wh(t,pR()).base(t.base())},Ei.apply(t,arguments),t}function Ck(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Sk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function H4(t){var e=1,n=t(Ck(e),Sk(e));return n.constant=function(r){return arguments.length?t(Ck(e=+r),Sk(e)):e},Io(n)}function gR(){var t=H4(Xd());return t.copy=function(){return wh(t,gR()).constant(t.constant())},Ei.apply(t,arguments)}function Ak(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function dit(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function pit(t){return t<0?-t*t:t*t}function G4(t){var e=t(qn,qn),n=1;function r(){return n===1?t(qn,qn):n===.5?t(dit,pit):t(Ak(n),Ak(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Io(e)}function j4(){var t=G4(Xd());return t.copy=function(){return wh(t,j4()).exponent(t.exponent())},Ei.apply(t,arguments),t}function git(){return j4.apply(null,arguments).exponent(.5)}function yR(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=Eu(t,s/o);return a}function a(s){return isNaN(s=+s)?r:e[ys(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(var o=0,l=s.length,u;o<l;++o)u=s[o],u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Cs),i()},a.range=function(s){return arguments.length?(e=go.call(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return yR().domain(t).range(e).unknown(r)},Ei.apply(a,arguments)}function mR(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(l){return l<=l?i[ys(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?(t=+l[0],e=+l[1],o()):[t,e]},s.range=function(l){return arguments.length?(n=(i=go.call(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return mR().domain([t,e]).range(i).unknown(a)},Ei.apply(Io(s),arguments)}function bR(){var t=[.5],e=[0,1],n,r=1;function i(a){return a<=a?e[ys(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=go.call(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=go.call(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return bR().domain(t).range(e).unknown(n)},Ei.apply(i,arguments)}var rm=new Date,im=new Date;function Mn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return t(a=new Date(+a)),a},i.ceil=function(a){return t(a=new Date(a-1)),e(a,1),t(a),a},i.round=function(a){var s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=function(a,s){return e(a=new Date(+a),s==null?1:Math.floor(s)),a},i.range=function(a,s,o){var l=[],u;if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;do l.push(u=new Date(+a)),e(a,o),t(a);while(u<a&&a<s);return l},i.filter=function(a){return Mn(function(s){if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},function(s,o){if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););})},n&&(i.count=function(a,s){return rm.setTime(+a),im.setTime(+s),t(rm),t(im),Math.floor(n(rm,im))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(s){return r(s)%a===0}:function(s){return i.count(0,s)%a===0}):i}),i}var E0=Mn(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});E0.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mn(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):E0};const C0=E0;var Mk=E0.range,S0=1e3,yo=6e4,A0=36e5,vR=864e5,_R=6048e5,xR=Mn(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*S0)},function(t,e){return(e-t)/S0},function(t){return t.getUTCSeconds()});const M0=xR;var Lk=xR.range,wR=Mn(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*S0)},function(t,e){t.setTime(+t+e*yo)},function(t,e){return(e-t)/yo},function(t){return t.getMinutes()});const kR=wR;var yit=wR.range,TR=Mn(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*S0-t.getMinutes()*yo)},function(t,e){t.setTime(+t+e*A0)},function(t,e){return(e-t)/A0},function(t){return t.getHours()});const ER=TR;var mit=TR.range,CR=Mn(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yo)/vR},function(t){return t.getDate()-1});const Kd=CR;var bit=CR.range;function Bo(t){return Mn(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*yo)/_R})}var $u=Bo(0),qu=Bo(1),SR=Bo(2),AR=Bo(3),mo=Bo(4),MR=Bo(5),LR=Bo(6),Rk=$u.range,vit=qu.range,_it=SR.range,xit=AR.range,wit=mo.range,kit=MR.range,Tit=LR.range,RR=Mn(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});const NR=RR;var Eit=RR.range,X4=Mn(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});X4.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};const bo=X4;var Cit=X4.range,IR=Mn(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*yo)},function(t,e){return(e-t)/yo},function(t){return t.getUTCMinutes()});const BR=IR;var Sit=IR.range,DR=Mn(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*A0)},function(t,e){return(e-t)/A0},function(t){return t.getUTCHours()});const OR=DR;var Ait=DR.range,FR=Mn(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/vR},function(t){return t.getUTCDate()-1});const Zd=FR;var Mit=FR.range;function Do(t){return Mn(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/_R})}var Vu=Do(0),Yu=Do(1),PR=Do(2),$R=Do(3),vo=Do(4),qR=Do(5),VR=Do(6),Nk=Vu.range,Lit=Yu.range,Rit=PR.range,Nit=$R.range,Iit=vo.range,Bit=qR.range,Dit=VR.range,YR=Mn(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});const zR=YR;var Oit=YR.range,K4=Mn(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});K4.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};const _o=K4;var Fit=K4.range;function am(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function sm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function bl(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function UR(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,l=t.shortMonths,u=vl(i),h=_l(i),d=vl(a),f=_l(a),p=vl(s),y=_l(s),m=vl(o),b=_l(o),x=vl(l),k=_l(l),T={a:tt,A:ut,b:X,B:z,c:null,d:Pk,e:Pk,f:sat,g:yat,G:bat,H:rat,I:iat,j:aat,L:WR,m:oat,M:cat,p:j,q:ht,Q:Vk,s:Yk,S:lat,u:uat,U:hat,V:fat,w:dat,W:pat,x:null,X:null,y:gat,Y:mat,Z:vat,"%":qk},S={a:it,A:et,b:ft,B:st,c:null,d:$k,e:$k,f:kat,g:Iat,G:Dat,H:_at,I:xat,j:wat,L:GR,m:Tat,M:Eat,p:wt,q:Z,Q:Vk,s:Yk,S:Cat,u:Sat,U:Aat,V:Mat,w:Lat,W:Rat,x:null,X:null,y:Nat,Y:Bat,Z:Oat,"%":qk},L={a:N,A:v,b:E,B:_,c:V,d:Ok,e:Ok,f:Jit,g:Dk,G:Bk,H:Fk,I:Fk,j:Xit,L:Qit,m:jit,M:Kit,p:C,q:Git,Q:eat,s:nat,S:Zit,u:Yit,U:zit,V:Uit,w:Vit,W:Wit,x:B,X:G,y:Dk,Y:Bk,Z:Hit,"%":tat};T.x=R(n,T),T.X=R(r,T),T.c=R(e,T),S.x=R(n,S),S.X=R(r,S),S.c=R(e,S);function R(F,H){return function(q){var D=[],$=-1,U=0,P=F.length,K,ct,Dt;for(q instanceof Date||(q=new Date(+q));++$<P;)F.charCodeAt($)===37&&(D.push(F.slice(U,$)),(ct=Ik[K=F.charAt(++$)])!=null?K=F.charAt(++$):ct=K==="e"?" ":"0",(Dt=H[K])&&(K=Dt(q,ct)),D.push(K),U=$+1);return D.push(F.slice(U,$)),D.join("")}}function A(F,H){return function(q){var D=bl(1900,void 0,1),$=I(D,F,q+="",0),U,P;if($!=q.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(H&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(U=sm(bl(D.y,0,1)),P=U.getUTCDay(),U=P>4||P===0?Yu.ceil(U):Yu(U),U=Zd.offset(U,(D.V-1)*7),D.y=U.getUTCFullYear(),D.m=U.getUTCMonth(),D.d=U.getUTCDate()+(D.w+6)%7):(U=am(bl(D.y,0,1)),P=U.getDay(),U=P>4||P===0?qu.ceil(U):qu(U),U=Kd.offset(U,(D.V-1)*7),D.y=U.getFullYear(),D.m=U.getMonth(),D.d=U.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),P="Z"in D?sm(bl(D.y,0,1)).getUTCDay():am(bl(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(P+5)%7:D.w+D.U*7-(P+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,sm(D)):am(D)}}function I(F,H,q,D){for(var $=0,U=H.length,P=q.length,K,ct;$<U;){if(D>=P)return-1;if(K=H.charCodeAt($++),K===37){if(K=H.charAt($++),ct=L[K in Ik?H.charAt($++):K],!ct||(D=ct(F,q,D))<0)return-1}else if(K!=q.charCodeAt(D++))return-1}return D}function C(F,H,q){var D=u.exec(H.slice(q));return D?(F.p=h[D[0].toLowerCase()],q+D[0].length):-1}function N(F,H,q){var D=p.exec(H.slice(q));return D?(F.w=y[D[0].toLowerCase()],q+D[0].length):-1}function v(F,H,q){var D=d.exec(H.slice(q));return D?(F.w=f[D[0].toLowerCase()],q+D[0].length):-1}function E(F,H,q){var D=x.exec(H.slice(q));return D?(F.m=k[D[0].toLowerCase()],q+D[0].length):-1}function _(F,H,q){var D=m.exec(H.slice(q));return D?(F.m=b[D[0].toLowerCase()],q+D[0].length):-1}function V(F,H,q){return I(F,e,H,q)}function B(F,H,q){return I(F,n,H,q)}function G(F,H,q){return I(F,r,H,q)}function tt(F){return s[F.getDay()]}function ut(F){return a[F.getDay()]}function X(F){return l[F.getMonth()]}function z(F){return o[F.getMonth()]}function j(F){return i[+(F.getHours()>=12)]}function ht(F){return 1+~~(F.getMonth()/3)}function it(F){return s[F.getUTCDay()]}function et(F){return a[F.getUTCDay()]}function ft(F){return l[F.getUTCMonth()]}function st(F){return o[F.getUTCMonth()]}function wt(F){return i[+(F.getUTCHours()>=12)]}function Z(F){return 1+~~(F.getUTCMonth()/3)}return{format:function(F){var H=R(F+="",T);return H.toString=function(){return F},H},parse:function(F){var H=A(F+="",!1);return H.toString=function(){return F},H},utcFormat:function(F){var H=R(F+="",S);return H.toString=function(){return F},H},utcParse:function(F){var H=A(F+="",!0);return H.toString=function(){return F},H}}}var Ik={"-":"",_:" ",0:"0"},On=/^\s*\d+/,Pit=/^%/,$it=/[\\^$*+?|[\]().{}]/g;function ze(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function qit(t){return t.replace($it,"\\$&")}function vl(t){return new RegExp("^(?:"+t.map(qit).join("|")+")","i")}function _l(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Vit(t,e,n){var r=On.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Yit(t,e,n){var r=On.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function zit(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Uit(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Wit(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Bk(t,e,n){var r=On.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Dk(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Hit(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Git(t,e,n){var r=On.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function jit(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ok(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Xit(t,e,n){var r=On.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Fk(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Kit(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Zit(t,e,n){var r=On.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Qit(t,e,n){var r=On.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Jit(t,e,n){var r=On.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tat(t,e,n){var r=Pit.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function eat(t,e,n){var r=On.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function nat(t,e,n){var r=On.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Pk(t,e){return ze(t.getDate(),e,2)}function rat(t,e){return ze(t.getHours(),e,2)}function iat(t,e){return ze(t.getHours()%12||12,e,2)}function aat(t,e){return ze(1+Kd.count(bo(t),t),e,3)}function WR(t,e){return ze(t.getMilliseconds(),e,3)}function sat(t,e){return WR(t,e)+"000"}function oat(t,e){return ze(t.getMonth()+1,e,2)}function cat(t,e){return ze(t.getMinutes(),e,2)}function lat(t,e){return ze(t.getSeconds(),e,2)}function uat(t){var e=t.getDay();return e===0?7:e}function hat(t,e){return ze($u.count(bo(t)-1,t),e,2)}function HR(t){var e=t.getDay();return e>=4||e===0?mo(t):mo.ceil(t)}function fat(t,e){return t=HR(t),ze(mo.count(bo(t),t)+(bo(t).getDay()===4),e,2)}function dat(t){return t.getDay()}function pat(t,e){return ze(qu.count(bo(t)-1,t),e,2)}function gat(t,e){return ze(t.getFullYear()%100,e,2)}function yat(t,e){return t=HR(t),ze(t.getFullYear()%100,e,2)}function mat(t,e){return ze(t.getFullYear()%1e4,e,4)}function bat(t,e){var n=t.getDay();return t=n>=4||n===0?mo(t):mo.ceil(t),ze(t.getFullYear()%1e4,e,4)}function vat(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ze(e/60|0,"0",2)+ze(e%60,"0",2)}function $k(t,e){return ze(t.getUTCDate(),e,2)}function _at(t,e){return ze(t.getUTCHours(),e,2)}function xat(t,e){return ze(t.getUTCHours()%12||12,e,2)}function wat(t,e){return ze(1+Zd.count(_o(t),t),e,3)}function GR(t,e){return ze(t.getUTCMilliseconds(),e,3)}function kat(t,e){return GR(t,e)+"000"}function Tat(t,e){return ze(t.getUTCMonth()+1,e,2)}function Eat(t,e){return ze(t.getUTCMinutes(),e,2)}function Cat(t,e){return ze(t.getUTCSeconds(),e,2)}function Sat(t){var e=t.getUTCDay();return e===0?7:e}function Aat(t,e){return ze(Vu.count(_o(t)-1,t),e,2)}function jR(t){var e=t.getUTCDay();return e>=4||e===0?vo(t):vo.ceil(t)}function Mat(t,e){return t=jR(t),ze(vo.count(_o(t),t)+(_o(t).getUTCDay()===4),e,2)}function Lat(t){return t.getUTCDay()}function Rat(t,e){return ze(Yu.count(_o(t)-1,t),e,2)}function Nat(t,e){return ze(t.getUTCFullYear()%100,e,2)}function Iat(t,e){return t=jR(t),ze(t.getUTCFullYear()%100,e,2)}function Bat(t,e){return ze(t.getUTCFullYear()%1e4,e,4)}function Dat(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vo(t):vo.ceil(t),ze(t.getUTCFullYear()%1e4,e,4)}function Oat(){return"+0000"}function qk(){return"%"}function Vk(t){return+t}function Yk(t){return Math.floor(+t/1e3)}var jo,Z4,XR,Qd,Q4;KR({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KR(t){return jo=UR(t),Z4=jo.format,XR=jo.parse,Qd=jo.utcFormat,Q4=jo.utcParse,jo}var ZR="%Y-%m-%dT%H:%M:%S.%LZ";function Fat(t){return t.toISOString()}var Pat=Date.prototype.toISOString?Fat:Qd(ZR);const $at=Pat;function qat(t){var e=new Date(t);return isNaN(e)?null:e}var Vat=+new Date("2000-01-01T00:00:00.000Z")?qat:Q4(ZR);const Yat=Vat;var Hl=1e3,Gl=Hl*60,jl=Gl*60,zu=jl*24,zat=zu*7,zk=zu*30,om=zu*365;function Uat(t){return new Date(t)}function Wat(t){return t instanceof Date?+t:+new Date(+t)}function J4(t,e,n,r,i,a,s,o,l){var u=lR(qn,qn),h=u.invert,d=u.domain,f=l(".%L"),p=l(":%S"),y=l("%I:%M"),m=l("%I %p"),b=l("%a %d"),x=l("%b %d"),k=l("%B"),T=l("%Y"),S=[[s,1,Hl],[s,5,5*Hl],[s,15,15*Hl],[s,30,30*Hl],[a,1,Gl],[a,5,5*Gl],[a,15,15*Gl],[a,30,30*Gl],[i,1,jl],[i,3,3*jl],[i,6,6*jl],[i,12,12*jl],[r,1,zu],[r,2,2*zu],[n,1,zat],[e,1,zk],[e,3,3*zk],[t,1,om]];function L(A){return(s(A)<A?f:a(A)<A?p:i(A)<A?y:r(A)<A?m:e(A)<A?n(A)<A?b:x:t(A)<A?k:T)(A)}function R(A,I,C,N){if(A==null&&(A=10),typeof A=="number"){var v=Math.abs(C-I)/A,E=J_(function(_){return _[2]}).right(S,v);E===S.length?(N=co(I/om,C/om,A),A=t):E?(E=S[v/S[E-1][2]<S[E][2]/v?E-1:E],N=E[1],A=E[0]):(N=Math.max(co(I,C,A),1),A=o)}return N==null?A:A.every(N)}return u.invert=function(A){return new Date(h(A))},u.domain=function(A){return arguments.length?d(T0.call(A,Wat)):d().map(Uat)},u.ticks=function(A,I){var C=d(),N=C[0],v=C[C.length-1],E=v<N,_;return E&&(_=N,N=v,v=_),_=R(A,N,v,I),_=_?_.range(N,v+1):[],E?_.reverse():_},u.tickFormat=function(A,I){return I==null?L:l(I)},u.nice=function(A,I){var C=d();return(A=R(A,C[0],C[C.length-1],I))?d(dR(C,A)):u},u.copy=function(){return wh(u,J4(t,e,n,r,i,a,s,o,l))},u}function Hat(){return Ei.apply(J4(bo,NR,$u,Kd,ER,kR,M0,C0,Z4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Gat(){return Ei.apply(J4(_o,zR,Vu,Zd,OR,BR,M0,C0,Qd).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jd(){var t=0,e=1,n,r,i,a,s=qn,o=!1,l;function u(h){return isNaN(h=+h)?l:s(i===0?.5:(h=(a(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}return u.domain=function(h){return arguments.length?(n=a(t=+h[0]),r=a(e=+h[1]),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(s=h,u):s},u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function Ls(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function QR(){var t=Io(Jd()(qn));return t.copy=function(){return Ls(t,QR())},Ua.apply(t,arguments)}function JR(){var t=W4(Jd()).domain([1,10]);return t.copy=function(){return Ls(t,JR()).base(t.base())},Ua.apply(t,arguments)}function tN(){var t=H4(Jd());return t.copy=function(){return Ls(t,tN()).constant(t.constant())},Ua.apply(t,arguments)}function t5(){var t=G4(Jd());return t.copy=function(){return Ls(t,t5()).exponent(t.exponent())},Ua.apply(t,arguments)}function jat(){return t5.apply(null,arguments).exponent(.5)}function eN(){var t=[],e=qn;function n(r){if(!isNaN(r=+r))return e((ys(t,r)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(var i=0,a=r.length,s;i<a;++i)s=r[i],s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Cs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return eN(e).domain(t)},Ua.apply(n,arguments)}function t2(){var t=0,e=.5,n=1,r,i,a,s,o,l=qn,u,h=!1,d;function f(p){return isNaN(p=+p)?d:(p=.5+((p=+u(p))-i)*(p<i?s:o),l(h?Math.max(0,Math.min(1,p)):p))}return f.domain=function(p){return arguments.length?(r=u(t=+p[0]),i=u(e=+p[1]),a=u(n=+p[2]),s=r===i?0:.5/(i-r),o=i===a?0:.5/(a-i),f):[t,e,n]},f.clamp=function(p){return arguments.length?(h=!!p,f):h},f.interpolator=function(p){return arguments.length?(l=p,f):l},f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return u=p,r=p(t),i=p(e),a=p(n),s=r===i?0:.5/(i-r),o=i===a?0:.5/(a-i),f}}function nN(){var t=Io(t2()(qn));return t.copy=function(){return Ls(t,nN())},Ua.apply(t,arguments)}function rN(){var t=W4(t2()).domain([.1,1,10]);return t.copy=function(){return Ls(t,rN()).base(t.base())},Ua.apply(t,arguments)}function iN(){var t=H4(t2());return t.copy=function(){return Ls(t,iN()).constant(t.constant())},Ua.apply(t,arguments)}function e5(){var t=G4(t2());return t.copy=function(){return Ls(t,e5()).exponent(t.exponent())},Ua.apply(t,arguments)}function Xat(){return e5.apply(null,arguments).exponent(.5)}function Se(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const Kat=Se("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Zat=Se("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Qat=Se("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Jat=Se("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),tst=Se("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),est=Se("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),nst=Se("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),rst=Se("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),ist=Se("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),ast=Se("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Ke(t){return CM(t[t.length-1])}var aN=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Se);const sst=Ke(aN);var sN=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Se);const ost=Ke(sN);var oN=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Se);const cst=Ke(oN);var cN=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Se);const lst=Ke(cN);var lN=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Se);const ust=Ke(lN);var uN=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Se);const hst=Ke(uN);var hN=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Se);const fst=Ke(hN);var fN=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Se);const dst=Ke(fN);var dN=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Se);const pst=Ke(dN);var pN=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Se);const gst=Ke(pN);var gN=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Se);const yst=Ke(gN);var yN=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Se);const mst=Ke(yN);var mN=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Se);const bst=Ke(mN);var bN=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Se);const vst=Ke(bN);var vN=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Se);const _st=Ke(vN);var _N=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Se);const xst=Ke(_N);var xN=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Se);const wst=Ke(xN);var wN=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Se);const kst=Ke(wN);var kN=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Se);const Tst=Ke(kN);var TN=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Se);const Est=Ke(TN);var EN=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Se);const Cst=Ke(EN);var CN=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Se);const Sst=Ke(CN);var SN=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Se);const Ast=Ke(SN);var AN=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Se);const Mst=Ke(AN);var MN=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Se);const Lst=Ke(MN);var LN=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Se);const Rst=Ke(LN);var RN=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Se);const Nst=Ke(RN);function Ist(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const Bst=Fd(vi(300,.5,0),vi(-240,.5,1));var Dst=Fd(vi(-100,.75,.35),vi(80,1.5,.8)),Ost=Fd(vi(260,.75,.35),vi(80,1.5,.8)),vf=vi();function Fst(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return vf.h=360*t-100,vf.s=1.5-1.5*e,vf.l=.8-.9*e,vf+""}var _f=Cc(),Pst=Math.PI/3,$st=Math.PI*2/3;function qst(t){var e;return t=(.5-t)*Math.PI,_f.r=255*(e=Math.sin(t))*e,_f.g=255*(e=Math.sin(t+Pst))*e,_f.b=255*(e=Math.sin(t+$st))*e,_f+""}function Vst(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function e2(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Yst=e2(Se("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var zst=e2(Se("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ust=e2(Se("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Wst=e2(Se("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ne(t){return function(){return t}}var Uk=Math.abs,Un=Math.atan2,Ys=Math.cos,Hst=Math.max,cm=Math.min,Oi=Math.sin,ec=Math.sqrt,Hn=1e-12,_s=Math.PI,L0=_s/2,us=2*_s;function Gst(t){return t>1?0:t<-1?_s:Math.acos(t)}function Wk(t){return t>=1?L0:t<=-1?-L0:Math.asin(t)}function jst(t){return t.innerRadius}function Xst(t){return t.outerRadius}function Kst(t){return t.startAngle}function Zst(t){return t.endAngle}function Qst(t){return t&&t.padAngle}function Jst(t,e,n,r,i,a,s,o){var l=n-t,u=r-e,h=s-i,d=o-a,f=d*l-h*u;if(!(f*f<Hn))return f=(h*(e-a)-d*(t-i))/f,[t+f*l,e+f*u]}function xf(t,e,n,r,i,a,s){var o=t-n,l=e-r,u=(s?a:-a)/ec(o*o+l*l),h=u*l,d=-u*o,f=t+h,p=e+d,y=n+h,m=r+d,b=(f+y)/2,x=(p+m)/2,k=y-f,T=m-p,S=k*k+T*T,L=i-a,R=f*m-y*p,A=(T<0?-1:1)*ec(Hst(0,L*L*S-R*R)),I=(R*T-k*A)/S,C=(-R*k-T*A)/S,N=(R*T+k*A)/S,v=(-R*k+T*A)/S,E=I-b,_=C-x,V=N-b,B=v-x;return E*E+_*_>V*V+B*B&&(I=N,C=v),{cx:I,cy:C,x01:-h,y01:-d,x11:I*(i/L-1),y11:C*(i/L-1)}}function tot(){var t=jst,e=Xst,n=Ne(0),r=null,i=Kst,a=Zst,s=Qst,o=null;function l(){var u,h,d=+t.apply(this,arguments),f=+e.apply(this,arguments),p=i.apply(this,arguments)-L0,y=a.apply(this,arguments)-L0,m=Uk(y-p),b=y>p;if(o||(o=u=As()),f<d&&(h=f,f=d,d=h),!(f>Hn))o.moveTo(0,0);else if(m>us-Hn)o.moveTo(f*Ys(p),f*Oi(p)),o.arc(0,0,f,p,y,!b),d>Hn&&(o.moveTo(d*Ys(y),d*Oi(y)),o.arc(0,0,d,y,p,b));else{var x=p,k=y,T=p,S=y,L=m,R=m,A=s.apply(this,arguments)/2,I=A>Hn&&(r?+r.apply(this,arguments):ec(d*d+f*f)),C=cm(Uk(f-d)/2,+n.apply(this,arguments)),N=C,v=C,E,_;if(I>Hn){var V=Wk(I/d*Oi(A)),B=Wk(I/f*Oi(A));(L-=V*2)>Hn?(V*=b?1:-1,T+=V,S-=V):(L=0,T=S=(p+y)/2),(R-=B*2)>Hn?(B*=b?1:-1,x+=B,k-=B):(R=0,x=k=(p+y)/2)}var G=f*Ys(x),tt=f*Oi(x),ut=d*Ys(S),X=d*Oi(S);if(C>Hn){var z=f*Ys(k),j=f*Oi(k),ht=d*Ys(T),it=d*Oi(T),et;if(m<_s&&(et=Jst(G,tt,ht,it,z,j,ut,X))){var ft=G-et[0],st=tt-et[1],wt=z-et[0],Z=j-et[1],F=1/Oi(Gst((ft*wt+st*Z)/(ec(ft*ft+st*st)*ec(wt*wt+Z*Z)))/2),H=ec(et[0]*et[0]+et[1]*et[1]);N=cm(C,(d-H)/(F-1)),v=cm(C,(f-H)/(F+1))}}R>Hn?v>Hn?(E=xf(ht,it,G,tt,f,v,b),_=xf(z,j,ut,X,f,v,b),o.moveTo(E.cx+E.x01,E.cy+E.y01),v<C?o.arc(E.cx,E.cy,v,Un(E.y01,E.x01),Un(_.y01,_.x01),!b):(o.arc(E.cx,E.cy,v,Un(E.y01,E.x01),Un(E.y11,E.x11),!b),o.arc(0,0,f,Un(E.cy+E.y11,E.cx+E.x11),Un(_.cy+_.y11,_.cx+_.x11),!b),o.arc(_.cx,_.cy,v,Un(_.y11,_.x11),Un(_.y01,_.x01),!b))):(o.moveTo(G,tt),o.arc(0,0,f,x,k,!b)):o.moveTo(G,tt),!(d>Hn)||!(L>Hn)?o.lineTo(ut,X):N>Hn?(E=xf(ut,X,z,j,d,-N,b),_=xf(G,tt,ht,it,d,-N,b),o.lineTo(E.cx+E.x01,E.cy+E.y01),N<C?o.arc(E.cx,E.cy,N,Un(E.y01,E.x01),Un(_.y01,_.x01),!b):(o.arc(E.cx,E.cy,N,Un(E.y01,E.x01),Un(E.y11,E.x11),!b),o.arc(0,0,d,Un(E.cy+E.y11,E.cx+E.x11),Un(_.cy+_.y11,_.cx+_.x11),b),o.arc(_.cx,_.cy,N,Un(_.y11,_.x11),Un(_.y01,_.x01),!b))):o.arc(0,0,d,S,T,b)}if(o.closePath(),u)return o=null,u+""||null}return l.centroid=function(){var u=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-_s/2;return[Ys(h)*u,Oi(h)*u]},l.innerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Ne(+u),l):t},l.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Ne(+u),l):e},l.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Ne(+u),l):n},l.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Ne(+u),l):r},l.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Ne(+u),l):i},l.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:Ne(+u),l):a},l.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Ne(+u),l):s},l.context=function(u){return arguments.length?(o=u==null?null:u,l):o},l}function NN(t){this._context=t}NN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function n2(t){return new NN(t)}function n5(t){return t[0]}function r5(t){return t[1]}function i5(){var t=n5,e=r5,n=Ne(!0),r=null,i=n2,a=null;function s(o){var l,u=o.length,h,d=!1,f;for(r==null&&(a=i(f=As())),l=0;l<=u;++l)!(l<u&&n(h=o[l],l,o))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(h,l,o),+e(h,l,o));if(f)return a=null,f+""||null}return s.x=function(o){return arguments.length?(t=typeof o=="function"?o:Ne(+o),s):t},s.y=function(o){return arguments.length?(e=typeof o=="function"?o:Ne(+o),s):e},s.defined=function(o){return arguments.length?(n=typeof o=="function"?o:Ne(!!o),s):n},s.curve=function(o){return arguments.length?(i=o,r!=null&&(a=i(r)),s):i},s.context=function(o){return arguments.length?(o==null?r=a=null:a=i(r=o),s):r},s}function IN(){var t=n5,e=null,n=Ne(0),r=r5,i=Ne(!0),a=null,s=n2,o=null;function l(h){var d,f,p,y=h.length,m,b=!1,x,k=new Array(y),T=new Array(y);for(a==null&&(o=s(x=As())),d=0;d<=y;++d){if(!(d<y&&i(m=h[d],d,h))===b)if(b=!b)f=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=d-1;p>=f;--p)o.point(k[p],T[p]);o.lineEnd(),o.areaEnd()}b&&(k[d]=+t(m,d,h),T[d]=+n(m,d,h),o.point(e?+e(m,d,h):k[d],r?+r(m,d,h):T[d]))}if(x)return o=null,x+""||null}function u(){return i5().defined(i).curve(s).context(a)}return l.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ne(+h),e=null,l):t},l.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ne(+h),l):t},l.x1=function(h){return arguments.length?(e=h==null?null:typeof h=="function"?h:Ne(+h),l):e},l.y=function(h){return arguments.length?(n=typeof h=="function"?h:Ne(+h),r=null,l):n},l.y0=function(h){return arguments.length?(n=typeof h=="function"?h:Ne(+h),l):n},l.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ne(+h),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(n)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(e).y(n)},l.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ne(!!h),l):i},l.curve=function(h){return arguments.length?(s=h,a!=null&&(o=s(a)),l):s},l.context=function(h){return arguments.length?(h==null?a=o=null:o=s(a=h),l):a},l}function eot(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function not(t){return t}function rot(){var t=not,e=eot,n=null,r=Ne(0),i=Ne(us),a=Ne(0);function s(o){var l,u=o.length,h,d,f=0,p=new Array(u),y=new Array(u),m=+r.apply(this,arguments),b=Math.min(us,Math.max(-us,i.apply(this,arguments)-m)),x,k=Math.min(Math.abs(b)/u,a.apply(this,arguments)),T=k*(b<0?-1:1),S;for(l=0;l<u;++l)(S=y[p[l]=l]=+t(o[l],l,o))>0&&(f+=S);for(e!=null?p.sort(function(L,R){return e(y[L],y[R])}):n!=null&&p.sort(function(L,R){return n(o[L],o[R])}),l=0,d=f?(b-u*T)/f:0;l<u;++l,m=x)h=p[l],S=y[h],x=m+(S>0?S*d:0)+T,y[h]={data:o[h],index:l,value:S,startAngle:m,endAngle:x,padAngle:k};return y}return s.value=function(o){return arguments.length?(t=typeof o=="function"?o:Ne(+o),s):t},s.sortValues=function(o){return arguments.length?(e=o,n=null,s):e},s.sort=function(o){return arguments.length?(n=o,e=null,s):n},s.startAngle=function(o){return arguments.length?(r=typeof o=="function"?o:Ne(+o),s):r},s.endAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Ne(+o),s):i},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Ne(+o),s):a},s}var BN=a5(n2);function DN(t){this._curve=t}DN.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};function a5(t){function e(n){return new DN(t(n))}return e._curve=t,e}function Xl(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(n){return arguments.length?e(a5(n)):e()._curve},t}function Hk(){return Xl(i5().curve(BN))}function Gk(){var t=IN().curve(BN),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Xl(n())},delete t.lineX0,t.lineEndAngle=function(){return Xl(r())},delete t.lineX1,t.lineInnerRadius=function(){return Xl(i())},delete t.lineY0,t.lineOuterRadius=function(){return Xl(a())},delete t.lineY1,t.curve=function(s){return arguments.length?e(a5(s)):e()._curve},t}function Kl(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var Pv=Array.prototype.slice;function iot(t){return t.source}function aot(t){return t.target}function s5(t){var e=iot,n=aot,r=n5,i=r5,a=null;function s(){var o,l=Pv.call(arguments),u=e.apply(this,l),h=n.apply(this,l);if(a||(a=o=As()),t(a,+r.apply(this,(l[0]=u,l)),+i.apply(this,l),+r.apply(this,(l[0]=h,l)),+i.apply(this,l)),o)return a=null,o+""||null}return s.source=function(o){return arguments.length?(e=o,s):e},s.target=function(o){return arguments.length?(n=o,s):n},s.x=function(o){return arguments.length?(r=typeof o=="function"?o:Ne(+o),s):r},s.y=function(o){return arguments.length?(i=typeof o=="function"?o:Ne(+o),s):i},s.context=function(o){return arguments.length?(a=o==null?null:o,s):a},s}function sot(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function oot(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function cot(t,e,n,r,i){var a=Kl(e,n),s=Kl(e,n=(n+i)/2),o=Kl(r,n),l=Kl(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(s[0],s[1],o[0],o[1],l[0],l[1])}function lot(){return s5(sot)}function uot(){return s5(oot)}function hot(){var t=s5(cot);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const o5={draw:function(t,e){var n=Math.sqrt(e/_s);t.moveTo(n,0),t.arc(0,0,n,0,us)}},ON={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var FN=Math.sqrt(1/3),fot=FN*2;const PN={draw:function(t,e){var n=Math.sqrt(e/fot),r=n*FN;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var dot=.8908130915292852,$N=Math.sin(_s/10)/Math.sin(7*_s/10),pot=Math.sin(us/10)*$N,got=-Math.cos(us/10)*$N;const qN={draw:function(t,e){var n=Math.sqrt(e*dot),r=pot*n,i=got*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var s=us*a/5,o=Math.cos(s),l=Math.sin(s);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},VN={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var lm=Math.sqrt(3);const YN={draw:function(t,e){var n=-Math.sqrt(e/(lm*3));t.moveTo(0,n*2),t.lineTo(-lm*n,-n),t.lineTo(lm*n,-n),t.closePath()}};var Pr=-.5,$r=Math.sqrt(3)/2,$v=1/Math.sqrt(12),yot=($v/2+1)*3;const zN={draw:function(t,e){var n=Math.sqrt(e/yot),r=n/2,i=n*$v,a=r,s=n*$v+n,o=-a,l=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,l),t.lineTo(Pr*r-$r*i,$r*r+Pr*i),t.lineTo(Pr*a-$r*s,$r*a+Pr*s),t.lineTo(Pr*o-$r*l,$r*o+Pr*l),t.lineTo(Pr*r+$r*i,Pr*i-$r*r),t.lineTo(Pr*a+$r*s,Pr*s-$r*a),t.lineTo(Pr*o+$r*l,Pr*l-$r*o),t.closePath()}};var mot=[o5,ON,PN,VN,qN,YN,zN];function bot(){var t=Ne(o5),e=Ne(64),n=null;function r(){var i;if(n||(n=i=As()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return r.type=function(i){return arguments.length?(t=typeof i=="function"?i:Ne(i),r):t},r.size=function(i){return arguments.length?(e=typeof i=="function"?i:Ne(+i),r):e},r.context=function(i){return arguments.length?(n=i==null?null:i,r):n},r}function xs(){}function R0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function r2(t){this._context=t}r2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:R0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:R0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vot(t){return new r2(t)}function UN(t){this._context=t}UN.prototype={areaStart:xs,areaEnd:xs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:R0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _ot(t){return new UN(t)}function WN(t){this._context=t}WN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:R0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xot(t){return new WN(t)}function HN(t,e){this._basis=new r2(t),this._beta=e}HN.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,s=e[n]-i,o=-1,l;++o<=n;)l=o/n,this._basis.point(this._beta*t[o]+(1-this._beta)*(r+l*a),this._beta*e[o]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const wot=function t(e){function n(r){return e===1?new r2(r):new HN(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function N0(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function c5(t,e){this._context=t,this._k=(1-e)/6}c5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:N0(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:N0(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const kot=function t(e){function n(r){return new c5(r,e)}return n.tension=function(r){return t(+r)},n}(0);function l5(t,e){this._context=t,this._k=(1-e)/6}l5.prototype={areaStart:xs,areaEnd:xs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:N0(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Tot=function t(e){function n(r){return new l5(r,e)}return n.tension=function(r){return t(+r)},n}(0);function u5(t,e){this._context=t,this._k=(1-e)/6}u5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:N0(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Eot=function t(e){function n(r){return new u5(r,e)}return n.tension=function(r){return t(+r)},n}(0);function h5(t,e,n){var r=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>Hn){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Hn){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/h,s=(s*u+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,a,s,t._x2,t._y2)}function GN(t,e){this._context=t,this._alpha=e}GN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:h5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Cot=function t(e){function n(r){return e?new GN(r,e):new c5(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function jN(t,e){this._context=t,this._alpha=e}jN.prototype={areaStart:xs,areaEnd:xs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:h5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Sot=function t(e){function n(r){return e?new jN(r,e):new l5(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function XN(t,e){this._context=t,this._alpha=e}XN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:h5(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Aot=function t(e){function n(r){return e?new XN(r,e):new u5(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function KN(t){this._context=t}KN.prototype={areaStart:xs,areaEnd:xs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Mot(t){return new KN(t)}function jk(t){return t<0?-1:1}function Xk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(jk(a)+jk(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Kk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function um(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function I0(t){this._context=t}I0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:um(this,this._t0,Kk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,um(this,Kk(this,n=Xk(this,t,e)),n);break;default:um(this,this._t0,n=Xk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ZN(t){this._context=new QN(t)}(ZN.prototype=Object.create(I0.prototype)).point=function(t,e){I0.prototype.point.call(this,e,t)};function QN(t){this._context=t}QN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Lot(t){return new I0(t)}function Rot(t){return new ZN(t)}function JN(t){this._context=t}JN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Zk(t),i=Zk(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Zk(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Not(t){return new JN(t)}function i2(t,e){this._context=t,this._t=e}i2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Iot(t){return new i2(t,.5)}function Bot(t){return new i2(t,0)}function Dot(t){return new i2(t,1)}function Bc(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Dc(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Oot(t,e){return t[e]}function Fot(){var t=Ne([]),e=Dc,n=Bc,r=Oot;function i(a){var s=t.apply(this,arguments),o,l=a.length,u=s.length,h=new Array(u),d;for(o=0;o<u;++o){for(var f=s[o],p=h[o]=new Array(l),y=0,m;y<l;++y)p[y]=m=[0,+r(a[y],f,y,a)],m.data=a[y];p.key=f}for(o=0,d=e(h);o<u;++o)h[d[o]].index=o;return n(h,d),h}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ne(Pv.call(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ne(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?Dc:typeof a=="function"?a:Ne(Pv.call(a)),i):e},i.offset=function(a){return arguments.length?(n=a==null?Bc:a,i):n},i}function Pot(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Bc(t,e)}}function $ot(t,e){if((l=t.length)>0)for(var n,r=0,i,a,s,o,l,u=t[e[0]].length;r<u;++r)for(s=o=0,n=0;n<l;++n)(a=(i=t[e[n]][r])[1]-i[0])>0?(i[0]=s,i[1]=s+=a):a<0?(i[1]=o,i[0]=o+=a):(i[0]=0,i[1]=a)}function qot(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Bc(t,e)}}function Vot(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var h=t[e[o]],d=h[r][1]||0,f=h[r-1][1]||0,p=(d-f)/2,y=0;y<o;++y){var m=t[e[y]],b=m[r][1]||0,x=m[r-1][1]||0;p+=b-x}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Bc(t,e)}}function tI(t){var e=t.map(Yot);return Dc(t).sort(function(n,r){return e[n]-e[r]})}function Yot(t){for(var e=-1,n=0,r=t.length,i,a=-1/0;++e<r;)(i=+t[e][1])>a&&(a=i,n=e);return n}function eI(t){var e=t.map(nI);return Dc(t).sort(function(n,r){return e[n]-e[r]})}function nI(t){for(var e=0,n=-1,r=t.length,i;++n<r;)(i=+t[n][1])&&(e+=i);return e}function zot(t){return eI(t).reverse()}function Uot(t){var e=t.length,n,r,i=t.map(nI),a=tI(t),s=0,o=0,l=[],u=[];for(n=0;n<e;++n)r=a[n],s<o?(s+=i[r],l.push(r)):(o+=i[r],u.push(r));return u.reverse().concat(l)}function Wot(t){return Dc(t).reverse()}function Qk(t){return function(){return t}}function Hot(t){return t[0]}function Got(t){return t[1]}function B0(){this._=null}function a2(t){t.U=t.C=t.L=t.R=t.P=t.N=null}B0.prototype={constructor:B0,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Jk(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(xl(this,n),t=n,n=t.U),n.C=!1,r.C=!0,wl(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(wl(this,n),t=n,n=t.U),n.C=!1,r.C=!0,xl(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e=t.U,n,r=t.L,i=t.R,a,s;if(r?i?a=Jk(i):a=r:a=i,e?e.L===t?e.L=a:e.R=a:this._=a,r&&i?(s=a.C,a.C=t.C,a.L=r,r.U=a,a!==i?(e=a.U,a.U=t.U,t=a.R,e.L=t,a.R=i,i.U=a):(a.U=e,e=a,t=a.R)):(s=t.C,t=a),t&&(t.U=e),!s){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===e.L){if(n=e.R,n.C&&(n.C=!1,e.C=!0,xl(this,e),n=e.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,wl(this,n),n=e.R),n.C=e.C,e.C=n.R.C=!1,xl(this,e),t=this._;break}}else if(n=e.L,n.C&&(n.C=!1,e.C=!0,wl(this,e),n=e.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,xl(this,n),n=e.L),n.C=e.C,e.C=n.L.C=!1,wl(this,e),t=this._;break}n.C=!0,t=e,e=e.U}while(!t.C);t&&(t.C=!1)}}};function xl(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function wl(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Jk(t){for(;t.L;)t=t.L;return t}function Zl(t,e,n,r){var i=[null,null],a=Xn.push(i)-1;return i.left=t,i.right=e,n&&D0(i,t,e,n),r&&D0(i,e,t,r),Br[t.index].halfedges.push(a),Br[e.index].halfedges.push(a),i}function kl(t,e,n){var r=[e,n];return r.left=t,r}function D0(t,e,n,r){!t[0]&&!t[1]?(t[0]=r,t.left=e,t.right=n):t.left===n?t[1]=r:t[0]=r}function jot(t,e,n,r,i){var a=t[0],s=t[1],o=a[0],l=a[1],u=s[0],h=s[1],d=0,f=1,p=u-o,y=h-l,m;if(m=e-o,!(!p&&m>0)){if(m/=p,p<0){if(m<d)return;m<f&&(f=m)}else if(p>0){if(m>f)return;m>d&&(d=m)}if(m=r-o,!(!p&&m<0)){if(m/=p,p<0){if(m>f)return;m>d&&(d=m)}else if(p>0){if(m<d)return;m<f&&(f=m)}if(m=n-l,!(!y&&m>0)){if(m/=y,y<0){if(m<d)return;m<f&&(f=m)}else if(y>0){if(m>f)return;m>d&&(d=m)}if(m=i-l,!(!y&&m<0)){if(m/=y,y<0){if(m>f)return;m>d&&(d=m)}else if(y>0){if(m<d)return;m<f&&(f=m)}return!(d>0)&&!(f<1)||(d>0&&(t[0]=[o+d*p,l+d*y]),f<1&&(t[1]=[o+f*p,l+f*y])),!0}}}}}function Xot(t,e,n,r,i){var a=t[1];if(a)return!0;var s=t[0],o=t.left,l=t.right,u=o[0],h=o[1],d=l[0],f=l[1],p=(u+d)/2,y=(h+f)/2,m,b;if(f===h){if(p<e||p>=r)return;if(u>d){if(!s)s=[p,n];else if(s[1]>=i)return;a=[p,i]}else{if(!s)s=[p,i];else if(s[1]<n)return;a=[p,n]}}else if(m=(u-d)/(f-h),b=y-m*p,m<-1||m>1)if(u>d){if(!s)s=[(n-b)/m,n];else if(s[1]>=i)return;a=[(i-b)/m,i]}else{if(!s)s=[(i-b)/m,i];else if(s[1]<n)return;a=[(n-b)/m,n]}else if(h<f){if(!s)s=[e,m*e+b];else if(s[0]>=r)return;a=[r,m*r+b]}else{if(!s)s=[r,m*r+b];else if(s[0]<e)return;a=[e,m*e+b]}return t[0]=s,t[1]=a,!0}function Kot(t,e,n,r){for(var i=Xn.length,a;i--;)(!Xot(a=Xn[i],t,e,n,r)||!jot(a,t,e,n,r)||!(Math.abs(a[0][0]-a[1][0])>je||Math.abs(a[0][1]-a[1][1])>je))&&delete Xn[i]}function Zot(t){return Br[t.index]={site:t,halfedges:[]}}function Qot(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function rI(t,e){return e[+(e.left!==t.site)]}function Jot(t,e){return e[+(e.left===t.site)]}function tct(){for(var t=0,e=Br.length,n,r,i,a;t<e;++t)if((n=Br[t])&&(a=(r=n.halfedges).length)){var s=new Array(a),o=new Array(a);for(i=0;i<a;++i)s[i]=i,o[i]=Qot(n,Xn[r[i]]);for(s.sort(function(l,u){return o[u]-o[l]}),i=0;i<a;++i)o[i]=r[s[i]];for(i=0;i<a;++i)r[i]=o[i]}}function ect(t,e,n,r){var i=Br.length,a,s,o,l,u,h,d,f,p,y,m,b,x=!0;for(a=0;a<i;++a)if(s=Br[a]){for(o=s.site,u=s.halfedges,l=u.length;l--;)Xn[u[l]]||u.splice(l,1);for(l=0,h=u.length;l<h;)y=Jot(s,Xn[u[l]]),m=y[0],b=y[1],d=rI(s,Xn[u[++l%h]]),f=d[0],p=d[1],(Math.abs(m-f)>je||Math.abs(b-p)>je)&&(u.splice(l,0,Xn.push(kl(o,y,Math.abs(m-t)<je&&r-b>je?[t,Math.abs(f-t)<je?p:r]:Math.abs(b-r)<je&&n-m>je?[Math.abs(p-r)<je?f:n,r]:Math.abs(m-n)<je&&b-e>je?[n,Math.abs(f-n)<je?p:e]:Math.abs(b-e)<je&&m-t>je?[Math.abs(p-e)<je?f:t,e]:null))-1),++h);h&&(x=!1)}if(x){var k,T,S,L=1/0;for(a=0,x=null;a<i;++a)(s=Br[a])&&(o=s.site,k=o[0]-t,T=o[1]-e,S=k*k+T*T,S<L&&(L=S,x=s));if(x){var R=[t,e],A=[t,r],I=[n,r],C=[n,e];x.halfedges.push(Xn.push(kl(o=x.site,R,A))-1,Xn.push(kl(o,A,I))-1,Xn.push(kl(o,I,C))-1,Xn.push(kl(o,C,R))-1)}}for(a=0;a<i;++a)(s=Br[a])&&(s.halfedges.length||delete Br[a])}var iI=[],f5;function nct(){a2(this),this.x=this.y=this.arc=this.site=this.cy=null}function nc(t){var e=t.P,n=t.N;if(!(!e||!n)){var r=e.site,i=t.site,a=n.site;if(r!==a){var s=i[0],o=i[1],l=r[0]-s,u=r[1]-o,h=a[0]-s,d=a[1]-o,f=2*(l*d-u*h);if(!(f>=-oct)){var p=l*l+u*u,y=h*h+d*d,m=(d*p-u*y)/f,b=(l*y-h*p)/f,x=iI.pop()||new nct;x.arc=t,x.site=i,x.x=m+s,x.y=(x.cy=b+o)+Math.sqrt(m*m+b*b),t.circle=x;for(var k=null,T=Uu._;T;)if(x.y<T.y||x.y===T.y&&x.x<=T.x)if(T.L)T=T.L;else{k=T.P;break}else if(T.R)T=T.R;else{k=T;break}Uu.insert(k,x),k||(f5=x)}}}}function hc(t){var e=t.circle;e&&(e.P||(f5=e.N),Uu.remove(e),iI.push(e),a2(e),t.circle=null)}var aI=[];function rct(){a2(this),this.edge=this.site=this.circle=null}function t9(t){var e=aI.pop()||new rct;return e.site=t,e}function hm(t){hc(t),fc.remove(t),aI.push(t),a2(t)}function ict(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,s=t.N,o=[t];hm(t);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<je&&Math.abs(r-l.circle.cy)<je;)a=l.P,o.unshift(l),hm(l),l=a;o.unshift(l),hc(l);for(var u=s;u.circle&&Math.abs(n-u.circle.x)<je&&Math.abs(r-u.circle.cy)<je;)s=u.N,o.push(u),hm(u),u=s;o.push(u),hc(u);var h=o.length,d;for(d=1;d<h;++d)u=o[d],l=o[d-1],D0(u.edge,l.site,u.site,i);l=o[0],u=o[h-1],u.edge=Zl(l.site,u.site,null,i),nc(l),nc(u)}function act(t){for(var e=t[0],n=t[1],r,i,a,s,o=fc._;o;)if(a=sI(o,n)-e,a>je)o=o.L;else if(s=e-sct(o,n),s>je){if(!o.R){r=o;break}o=o.R}else{a>-je?(r=o.P,i=o):s>-je?(r=o,i=o.N):r=i=o;break}Zot(t);var l=t9(t);if(fc.insert(r,l),!(!r&&!i)){if(r===i){hc(r),i=t9(r.site),fc.insert(l,i),l.edge=i.edge=Zl(r.site,l.site),nc(r),nc(i);return}if(!i){l.edge=Zl(r.site,l.site);return}hc(r),hc(i);var u=r.site,h=u[0],d=u[1],f=t[0]-h,p=t[1]-d,y=i.site,m=y[0]-h,b=y[1]-d,x=2*(f*b-p*m),k=f*f+p*p,T=m*m+b*b,S=[(b*k-p*T)/x+h,(f*T-m*k)/x+d];D0(i.edge,u,y,S),l.edge=Zl(u,t,null,S),i.edge=Zl(t,y,null,S),nc(r),nc(i)}}function sI(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var s=t.P;if(!s)return-1/0;n=s.site;var o=n[0],l=n[1],u=l-e;if(!u)return o;var h=o-r,d=1/a-1/u,f=h/u;return d?(-f+Math.sqrt(f*f-2*d*(h*h/(-2*u)-l+u/2+i-a/2)))/d+r:(r+o)/2}function sct(t,e){var n=t.N;if(n)return sI(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var je=1e-6,oct=1e-12,fc,Br,Uu,Xn;function cct(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function lct(t,e){return e[1]-t[1]||e[0]-t[0]}function qv(t,e){var n=t.sort(lct).pop(),r,i,a;for(Xn=[],Br=new Array(t.length),fc=new B0,Uu=new B0;;)if(a=f5,n&&(!a||n[1]<a.y||n[1]===a.y&&n[0]<a.x))(n[0]!==r||n[1]!==i)&&(act(n),r=n[0],i=n[1]),n=t.pop();else if(a)ict(a.arc);else break;if(tct(),e){var s=+e[0][0],o=+e[0][1],l=+e[1][0],u=+e[1][1];Kot(s,o,l,u),ect(s,o,l,u)}this.edges=Xn,this.cells=Br,fc=Uu=Xn=Br=null}qv.prototype={constructor:qv,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(r){return rI(e,t[r])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(!!(o=(a=n.halfedges).length))for(var i=n.site,a,s=-1,o,l,u=e[a[o-1]],h=u.left===i?u.right:u.left;++s<o;)l=h,u=e[a[s]],h=u.left===i?u.right:u.left,l&&h&&r<l.index&&r<h.index&&cct(i,l,h)<0&&t.push([i.data,l.data,h.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r=this,i,a=r._found||0,s=r.cells.length,o;!(o=r.cells[a]);)if(++a>=s)return null;var l=t-o.site[0],u=e-o.site[1],h=l*l+u*u;do o=r.cells[i=a],a=null,o.halfedges.forEach(function(d){var f=r.edges[d],p=f.left;if(!((p===o.site||!p)&&!(p=f.right))){var y=t-p[0],m=e-p[1],b=y*y+m*m;b<h&&(h=b,a=p.index)}});while(a!==null);return r._found=i,n==null||h<=n*n?o.site:null}};function uct(){var t=Hot,e=Got,n=null;function r(i){return new qv(i.map(function(a,s){var o=[Math.round(t(a,s,i)/je)*je,Math.round(e(a,s,i)/je)*je];return o.index=s,o.data=a,o}),n)}return r.polygons=function(i){return r(i).polygons()},r.links=function(i){return r(i).links()},r.triangles=function(i){return r(i).triangles()},r.x=function(i){return arguments.length?(t=typeof i=="function"?i:Qk(+i),r):t},r.y=function(i){return arguments.length?(e=typeof i=="function"?i:Qk(+i),r):e},r.extent=function(i){return arguments.length?(n=i==null?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(i){return arguments.length?(n=i==null?null:[[0,0],[+i[0],+i[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}function wf(t){return function(){return t}}function hct(t,e,n){this.target=t,this.type=e,this.transform=n}function Ia(t,e,n){this.k=t,this.x=e,this.y=n}Ia.prototype={constructor:Ia,scale:function(t){return t===1?this:new Ia(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Ia(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var s2=new Ia(1,0,0);oI.prototype=Ia.prototype;function oI(t){for(;!t.__zoom;)if(!(t=t.parentNode))return s2;return t.__zoom}function fm(){Ut.stopImmediatePropagation()}function Tl(){Ut.preventDefault(),Ut.stopImmediatePropagation()}function fct(){return!Ut.ctrlKey&&!Ut.button}function dct(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function e9(){return this.__zoom||s2}function pct(){return-Ut.deltaY*(Ut.deltaMode===1?.05:Ut.deltaMode?1:.002)}function gct(){return navigator.maxTouchPoints||"ontouchstart"in this}function yct(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function mct(){var t=fct,e=dct,n=yct,r=pct,i=gct,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,l=OM,u=Mo("start","zoom","end"),h,d,f=500,p=150,y=0;function m(E){E.property("__zoom",e9).on("wheel.zoom",R).on("mousedown.zoom",A).on("dblclick.zoom",I).filter(i).on("touchstart.zoom",C).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(E,_,V){var B=E.selection?E.selection():E;B.property("__zoom",e9),E!==B?T(E,_,V):B.interrupt().each(function(){S(this,arguments).start().zoom(null,typeof _=="function"?_.apply(this,arguments):_).end()})},m.scaleBy=function(E,_,V){m.scaleTo(E,function(){var B=this.__zoom.k,G=typeof _=="function"?_.apply(this,arguments):_;return B*G},V)},m.scaleTo=function(E,_,V){m.transform(E,function(){var B=e.apply(this,arguments),G=this.__zoom,tt=V==null?k(B):typeof V=="function"?V.apply(this,arguments):V,ut=G.invert(tt),X=typeof _=="function"?_.apply(this,arguments):_;return n(x(b(G,X),tt,ut),B,s)},V)},m.translateBy=function(E,_,V){m.transform(E,function(){return n(this.__zoom.translate(typeof _=="function"?_.apply(this,arguments):_,typeof V=="function"?V.apply(this,arguments):V),e.apply(this,arguments),s)})},m.translateTo=function(E,_,V,B){m.transform(E,function(){var G=e.apply(this,arguments),tt=this.__zoom,ut=B==null?k(G):typeof B=="function"?B.apply(this,arguments):B;return n(s2.translate(ut[0],ut[1]).scale(tt.k).translate(typeof _=="function"?-_.apply(this,arguments):-_,typeof V=="function"?-V.apply(this,arguments):-V),G,s)},B)};function b(E,_){return _=Math.max(a[0],Math.min(a[1],_)),_===E.k?E:new Ia(_,E.x,E.y)}function x(E,_,V){var B=_[0]-V[0]*E.k,G=_[1]-V[1]*E.k;return B===E.x&&G===E.y?E:new Ia(E.k,B,G)}function k(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function T(E,_,V){E.on("start.zoom",function(){S(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).end()}).tween("zoom",function(){var B=this,G=arguments,tt=S(B,G),ut=e.apply(B,G),X=V==null?k(ut):typeof V=="function"?V.apply(B,G):V,z=Math.max(ut[1][0]-ut[0][0],ut[1][1]-ut[0][1]),j=B.__zoom,ht=typeof _=="function"?_.apply(B,G):_,it=l(j.invert(X).concat(z/j.k),ht.invert(X).concat(z/ht.k));return function(et){if(et===1)et=ht;else{var ft=it(et),st=z/ft[2];et=new Ia(st,X[0]-ft[0]*st,X[1]-ft[1]*st)}tt.zoom(null,et)}})}function S(E,_,V){return!V&&E.__zooming||new L(E,_)}function L(E,_){this.that=E,this.args=_,this.active=0,this.extent=e.apply(E,_),this.taps=0}L.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,_){return this.mouse&&E!=="mouse"&&(this.mouse[1]=_.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=_.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=_.invert(this.touch1[0])),this.that.__zoom=_,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){Cu(new hct(m,E,this.that.__zoom),u.apply,u,[E,this.that,this.args])}};function R(){if(!t.apply(this,arguments))return;var E=S(this,arguments),_=this.__zoom,V=Math.max(a[0],Math.min(a[1],_.k*Math.pow(2,r.apply(this,arguments)))),B=Qs(this);if(E.wheel)(E.mouse[0][0]!==B[0]||E.mouse[0][1]!==B[1])&&(E.mouse[1]=_.invert(E.mouse[0]=B)),clearTimeout(E.wheel);else{if(_.k===V)return;E.mouse=[B,_.invert(B)],no(this),E.start()}Tl(),E.wheel=setTimeout(G,p),E.zoom("mouse",n(x(b(_,V),E.mouse[0],E.mouse[1]),E.extent,s));function G(){E.wheel=null,E.end()}}function A(){if(d||!t.apply(this,arguments))return;var E=S(this,arguments,!0),_=xr(Ut.view).on("mousemove.zoom",tt,!0).on("mouseup.zoom",ut,!0),V=Qs(this),B=Ut.clientX,G=Ut.clientY;Nd(Ut.view),fm(),E.mouse=[V,this.__zoom.invert(V)],no(this),E.start();function tt(){if(Tl(),!E.moved){var X=Ut.clientX-B,z=Ut.clientY-G;E.moved=X*X+z*z>y}E.zoom("mouse",n(x(E.that.__zoom,E.mouse[0]=Qs(E.that),E.mouse[1]),E.extent,s))}function ut(){_.on("mousemove.zoom mouseup.zoom",null),Id(Ut.view,E.moved),Tl(),E.end()}}function I(){if(!!t.apply(this,arguments)){var E=this.__zoom,_=Qs(this),V=E.invert(_),B=E.k*(Ut.shiftKey?.5:2),G=n(x(b(E,B),_,V),e.apply(this,arguments),s);Tl(),o>0?xr(this).transition().duration(o).call(T,G,_):xr(this).call(m.transform,G)}}function C(){if(!!t.apply(this,arguments)){var E=Ut.touches,_=E.length,V=S(this,arguments,Ut.changedTouches.length===_),B,G,tt,ut;for(fm(),G=0;G<_;++G)tt=E[G],ut=Su(this,E,tt.identifier),ut=[ut,this.__zoom.invert(ut),tt.identifier],V.touch0?!V.touch1&&V.touch0[2]!==ut[2]&&(V.touch1=ut,V.taps=0):(V.touch0=ut,B=!0,V.taps=1+!!h);h&&(h=clearTimeout(h)),B&&(V.taps<2&&(h=setTimeout(function(){h=null},f)),no(this),V.start())}}function N(){if(!!this.__zooming){var E=S(this,arguments),_=Ut.changedTouches,V=_.length,B,G,tt,ut;for(Tl(),h&&(h=clearTimeout(h)),E.taps=0,B=0;B<V;++B)G=_[B],tt=Su(this,_,G.identifier),E.touch0&&E.touch0[2]===G.identifier?E.touch0[0]=tt:E.touch1&&E.touch1[2]===G.identifier&&(E.touch1[0]=tt);if(G=E.that.__zoom,E.touch1){var X=E.touch0[0],z=E.touch0[1],j=E.touch1[0],ht=E.touch1[1],it=(it=j[0]-X[0])*it+(it=j[1]-X[1])*it,et=(et=ht[0]-z[0])*et+(et=ht[1]-z[1])*et;G=b(G,Math.sqrt(it/et)),tt=[(X[0]+j[0])/2,(X[1]+j[1])/2],ut=[(z[0]+ht[0])/2,(z[1]+ht[1])/2]}else if(E.touch0)tt=E.touch0[0],ut=E.touch0[1];else return;E.zoom("touch",n(x(G,tt,ut),E.extent,s))}}function v(){if(!!this.__zooming){var E=S(this,arguments),_=Ut.changedTouches,V=_.length,B,G;for(fm(),d&&clearTimeout(d),d=setTimeout(function(){d=null},f),B=0;B<V;++B)G=_[B],E.touch0&&E.touch0[2]===G.identifier?delete E.touch0:E.touch1&&E.touch1[2]===G.identifier&&delete E.touch1;if(E.touch1&&!E.touch0&&(E.touch0=E.touch1,delete E.touch1),E.touch0)E.touch0[1]=this.__zoom.invert(E.touch0[0]);else if(E.end(),E.taps===2){var tt=xr(this).on("dblclick.zoom");tt&&tt.apply(this,arguments)}}}return m.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:wf(+E),m):r},m.filter=function(E){return arguments.length?(t=typeof E=="function"?E:wf(!!E),m):t},m.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:wf(!!E),m):i},m.extent=function(E){return arguments.length?(e=typeof E=="function"?E:wf([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),m):e},m.scaleExtent=function(E){return arguments.length?(a[0]=+E[0],a[1]=+E[1],m):[a[0],a[1]]},m.translateExtent=function(E){return arguments.length?(s[0][0]=+E[0][0],s[1][0]=+E[1][0],s[0][1]=+E[0][1],s[1][1]=+E[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(E){return arguments.length?(n=E,m):n},m.duration=function(E){return arguments.length?(o=+E,m):o},m.interpolate=function(E){return arguments.length?(l=E,m):l},m.on=function(){var E=u.on.apply(u,arguments);return E===u?m:E},m.clickDistance=function(E){return arguments.length?(y=(E=+E)*E,m):Math.sqrt(y)},m}const bct=Object.freeze(Object.defineProperty({__proto__:null,version:pX,bisect:ys,bisectRight:ys,bisectLeft:yX,ascending:Cs,bisector:J_,cross:bX,descending:vX,deviation:XA,extent:t4,histogram:kX,thresholdFreedmanDiaconis:TX,thresholdScott:EX,thresholdSturges:n4,max:ZA,mean:CX,median:SX,merge:r4,min:QA,pairs:mX,permute:AX,quantile:Eu,range:Dr,scan:MX,shuffle:LX,sum:RX,ticks:e4,tickIncrement:iu,tickStep:co,transpose:JA,variance:jA,zip:IX,axisTop:qX,axisRight:VX,axisBottom:YX,axisLeft:zX,brush:jJ,brushX:HJ,brushY:GJ,brushSelection:WJ,chord:KJ,ribbon:itt,nest:att,set:ZM,map:qa,keys:ctt,values:ltt,entries:utt,color:bs,rgb:Cc,hsl:Y1,lab:U1,hcl:W1,lch:RZ,gray:LZ,cubehelix:vi,contours:JM,contourDensity:ktt,dispatch:Mo,drag:_Z,dragDisable:Nd,dragEnable:Id,dsvFormat:Vd,csvParse:eL,csvParseRows:Stt,csvFormat:Att,csvFormatBody:Mtt,csvFormatRows:Ltt,csvFormatRow:Rtt,csvFormatValue:Ntt,tsvParse:nL,tsvParseRows:Itt,tsvFormat:Btt,tsvFormatBody:Dtt,tsvFormatRows:Ott,tsvFormatRow:Ftt,tsvFormatValue:Ptt,autoType:$tt,easeLinear:aJ,easeQuad:l7,easeQuadIn:sJ,easeQuadOut:oJ,easeQuadInOut:l7,easeCubic:av,easeCubicIn:cJ,easeCubicOut:lJ,easeCubicInOut:av,easePoly:u7,easePolyIn:uJ,easePolyOut:hJ,easePolyInOut:u7,easeSin:h7,easeSinIn:fJ,easeSinOut:dJ,easeSinInOut:h7,easeExp:f7,easeExpIn:pJ,easeExpOut:gJ,easeExpInOut:f7,easeCircle:d7,easeCircleIn:yJ,easeCircleOut:mJ,easeCircleInOut:d7,easeBounce:Iu,easeBounceIn:CJ,easeBounceOut:Iu,easeBounceInOut:SJ,easeBack:p7,easeBackIn:AJ,easeBackOut:MJ,easeBackInOut:p7,easeElastic:g7,easeElasticIn:LJ,easeElasticOut:g7,easeElasticInOut:RJ,blob:Ytt,buffer:Utt,dsv:Htt,csv:Gtt,tsv:jtt,image:Xtt,json:Ztt,text:Yd,xml:Qtt,html:Jtt,svg:tet,forceCenter:eet,forceCollide:xet,forceLink:ket,forceManyBody:Let,forceRadial:Ret,forceSimulation:Met,forceX:Net,forceY:Iet,formatDefaultLocale:oL,get format(){return Wd},get formatPrefix(){return T4},formatLocale:sL,formatSpecifier:Du,FormatSpecifier:Ud,precisionFixed:cL,precisionPrefix:lL,precisionRound:uL,geoArea:zet,geoBounds:Get,geoCentroid:Jet,geoCircle:tnt,geoClipAntimeridian:wv,geoClipCircle:ML,geoClipExtent:ont,geoClipRectangle:Hd,geoContains:pnt,geoDistance:d0,geoGraticule:NL,geoGraticule10:gnt,geoInterpolate:ynt,geoLength:LL,geoPath:Ant,geoAlbers:WL,geoAlbersUsa:Pnt,geoAzimuthalEqualArea:$nt,geoAzimuthalEqualAreaRaw:B4,geoAzimuthalEquidistant:qnt,geoAzimuthalEquidistantRaw:D4,geoConicConformal:Ynt,geoConicConformalRaw:jL,geoConicEqualArea:x0,geoConicEqualAreaRaw:UL,geoConicEquidistant:Unt,geoConicEquidistantRaw:XL,geoEqualEarth:Hnt,geoEqualEarthRaw:O4,geoEquirectangular:znt,geoEquirectangularRaw:Pu,geoGnomonic:Gnt,geoGnomonicRaw:F4,geoIdentity:jnt,geoProjection:sa,geoProjectionMutator:N4,geoMercator:Vnt,geoMercatorRaw:_h,geoNaturalEarth1:Xnt,geoNaturalEarth1Raw:P4,geoOrthographic:Knt,geoOrthographicRaw:$4,geoStereographic:Znt,geoStereographicRaw:q4,geoTransverseMercator:Qnt,geoTransverseMercatorRaw:V4,geoRotation:kL,geoStream:oi,geoTransform:Mnt,cluster:srt,hierarchy:Y4,pack:Rrt,packSiblings:Art,packEnclose:ZL,partition:Nrt,stratify:Ort,tree:Yrt,treemap:zrt,treemapBinary:Urt,treemapDice:xh,treemapSlice:jd,treemapSliceDice:Wrt,treemapSquarify:iR,treemapResquarify:Hrt,interpolate:yh,interpolateArray:OZ,interpolateBasis:wM,interpolateBasisClosed:kM,interpolateDate:MM,interpolateDiscrete:$Z,interpolateHue:qZ,interpolateNumber:Ur,interpolateNumberArray:d4,interpolateObject:LM,interpolateRound:RM,interpolateString:p4,interpolateTransformCss:BM,interpolateTransformSvg:DM,interpolateZoom:OM,interpolateRgb:Lu,interpolateRgbBasis:CM,interpolateRgbBasisClosed:DZ,interpolateHsl:HZ,interpolateHslLong:GZ,interpolateLab:jZ,interpolateHcl:XZ,interpolateHclLong:KZ,interpolateCubehelix:ZZ,interpolateCubehelixLong:Fd,piecewise:QZ,quantize:JZ,path:As,polygonArea:Grt,polygonCentroid:jrt,polygonHull:Zrt,polygonContains:Qrt,polygonLength:Jrt,quadtree:zd,randomUniform:tit,randomNormal:aR,randomLogNormal:eit,randomBates:nit,randomIrwinHall:sR,randomExponential:rit,scaleBand:U4,scalePoint:iit,scaleIdentity:fR,scaleLinear:hR,scaleLog:pR,scaleSymlog:gR,scaleOrdinal:z4,scaleImplicit:Dv,scalePow:j4,scaleSqrt:git,scaleQuantile:yR,scaleQuantize:mR,scaleThreshold:bR,scaleTime:Hat,scaleUtc:Gat,scaleSequential:QR,scaleSequentialLog:JR,scaleSequentialPow:t5,scaleSequentialSqrt:jat,scaleSequentialSymlog:tN,scaleSequentialQuantile:eN,scaleDiverging:nN,scaleDivergingLog:rN,scaleDivergingPow:e5,scaleDivergingSqrt:Xat,scaleDivergingSymlog:iN,tickFormat:uR,schemeCategory10:Kat,schemeAccent:Zat,schemeDark2:Qat,schemePaired:Jat,schemePastel1:tst,schemePastel2:est,schemeSet1:nst,schemeSet2:rst,schemeSet3:ist,schemeTableau10:ast,interpolateBrBG:sst,schemeBrBG:aN,interpolatePRGn:ost,schemePRGn:sN,interpolatePiYG:cst,schemePiYG:oN,interpolatePuOr:lst,schemePuOr:cN,interpolateRdBu:ust,schemeRdBu:lN,interpolateRdGy:hst,schemeRdGy:uN,interpolateRdYlBu:fst,schemeRdYlBu:hN,interpolateRdYlGn:dst,schemeRdYlGn:fN,interpolateSpectral:pst,schemeSpectral:dN,interpolateBuGn:gst,schemeBuGn:pN,interpolateBuPu:yst,schemeBuPu:gN,interpolateGnBu:mst,schemeGnBu:yN,interpolateOrRd:bst,schemeOrRd:mN,interpolatePuBuGn:vst,schemePuBuGn:bN,interpolatePuBu:_st,schemePuBu:vN,interpolatePuRd:xst,schemePuRd:_N,interpolateRdPu:wst,schemeRdPu:xN,interpolateYlGnBu:kst,schemeYlGnBu:wN,interpolateYlGn:Tst,schemeYlGn:kN,interpolateYlOrBr:Est,schemeYlOrBr:TN,interpolateYlOrRd:Cst,schemeYlOrRd:EN,interpolateBlues:Sst,schemeBlues:CN,interpolateGreens:Ast,schemeGreens:SN,interpolateGreys:Mst,schemeGreys:AN,interpolatePurples:Lst,schemePurples:MN,interpolateReds:Rst,schemeReds:LN,interpolateOranges:Nst,schemeOranges:RN,interpolateCividis:Ist,interpolateCubehelixDefault:Bst,interpolateRainbow:Fst,interpolateWarm:Dst,interpolateCool:Ost,interpolateSinebow:qst,interpolateTurbo:Vst,interpolateViridis:Yst,interpolateMagma:zst,interpolateInferno:Ust,interpolatePlasma:Wst,create:fZ,creator:Md,local:cM,matcher:a4,mouse:Qs,namespace:ph,namespaces:X3,clientPoint:Rd,select:xr,selectAll:pZ,selection:Lo,selector:Ld,selectorAll:i4,style:lo,touch:Su,touches:gZ,window:s4,get event(){return Ut},customEvent:Cu,arc:tot,area:IN,line:i5,pie:rot,areaRadial:Gk,radialArea:Gk,lineRadial:Hk,radialLine:Hk,pointRadial:Kl,linkHorizontal:lot,linkVertical:uot,linkRadial:hot,symbol:bot,symbols:mot,symbolCircle:o5,symbolCross:ON,symbolDiamond:PN,symbolSquare:VN,symbolStar:qN,symbolTriangle:YN,symbolWye:zN,curveBasisClosed:_ot,curveBasisOpen:xot,curveBasis:vot,curveBundle:wot,curveCardinalClosed:Tot,curveCardinalOpen:Eot,curveCardinal:kot,curveCatmullRomClosed:Sot,curveCatmullRomOpen:Aot,curveCatmullRom:Cot,curveLinearClosed:Mot,curveLinear:n2,curveMonotoneX:Lot,curveMonotoneY:Rot,curveNatural:Not,curveStep:Iot,curveStepAfter:Dot,curveStepBefore:Bot,stack:Fot,stackOffsetExpand:Pot,stackOffsetDiverging:$ot,stackOffsetNone:Bc,stackOffsetSilhouette:qot,stackOffsetWiggle:Vot,stackOrderAppearance:tI,stackOrderAscending:eI,stackOrderDescending:zot,stackOrderInsideOut:Uot,stackOrderNone:Dc,stackOrderReverse:Wot,timeInterval:Mn,timeMillisecond:C0,timeMilliseconds:Mk,utcMillisecond:C0,utcMilliseconds:Mk,timeSecond:M0,timeSeconds:Lk,utcSecond:M0,utcSeconds:Lk,timeMinute:kR,timeMinutes:yit,timeHour:ER,timeHours:mit,timeDay:Kd,timeDays:bit,timeWeek:$u,timeWeeks:Rk,timeSunday:$u,timeSundays:Rk,timeMonday:qu,timeMondays:vit,timeTuesday:SR,timeTuesdays:_it,timeWednesday:AR,timeWednesdays:xit,timeThursday:mo,timeThursdays:wit,timeFriday:MR,timeFridays:kit,timeSaturday:LR,timeSaturdays:Tit,timeMonth:NR,timeMonths:Eit,timeYear:bo,timeYears:Cit,utcMinute:BR,utcMinutes:Sit,utcHour:OR,utcHours:Ait,utcDay:Zd,utcDays:Mit,utcWeek:Vu,utcWeeks:Nk,utcSunday:Vu,utcSundays:Nk,utcMonday:Yu,utcMondays:Lit,utcTuesday:PR,utcTuesdays:Rit,utcWednesday:$R,utcWednesdays:Nit,utcThursday:vo,utcThursdays:Iit,utcFriday:qR,utcFridays:Bit,utcSaturday:VR,utcSaturdays:Dit,utcMonth:zR,utcMonths:Oit,utcYear:_o,utcYears:Fit,timeFormatDefaultLocale:KR,get timeFormat(){return Z4},get timeParse(){return XR},get utcFormat(){return Qd},get utcParse(){return Q4},timeFormatLocale:UR,isoFormat:$at,isoParse:Yat,now:Kc,timer:$d,timerFlush:YM,timeout:ev,interval:rQ,transition:HM,active:DJ,interrupt:no,voronoi:uct,zoom:mct,zoomTransform:oI,zoomIdentity:s2},Symbol.toStringTag,{value:"Module"})),vct=hO(bct);var Wu;if(!Wu&&typeof Es=="function")try{Wu=vct}catch{}Wu||(Wu=window.d3);var Rs=Wu,n9=jc,Zr={isSubgraph:_ct,edgeToId:xct,applyStyle:kct,applyClass:Tct,applyTransition:Ect};function _ct(t,e){return!!t.children(e).length}function xct(t){return dm(t.v)+":"+dm(t.w)+":"+dm(t.name)}var wct=/:/g;function dm(t){return t?String(t).replace(wct,"\\:"):""}function kct(t,e){e&&t.attr("style",e)}function Tct(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))}function Ect(t,e){var n=e.graph();if(n9.isPlainObject(n)){var r=n.transition;if(n9.isFunction(r))return r(t)}return t}var pm,r9;function Cct(){if(r9)return pm;r9=1;var t=Zr;pm=e;function e(r,i){for(var a=r.append("text"),s=n(i.label).split(`
`),o=0;o<s.length;o++)a.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(s[o]);return t.applyStyle(a,i.labelStyle),a}function n(r){for(var i="",a=!1,s,o=0;o<r.length;++o)if(s=r[o],a){switch(s){case"n":i+=`
`;break;default:i+=s}a=!1}else s==="\\"?a=!0:i+=s;return i}return pm}var gm,i9;function Sct(){if(i9)return gm;i9=1;var t=Zr;gm=e;function e(n,r){var i=n.append("foreignObject").attr("width","100000"),a=i.append("xhtml:div");a.attr("xmlns","http://www.w3.org/1999/xhtml");var s=r.label;switch(typeof s){case"function":a.insert(s);break;case"object":a.insert(function(){return s});break;default:a.html(s)}t.applyStyle(a,r.labelStyle),a.style("display","inline-block"),a.style("white-space","nowrap");var o=a.node().getBoundingClientRect();return i.attr("width",o.width).attr("height",o.height),i}return gm}var ym,a9;function Act(){if(a9)return ym;a9=1;var t=Zr;ym=e;function e(n,r){var i=n;return i.node().appendChild(r.label),t.applyStyle(i,r.labelStyle),i}return ym}var mm,s9;function d5(){if(s9)return mm;s9=1;var t=Cct(),e=Sct(),n=Act();mm=r;function r(i,a,s){var o=a.label,l=i.append("g");a.labelType==="svg"?n(l,a):typeof o!="string"||a.labelType==="html"?e(l,a):t(l,a);var u=l.node().getBBox(),h;switch(s){case"top":h=-a.height/2;break;case"bottom":h=a.height/2-u.height;break;default:h=-u.height/2}return l.attr("transform","translate("+-u.width/2+","+h+")"),l}return mm}var bm,o9;function Mct(){if(o9)return bm;o9=1;var t=jc,e=d5(),n=Zr,r=Rs;bm=i;function i(a,s,o){var l=s.nodes().filter(function(d){return!n.isSubgraph(s,d)}),u=a.selectAll("g.node").data(l,function(d){return d}).classed("update",!0);u.exit().remove(),u.enter().append("g").attr("class","node").style("opacity",0),u=a.selectAll("g.node"),u.each(function(d){var f=s.node(d),p=r.select(this);n.applyClass(p,f.class,(p.classed("update")?"update ":"")+"node"),p.select("g.label").remove();var y=p.append("g").attr("class","label"),m=e(y,f),b=o[f.shape],x=t.pick(m.node().getBBox(),"width","height");f.elem=this,f.id&&p.attr("id",f.id),f.labelId&&y.attr("id",f.labelId),t.has(f,"width")&&(x.width=f.width),t.has(f,"height")&&(x.height=f.height),x.width+=f.paddingLeft+f.paddingRight,x.height+=f.paddingTop+f.paddingBottom,y.attr("transform","translate("+(f.paddingLeft-f.paddingRight)/2+","+(f.paddingTop-f.paddingBottom)/2+")");var k=r.select(this);k.select(".label-container").remove();var T=b(k,x,f).classed("label-container",!0);n.applyStyle(T,f.style);var S=T.node().getBBox();f.width=S.width,f.height=S.height});var h;return u.exit?h=u.exit():h=u.selectAll(null),n.applyTransition(h,s).style("opacity",0).remove(),u}return bm}var vm,c9;function Lct(){if(c9)return vm;c9=1;var t=Zr,e=Rs,n=d5();vm=r;function r(i,a){var s=a.nodes().filter(function(u){return t.isSubgraph(a,u)}),o=i.selectAll("g.cluster").data(s,function(u){return u});o.selectAll("*").remove(),o.enter().append("g").attr("class","cluster").attr("id",function(u){var h=a.node(u);return h.id}).style("opacity",0),o=i.selectAll("g.cluster"),t.applyTransition(o,a).style("opacity",1),o.each(function(u){var h=a.node(u),d=e.select(this);e.select(this).append("rect");var f=d.append("g").attr("class","label");n(f,h,h.clusterLabelPos)}),o.selectAll("rect").each(function(u){var h=a.node(u),d=e.select(this);t.applyStyle(d,h.style)});var l;return o.exit?l=o.exit():l=o.selectAll(null),t.applyTransition(l,a).style("opacity",0).remove(),o}return vm}var _m,l9;function Rct(){if(l9)return _m;l9=1;var t=jc,e=d5(),n=Zr,r=Rs;_m=i;function i(a,s){var o=a.selectAll("g.edgeLabel").data(s.edges(),function(u){return n.edgeToId(u)}).classed("update",!0);o.exit().remove(),o.enter().append("g").classed("edgeLabel",!0).style("opacity",0),o=a.selectAll("g.edgeLabel"),o.each(function(u){var h=r.select(this);h.select(".label").remove();var d=s.edge(u),f=e(h,s.edge(u),0,0).classed("label",!0),p=f.node().getBBox();d.labelId&&f.attr("id",d.labelId),t.has(d,"width")||(d.width=p.width),t.has(d,"height")||(d.height=p.height)});var l;return o.exit?l=o.exit():l=o.selectAll(null),n.applyTransition(l,s).style("opacity",0).remove(),o}return _m}var xm,u9;function Nct(){if(u9)return xm;u9=1;var t=jc,e=YA,n=Zr,r=Rs;xm=i;function i(d,f,p){var y=d.selectAll("g.edgePath").data(f.edges(),function(x){return n.edgeToId(x)}).classed("update",!0),m=u(y,f);h(y,f);var b=y.merge!==void 0?y.merge(m):y;return n.applyTransition(b,f).style("opacity",1),b.each(function(x){var k=r.select(this),T=f.edge(x);T.elem=this,T.id&&k.attr("id",T.id),n.applyClass(k,T.class,(k.classed("update")?"update ":"")+"edgePath")}),b.selectAll("path.path").each(function(x){var k=f.edge(x);k.arrowheadId=t.uniqueId("arrowhead");var T=r.select(this).attr("marker-end",function(){return"url("+a(location.href,k.arrowheadId)+")"}).style("fill","none");n.applyTransition(T,f).attr("d",function(S){return s(f,S)}),n.applyStyle(T,k.style)}),b.selectAll("defs *").remove(),b.selectAll("defs").each(function(x){var k=f.edge(x),T=p[k.arrowhead];T(r.select(this),k.arrowheadId,k,"arrowhead")}),b}function a(d,f){var p=d.split("#")[0];return p+"#"+f}function s(d,f){var p=d.edge(f),y=d.node(f.v),m=d.node(f.w),b=p.points.slice(1,p.points.length-1);return b.unshift(e(y,b[0])),b.push(e(m,b[b.length-1])),o(p,b)}function o(d,f){var p=(r.line||r.svg.line)().x(function(y){return y.x}).y(function(y){return y.y});return(p.curve||p.interpolate)(d.curve),p(f)}function l(d){var f=d.getBBox(),p=d.ownerSVGElement.getScreenCTM().inverse().multiply(d.getScreenCTM()).translate(f.width/2,f.height/2);return{x:p.e,y:p.f}}function u(d,f){var p=d.enter().append("g").attr("class","edgePath").style("opacity",0);return p.append("path").attr("class","path").attr("d",function(y){var m=f.edge(y),b=f.node(y.v).elem,x=t.range(m.points.length).map(function(){return l(b)});return o(m,x)}),p.append("defs"),p}function h(d,f){var p=d.exit();n.applyTransition(p,f).style("opacity",0).remove()}return xm}var wm,h9;function Ict(){if(h9)return wm;h9=1;var t=Zr,e=Rs;wm=n;function n(r,i){var a=r.filter(function(){return!e.select(this).classed("update")});function s(o){var l=i.node(o);return"translate("+l.x+","+l.y+")"}a.attr("transform",s),t.applyTransition(r,i).style("opacity",1).attr("transform",s)}return wm}var km,f9;function Bct(){if(f9)return km;f9=1;var t=Zr,e=Rs,n=jc;km=r;function r(i,a){var s=i.filter(function(){return!e.select(this).classed("update")});function o(l){var u=a.edge(l);return n.has(u,"x")?"translate("+u.x+","+u.y+")":""}s.attr("transform",o),t.applyTransition(i,a).style("opacity",1).attr("transform",o)}return km}var Tm,d9;function Dct(){if(d9)return Tm;d9=1;var t=Zr,e=Rs;Tm=n;function n(r,i){var a=r.filter(function(){return!e.select(this).classed("update")});function s(o){var l=i.node(o);return"translate("+l.x+","+l.y+")"}a.attr("transform",s),t.applyTransition(r,i).style("opacity",1).attr("transform",s),t.applyTransition(a.selectAll("rect"),i).attr("width",function(o){return i.node(o).width}).attr("height",function(o){return i.node(o).height}).attr("x",function(o){var l=i.node(o);return-l.width/2}).attr("y",function(o){var l=i.node(o);return-l.height/2})}return Tm}var Em,p9;function Oct(){if(p9)return Em;p9=1;var t=WA,e=Q_,n=zA,r=UA;Em={rect:i,ellipse:a,circle:s,diamond:o};function i(l,u,h){var d=l.insert("rect",":first-child").attr("rx",h.rx).attr("ry",h.ry).attr("x",-u.width/2).attr("y",-u.height/2).attr("width",u.width).attr("height",u.height);return h.intersect=function(f){return t(h,f)},d}function a(l,u,h){var d=u.width/2,f=u.height/2,p=l.insert("ellipse",":first-child").attr("x",-u.width/2).attr("y",-u.height/2).attr("rx",d).attr("ry",f);return h.intersect=function(y){return e(h,d,f,y)},p}function s(l,u,h){var d=Math.max(u.width,u.height)/2,f=l.insert("circle",":first-child").attr("x",-u.width/2).attr("y",-u.height/2).attr("r",d);return h.intersect=function(p){return n(h,d,p)},f}function o(l,u,h){var d=u.width*Math.SQRT2/2,f=u.height*Math.SQRT2/2,p=[{x:0,y:-f},{x:-d,y:0},{x:0,y:f},{x:d,y:0}],y=l.insert("polygon",":first-child").attr("points",p.map(function(m){return m.x+","+m.y}).join(" "));return h.intersect=function(m){return r(h,p,m)},y}return Em}var Cm,g9;function Fct(){if(g9)return Cm;g9=1;var t=Zr;Cm={default:e,normal:e,vee:n,undirected:r};function e(i,a,s,o){var l=i.append("marker").attr("id",a).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),u=l.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");t.applyStyle(u,s[o+"Style"]),s[o+"Class"]&&u.attr("class",s[o+"Class"])}function n(i,a,s,o){var l=i.append("marker").attr("id",a).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),u=l.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");t.applyStyle(u,s[o+"Style"]),s[o+"Class"]&&u.attr("class",s[o+"Class"])}function r(i,a,s,o){var l=i.append("marker").attr("id",a).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),u=l.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");t.applyStyle(u,s[o+"Style"]),s[o+"Class"]&&u.attr("class",s[o+"Class"])}return Cm}var Gn=jc,Pct=Rs,$ct=VA.layout,qct=Vct;function Vct(){var t=Mct(),e=Lct(),n=Rct(),r=Nct(),i=Ict(),a=Bct(),s=Dct(),o=Oct(),l=Fct(),u=function(h,d){Uct(d);var f=El(h,"output"),p=El(f,"clusters"),y=El(f,"edgePaths"),m=n(El(f,"edgeLabels"),d),b=t(El(f,"nodes"),d,o);$ct(d),i(b,d),a(m,d),r(y,d,l);var x=e(p,d);s(x,d),Wct(d)};return u.createNodes=function(h){return arguments.length?(t=h,u):t},u.createClusters=function(h){return arguments.length?(e=h,u):e},u.createEdgeLabels=function(h){return arguments.length?(n=h,u):n},u.createEdgePaths=function(h){return arguments.length?(r=h,u):r},u.shapes=function(h){return arguments.length?(o=h,u):o},u.arrows=function(h){return arguments.length?(l=h,u):l},u}var Yct={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},zct={arrowhead:"normal",curve:Pct.curveLinear};function Uct(t){t.nodes().forEach(function(e){var n=t.node(e);!Gn.has(n,"label")&&!t.children(e).length&&(n.label=e),Gn.has(n,"paddingX")&&Gn.defaults(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),Gn.has(n,"paddingY")&&Gn.defaults(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),Gn.has(n,"padding")&&Gn.defaults(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),Gn.defaults(n,Yct),Gn.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(r){n[r]=Number(n[r])}),Gn.has(n,"width")&&(n._prevWidth=n.width),Gn.has(n,"height")&&(n._prevHeight=n.height)}),t.edges().forEach(function(e){var n=t.edge(e);Gn.has(n,"label")||(n.label=""),Gn.defaults(n,zct)})}function Wct(t){Gn.each(t.nodes(),function(e){var n=t.node(e);Gn.has(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,Gn.has(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight})}function El(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}var Hct="0.6.4";/**
 * @license
 * Copyright (c) 2012-2013 Chris Pettitt
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Or={graphlib:rX,dagre:VA,intersect:dX,render:qct,util:Zr,version:Hct},Gct=Object.defineProperty,jct=(t,e,n)=>e in t?Gct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cl=(t,e,n)=>(jct(t,typeof e!="symbol"?e+"":e,n),n);const va={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Y={trace:(...t)=>{},debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},fatal:(...t)=>{}},p5=function(t="fatal"){let e=va.fatal;typeof t=="string"?(t=t.toLowerCase(),t in va&&(e=va[t])):typeof t=="number"&&(e=t),Y.trace=()=>{},Y.debug=()=>{},Y.info=()=>{},Y.warn=()=>{},Y.error=()=>{},Y.fatal=()=>{},e<=va.fatal&&(Y.fatal=console.error?console.error.bind(console,qr("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",qr("FATAL"))),e<=va.error&&(Y.error=console.error?console.error.bind(console,qr("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",qr("ERROR"))),e<=va.warn&&(Y.warn=console.warn?console.warn.bind(console,qr("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",qr("WARN"))),e<=va.info&&(Y.info=console.info?console.info.bind(console,qr("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",qr("INFO"))),e<=va.debug&&(Y.debug=console.debug?console.debug.bind(console,qr("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",qr("DEBUG"))),e<=va.trace&&(Y.trace=console.debug?console.debug.bind(console,qr("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",qr("TRACE")))},qr=t=>`%c${mi().format("ss.SSS")} : ${t} : `,Xct=t=>t?lI(t).replace(/\\n/g,"#br#").split("#br#"):[""],cI=t=>wu.sanitize(t),y9=(t,e)=>{var n;if(((n=e.flowchart)==null?void 0:n.htmlLabels)!==!1){const r=e.securityLevel;r==="antiscript"||r==="strict"?t=cI(t):r!=="loose"&&(t=lI(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=Jct(t))}return t},_i=(t,e)=>t&&(e.dompurifyConfig?t=wu.sanitize(y9(t,e),e.dompurifyConfig).toString():t=wu.sanitize(y9(t,e)),t),Kct=(t,e)=>typeof t=="string"?_i(t,e):t.flat().map(n=>_i(n,e)),o2=/<br\s*\/?>/gi,Zct=t=>o2.test(t),Qct=t=>t.split(o2),Jct=t=>t.replace(/#br#/g,"<br/>"),lI=t=>t.replace(o2,"#br#"),tlt=t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},In=t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),hs=function(t){let e=t;return t.indexOf("~")!==-1?(e=e.replace(/~([^~].*)/,"<$1"),e=e.replace(/~([^~]*)$/,">$1"),hs(e)):e},ge={getRows:Xct,sanitizeText:_i,sanitizeTextOrArray:Kct,hasBreaks:Zct,splitBreaks:Qct,lineBreakRegex:o2,removeScript:cI,getUrl:tlt,evaluate:In},ir=(t,e)=>e?_t(t,{s:-40,l:10}):_t(t,{s:-40,l:-10}),c2="#ffffff",l2="#f2f2f2";class elt{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||_t(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||_t(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||ir(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||ir(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||ir(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||ir(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Yt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Yt(this.tertiaryColor),this.lineColor=this.lineColor||Yt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?be(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||be(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Yt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||ce(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||_t(this.primaryColor,{h:30}),this.cScale4=this.cScale4||_t(this.primaryColor,{h:60}),this.cScale5=this.cScale5||_t(this.primaryColor,{h:90}),this.cScale6=this.cScale6||_t(this.primaryColor,{h:120}),this.cScale7=this.cScale7||_t(this.primaryColor,{h:150}),this.cScale8=this.cScale8||_t(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||_t(this.primaryColor,{h:270}),this.cScale10=this.cScale10||_t(this.primaryColor,{h:300}),this.cScale11=this.cScale11||_t(this.primaryColor,{h:330}),this.darkMode)for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=be(this["cScale"+e],75);else for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=be(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Yt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||ce(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||be(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||_t(this.primaryColor,{h:64}),this.fillType3=this.fillType3||_t(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||_t(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||_t(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||_t(this.primaryColor,{h:128}),this.fillType7=this.fillType7||_t(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||_t(this.primaryColor,{l:-10}),this.pie5=this.pie5||_t(this.secondaryColor,{l:-10}),this.pie6=this.pie6||_t(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||_t(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||_t(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||_t(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||_t(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||_t(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||_t(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?be(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||_t(this.primaryColor,{h:-30}),this.git4=this.git4||_t(this.primaryColor,{h:-60}),this.git5=this.git5||_t(this.primaryColor,{h:-90}),this.git6=this.git6||_t(this.primaryColor,{h:60}),this.git7=this.git7||_t(this.primaryColor,{h:120}),this.darkMode?(this.git0=ce(this.git0,25),this.git1=ce(this.git1,25),this.git2=ce(this.git2,25),this.git3=ce(this.git3,25),this.git4=ce(this.git4,25),this.git5=ce(this.git5,25),this.git6=ce(this.git6,25),this.git7=ce(this.git7,25)):(this.git0=be(this.git0,25),this.git1=be(this.git1,25),this.git2=be(this.git2,25),this.git3=be(this.git3,25),this.git4=be(this.git4,25),this.git5=be(this.git5,25),this.git6=be(this.git6,25),this.git7=be(this.git7,25)),this.gitInv0=this.gitInv0||Yt(this.git0),this.gitInv1=this.gitInv1||Yt(this.git1),this.gitInv2=this.gitInv2||Yt(this.git2),this.gitInv3=this.gitInv3||Yt(this.git3),this.gitInv4=this.gitInv4||Yt(this.git4),this.gitInv5=this.gitInv5||Yt(this.git5),this.gitInv6=this.gitInv6||Yt(this.git6),this.gitInv7=this.gitInv7||Yt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||c2,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||l2}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}}const nlt=t=>{const e=new elt;return e.calculate(t),e};class rlt{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=ce(this.primaryColor,16),this.tertiaryColor=_t(this.primaryColor,{h:-160}),this.primaryBorderColor=Yt(this.background),this.secondaryBorderColor=ir(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ir(this.tertiaryColor,this.darkMode),this.primaryTextColor=Yt(this.primaryColor),this.secondaryTextColor=Yt(this.secondaryColor),this.tertiaryTextColor=Yt(this.tertiaryColor),this.lineColor=Yt(this.background),this.textColor=Yt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=ce(Yt("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=ru(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=be("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=ru(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=ru(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=ce(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=ce(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=ce(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=_t(this.primaryColor,{h:64}),this.fillType3=_t(this.secondaryColor,{h:64}),this.fillType4=_t(this.primaryColor,{h:-64}),this.fillType5=_t(this.secondaryColor,{h:-64}),this.fillType6=_t(this.primaryColor,{h:128}),this.fillType7=_t(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||_t(this.primaryColor,{h:30}),this.cScale4=this.cScale4||_t(this.primaryColor,{h:60}),this.cScale5=this.cScale5||_t(this.primaryColor,{h:90}),this.cScale6=this.cScale6||_t(this.primaryColor,{h:120}),this.cScale7=this.cScale7||_t(this.primaryColor,{h:150}),this.cScale8=this.cScale8||_t(this.primaryColor,{h:210}),this.cScale9=this.cScale9||_t(this.primaryColor,{h:270}),this.cScale10=this.cScale10||_t(this.primaryColor,{h:300}),this.cScale11=this.cScale11||_t(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Yt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||ce(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?be(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ce(this.secondaryColor,20),this.git1=ce(this.pie2||this.secondaryColor,20),this.git2=ce(this.pie3||this.tertiaryColor,20),this.git3=ce(this.pie4||_t(this.primaryColor,{h:-30}),20),this.git4=ce(this.pie5||_t(this.primaryColor,{h:-60}),20),this.git5=ce(this.pie6||_t(this.primaryColor,{h:-90}),10),this.git6=ce(this.pie7||_t(this.primaryColor,{h:60}),10),this.git7=ce(this.pie8||_t(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Yt(this.git0),this.gitInv1=this.gitInv1||Yt(this.git1),this.gitInv2=this.gitInv2||Yt(this.git2),this.gitInv3=this.gitInv3||Yt(this.git3),this.gitInv4=this.gitInv4||Yt(this.git4),this.gitInv5=this.gitInv5||Yt(this.git5),this.gitInv6=this.gitInv6||Yt(this.git6),this.gitInv7=this.gitInv7||Yt(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ce(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ce(this.background,2)}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}}const ilt=t=>{const e=new rlt;return e.calculate(t),e};class alt{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=_t(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=_t(this.primaryColor,{h:-160}),this.primaryBorderColor=ir(this.primaryColor,this.darkMode),this.secondaryBorderColor=ir(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ir(this.tertiaryColor,this.darkMode),this.primaryTextColor=Yt(this.primaryColor),this.secondaryTextColor=Yt(this.secondaryColor),this.tertiaryTextColor=Yt(this.tertiaryColor),this.lineColor=Yt(this.background),this.textColor=Yt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=ru(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||_t(this.primaryColor,{h:30}),this.cScale4=this.cScale4||_t(this.primaryColor,{h:60}),this.cScale5=this.cScale5||_t(this.primaryColor,{h:90}),this.cScale6=this.cScale6||_t(this.primaryColor,{h:120}),this.cScale7=this.cScale7||_t(this.primaryColor,{h:150}),this.cScale8=this.cScale8||_t(this.primaryColor,{h:210}),this.cScale9=this.cScale9||_t(this.primaryColor,{h:270}),this.cScale10=this.cScale10||_t(this.primaryColor,{h:300}),this.cScale11=this.cScale11||_t(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||be(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||be(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=be(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||be(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||_t(this["cScale"+e],{h:180});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Yt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Yt(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=ce(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=_t(this.primaryColor,{h:64}),this.fillType3=_t(this.secondaryColor,{h:64}),this.fillType4=_t(this.primaryColor,{h:-64}),this.fillType5=_t(this.secondaryColor,{h:-64}),this.fillType6=_t(this.primaryColor,{h:128}),this.fillType7=_t(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||_t(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||_t(this.primaryColor,{l:-10}),this.pie5=this.pie5||_t(this.secondaryColor,{l:-30}),this.pie6=this.pie6||_t(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||_t(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||_t(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||_t(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||_t(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||_t(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||_t(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||_t(this.primaryColor,{h:-30}),this.git4=this.git4||_t(this.primaryColor,{h:-60}),this.git5=this.git5||_t(this.primaryColor,{h:-90}),this.git6=this.git6||_t(this.primaryColor,{h:60}),this.git7=this.git7||_t(this.primaryColor,{h:120}),this.darkMode?(this.git0=ce(this.git0,25),this.git1=ce(this.git1,25),this.git2=ce(this.git2,25),this.git3=ce(this.git3,25),this.git4=ce(this.git4,25),this.git5=ce(this.git5,25),this.git6=ce(this.git6,25),this.git7=ce(this.git7,25)):(this.git0=be(this.git0,25),this.git1=be(this.git1,25),this.git2=be(this.git2,25),this.git3=be(this.git3,25),this.git4=be(this.git4,25),this.git5=be(this.git5,25),this.git6=be(this.git6,25),this.git7=be(this.git7,25)),this.gitInv0=this.gitInv0||be(Yt(this.git0),25),this.gitInv1=this.gitInv1||Yt(this.git1),this.gitInv2=this.gitInv2||Yt(this.git2),this.gitInv3=this.gitInv3||Yt(this.git3),this.gitInv4=this.gitInv4||Yt(this.git4),this.gitInv5=this.gitInv5||Yt(this.git5),this.gitInv6=this.gitInv6||Yt(this.git6),this.gitInv7=this.gitInv7||Yt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Yt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Yt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||c2,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||l2}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}}const slt=t=>{const e=new alt;return e.calculate(t),e};class olt{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=ce("#cde498",10),this.primaryBorderColor=ir(this.primaryColor,this.darkMode),this.secondaryBorderColor=ir(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ir(this.tertiaryColor,this.darkMode),this.primaryTextColor=Yt(this.primaryColor),this.secondaryTextColor=Yt(this.secondaryColor),this.tertiaryTextColor=Yt(this.primaryColor),this.lineColor=Yt(this.background),this.textColor=Yt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||_t(this.primaryColor,{h:30}),this.cScale4=this.cScale4||_t(this.primaryColor,{h:60}),this.cScale5=this.cScale5||_t(this.primaryColor,{h:90}),this.cScale6=this.cScale6||_t(this.primaryColor,{h:120}),this.cScale7=this.cScale7||_t(this.primaryColor,{h:150}),this.cScale8=this.cScale8||_t(this.primaryColor,{h:210}),this.cScale9=this.cScale9||_t(this.primaryColor,{h:270}),this.cScale10=this.cScale10||_t(this.primaryColor,{h:300}),this.cScale11=this.cScale11||_t(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||be(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||be(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=be(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||be(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||_t(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=be(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=_t(this.primaryColor,{h:64}),this.fillType3=_t(this.secondaryColor,{h:64}),this.fillType4=_t(this.primaryColor,{h:-64}),this.fillType5=_t(this.secondaryColor,{h:-64}),this.fillType6=_t(this.primaryColor,{h:128}),this.fillType7=_t(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||_t(this.primaryColor,{l:-30}),this.pie5=this.pie5||_t(this.secondaryColor,{l:-30}),this.pie6=this.pie6||_t(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||_t(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||_t(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||_t(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||_t(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||_t(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||_t(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||_t(this.primaryColor,{h:-30}),this.git4=this.git4||_t(this.primaryColor,{h:-60}),this.git5=this.git5||_t(this.primaryColor,{h:-90}),this.git6=this.git6||_t(this.primaryColor,{h:60}),this.git7=this.git7||_t(this.primaryColor,{h:120}),this.darkMode?(this.git0=ce(this.git0,25),this.git1=ce(this.git1,25),this.git2=ce(this.git2,25),this.git3=ce(this.git3,25),this.git4=ce(this.git4,25),this.git5=ce(this.git5,25),this.git6=ce(this.git6,25),this.git7=ce(this.git7,25)):(this.git0=be(this.git0,25),this.git1=be(this.git1,25),this.git2=be(this.git2,25),this.git3=be(this.git3,25),this.git4=be(this.git4,25),this.git5=be(this.git5,25),this.git6=be(this.git6,25),this.git7=be(this.git7,25)),this.gitInv0=this.gitInv0||Yt(this.git0),this.gitInv1=this.gitInv1||Yt(this.git1),this.gitInv2=this.gitInv2||Yt(this.git2),this.gitInv3=this.gitInv3||Yt(this.git3),this.gitInv4=this.gitInv4||Yt(this.git4),this.gitInv5=this.gitInv5||Yt(this.git5),this.gitInv6=this.gitInv6||Yt(this.git6),this.gitInv7=this.gitInv7||Yt(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||c2,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||l2}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}}const clt=t=>{const e=new olt;return e.calculate(t),e};class llt{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=ce(this.contrast,55),this.background="#ffffff",this.tertiaryColor=_t(this.primaryColor,{h:-160}),this.primaryBorderColor=ir(this.primaryColor,this.darkMode),this.secondaryBorderColor=ir(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ir(this.tertiaryColor,this.darkMode),this.primaryTextColor=Yt(this.primaryColor),this.secondaryTextColor=Yt(this.secondaryColor),this.tertiaryTextColor=Yt(this.tertiaryColor),this.lineColor=Yt(this.background),this.textColor=Yt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=ce(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Yt(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||ce(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||be(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=ce(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=ce(this.contrast,30),this.sectionBkgColor2=ce(this.contrast,30),this.taskBorderColor=be(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=ce(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=be(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=_t(this.primaryColor,{h:64}),this.fillType3=_t(this.secondaryColor,{h:64}),this.fillType4=_t(this.primaryColor,{h:-64}),this.fillType5=_t(this.secondaryColor,{h:-64}),this.fillType6=_t(this.primaryColor,{h:128}),this.fillType7=_t(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=be(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||_t(this.primaryColor,{h:-30}),this.git4=this.pie5||_t(this.primaryColor,{h:-60}),this.git5=this.pie6||_t(this.primaryColor,{h:-90}),this.git6=this.pie7||_t(this.primaryColor,{h:60}),this.git7=this.pie8||_t(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Yt(this.git0),this.gitInv1=this.gitInv1||Yt(this.git1),this.gitInv2=this.gitInv2||Yt(this.git2),this.gitInv3=this.gitInv3||Yt(this.git3),this.gitInv4=this.gitInv4||Yt(this.git4),this.gitInv5=this.gitInv5||Yt(this.git5),this.gitInv6=this.gitInv6||Yt(this.git6),this.gitInv7=this.gitInv7||Yt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||c2,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||l2}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}}const ult=t=>{const e=new llt;return e.calculate(t),e},Oa={base:{getThemeVariables:nlt},dark:{getThemeVariables:ilt},default:{getThemeVariables:slt},forest:{getThemeVariables:clt},neutral:{getThemeVariables:ult}},fs={theme:"default",themeVariables:Oa.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};fs.class&&(fs.class.arrowMarkerAbsolute=fs.arrowMarkerAbsolute);fs.gitGraph&&(fs.gitGraph.arrowMarkerAbsolute=fs.arrowMarkerAbsolute);const uI=(t,e="")=>Object.keys(t).reduce((n,r)=>Array.isArray(t[r])?n:typeof t[r]=="object"&&t[r]!==null?[...n,e+r,...uI(t[r],"")]:[...n,e+r],[]),hlt=uI(fs,""),flt=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,dlt=/\s*%%.*\n/gm,O0={},g5=function(t,e){t=t.replace(flt,"").replace(dlt,`
`);for(const[n,{detector:r}]of Object.entries(O0))if(r(t,e))return n;throw new Error(`No diagram type detected for text: ${t}`)},hI=(t,e,n)=>{if(O0[t])throw new Error(`Detector with key ${t} already exists`);O0[t]={detector:e,loader:n},Y.debug(`Detector with key ${t} added${n?" with loader":""}`)},plt=t=>O0[t].loader,kn=function(t,e,n){const{depth:r,clobber:i}=Object.assign({depth:2,clobber:!1},n);return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(a=>kn(t,a,n)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(a=>{t.indexOf(a)===-1&&t.push(a)}),t):typeof t>"u"||r<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(typeof e<"u"&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(t[a]===void 0||typeof t[a]=="object")?(t[a]===void 0&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=kn(t[a],e[a],{depth:r-1,clobber:i})):(i||typeof t[a]!="object"&&typeof e[a]!="object")&&(t[a]=e[a])}),t)};var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sm,m9;function fI(){if(m9)return Sm;m9=1;var t=typeof kf=="object"&&kf&&kf.Object===Object&&kf;return Sm=t,Sm}var Am,b9;function u2(){if(b9)return Am;b9=1;var t=fI(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Am=n,Am}var Mm,v9;function h2(){if(v9)return Mm;v9=1;var t=u2(),e=t.Symbol;return Mm=e,Mm}var Lm,_9;function glt(){if(_9)return Lm;_9=1;var t=h2(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=n.call(s,i),l=s[i];try{s[i]=void 0;var u=!0}catch{}var h=r.call(s);return u&&(o?s[i]=l:delete s[i]),h}return Lm=a,Lm}var Rm,x9;function ylt(){if(x9)return Rm;x9=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Rm=n,Rm}var Nm,w9;function kh(){if(w9)return Nm;w9=1;var t=h2(),e=glt(),n=ylt(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:r:a&&a in Object(o)?e(o):n(o)}return Nm=s,Nm}var Im,k9;function Jc(){if(k9)return Im;k9=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Im=t,Im}var Bm,T9;function y5(){if(T9)return Bm;T9=1;var t=kh(),e=Jc(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==a}return Bm=s,Bm}var Dm,E9;function mlt(){if(E9)return Dm;E9=1;var t=u2(),e=t["__core-js_shared__"];return Dm=e,Dm}var Om,C9;function blt(){if(C9)return Om;C9=1;var t=mlt(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return Om=n,Om}var Fm,S9;function vlt(){if(S9)return Fm;S9=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Fm=n,Fm}var Pm,A9;function _lt(){if(A9)return Pm;A9=1;var t=y5(),e=blt(),n=Jc(),r=vlt(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,h=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(f){if(!n(f)||e(f))return!1;var p=t(f)?h:a;return p.test(r(f))}return Pm=d,Pm}var $m,M9;function xlt(){if(M9)return $m;M9=1;function t(e,n){return e==null?void 0:e[n]}return $m=t,$m}var qm,L9;function m5(){if(L9)return qm;L9=1;var t=_lt(),e=xlt();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return qm=n,qm}var wlt=m5(),klt=wlt(Object,"create"),f2=klt,R9=f2;function Tlt(){this.__data__=R9?R9(null):{},this.size=0}var Elt=Tlt;function Clt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Slt=Clt,Alt=f2,Mlt="__lodash_hash_undefined__",Llt=Object.prototype,Rlt=Llt.hasOwnProperty;function Nlt(t){var e=this.__data__;if(Alt){var n=e[t];return n===Mlt?void 0:n}return Rlt.call(e,t)?e[t]:void 0}var Ilt=Nlt,Blt=f2,Dlt=Object.prototype,Olt=Dlt.hasOwnProperty;function Flt(t){var e=this.__data__;return Blt?e[t]!==void 0:Olt.call(e,t)}var Plt=Flt,$lt=f2,qlt="__lodash_hash_undefined__";function Vlt(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$lt&&e===void 0?qlt:e,this}var Ylt=Vlt,zlt=Elt,Ult=Slt,Wlt=Ilt,Hlt=Plt,Glt=Ylt;function tl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tl.prototype.clear=zlt;tl.prototype.delete=Ult;tl.prototype.get=Wlt;tl.prototype.has=Hlt;tl.prototype.set=Glt;var jlt=tl;function Xlt(){this.__data__=[],this.size=0}var Klt=Xlt,Vm,N9;function d2(){if(N9)return Vm;N9=1;function t(e,n){return e===n||e!==e&&n!==n}return Vm=t,Vm}var Zlt=d2();function Qlt(t,e){for(var n=t.length;n--;)if(Zlt(t[n][0],e))return n;return-1}var p2=Qlt,Jlt=p2,tut=Array.prototype,eut=tut.splice;function nut(t){var e=this.__data__,n=Jlt(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():eut.call(e,n,1),--this.size,!0}var rut=nut,iut=p2;function aut(t){var e=this.__data__,n=iut(e,t);return n<0?void 0:e[n][1]}var sut=aut,out=p2;function cut(t){return out(this.__data__,t)>-1}var lut=cut,uut=p2;function hut(t,e){var n=this.__data__,r=uut(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var fut=hut,dut=Klt,put=rut,gut=sut,yut=lut,mut=fut;function el(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}el.prototype.clear=dut;el.prototype.delete=put;el.prototype.get=gut;el.prototype.has=yut;el.prototype.set=mut;var but=el,vut=m5(),_ut=u2(),xut=vut(_ut,"Map"),wut=xut,I9=jlt,kut=but,Tut=wut;function Eut(){this.size=0,this.__data__={hash:new I9,map:new(Tut||kut),string:new I9}}var Cut=Eut;function Sut(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Aut=Sut,Mut=Aut;function Lut(t,e){var n=t.__data__;return Mut(e)?n[typeof e=="string"?"string":"hash"]:n.map}var g2=Lut,Rut=g2;function Nut(t){var e=Rut(this,t).delete(t);return this.size-=e?1:0,e}var Iut=Nut,But=g2;function Dut(t){return But(this,t).get(t)}var Out=Dut,Fut=g2;function Put(t){return Fut(this,t).has(t)}var $ut=Put,qut=g2;function Vut(t,e){var n=qut(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Yut=Vut,zut=Cut,Uut=Iut,Wut=Out,Hut=$ut,Gut=Yut;function nl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nl.prototype.clear=zut;nl.prototype.delete=Uut;nl.prototype.get=Wut;nl.prototype.has=Hut;nl.prototype.set=Gut;var jut=nl,dI=jut,Xut="Expected a function";function b5(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Xut);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(b5.Cache||dI),n}b5.Cache=dI;var y2=b5;const Kut={curveBasis:kc,curveBasisClosed:IY,curveBasisOpen:BY,curveLinear:di,curveLinearClosed:DY,curveMonotoneX:OY,curveMonotoneY:FY,curveNatural:PY,curveStep:$Y,curveStepAfter:VY,curveStepBefore:qY},Ym=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,Zut=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,Qut=function(t,e){const n=pI(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const i=n.map(a=>a.args);xo(i),r=kn(r,[...i])}else r=n.args;if(r){let i=g5(t,e);["config"].forEach(a=>{typeof r[a]<"u"&&(i==="flowchart-v2"&&(i="flowchart"),r[i]=r[a],delete r[a])})}return r},pI=function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${Zut.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),Y.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let r;const i=[];for(;(r=Ym.exec(t))!==null;)if(r.index===Ym.lastIndex&&Ym.lastIndex++,r&&!e||e&&r[1]&&r[1].match(e)||e&&r[2]&&r[2].match(e)){const a=r[1]?r[1]:r[2],s=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:a,args:s})}return i.length===0&&i.push({type:t,args:null}),i.length===1?i[0]:i}catch(n){return Y.error(`ERROR: ${n.message} - Unable to parse directive
      ${e!==null?" type:"+e:""} based on the text:${t}`),{type:null,args:null}}},Jut=function(t,e){for(let n=0;n<e.length;n++)if(e[n].match(t))return n;return-1},Zi=(t,e)=>{if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return Kut[n]||e},tht=(t,e)=>{const n=t.trim();if(n)return e.securityLevel!=="loose"?ia(n):n},eht=(t,...e)=>{const n=t.split("."),r=n.length-1,i=n[r];let a=window;for(let s=0;s<r;s++)if(a=a[n[s]],!a)return;a[i](...e)},Hu=(t,e)=>t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0,nht=t=>{let e,n=0;t.forEach(a=>{n+=Hu(a,e),e=a});let r=n/2,i;return e=void 0,t.forEach(a=>{if(e&&!i){const s=Hu(a,e);if(s<r)r-=s;else{const o=r/s;o<=0&&(i=e),o>=1&&(i={x:a.x,y:a.y}),o>0&&o<1&&(i={x:(1-o)*e.x+o*a.x,y:(1-o)*e.y+o*a.y})}}e=a}),i},rht=t=>t.length===1?t[0]:nht(t),iht=(t,e,n)=>{let r;Y.info("our points",e),e[0]!==n&&(e=e.reverse()),e.forEach(h=>{totalDistance+=Hu(h,r),r=h});let a=25,s;r=void 0,e.forEach(h=>{if(r&&!s){const d=Hu(h,r);if(d<a)a-=d;else{const f=a/d;f<=0&&(s=r),f>=1&&(s={x:h.x,y:h.y}),f>0&&f<1&&(s={x:(1-f)*r.x+f*h.x,y:(1-f)*r.y+f*h.y})}}r=h});const o=t?10:5,l=Math.atan2(e[0].y-s.y,e[0].x-s.x),u={x:0,y:0};return u.x=Math.sin(l)*o+(e[0].x+s.x)/2,u.y=-Math.cos(l)*o+(e[0].y+s.y)/2,u},aht=(t,e,n)=>{let r=JSON.parse(JSON.stringify(n)),i;Y.info("our points",r),e!=="start_left"&&e!=="start_right"&&(r=r.reverse()),r.forEach(d=>{i=d});let s=25+t,o;i=void 0,r.forEach(d=>{if(i&&!o){const f=Hu(d,i);if(f<s)s-=f;else{const p=s/f;p<=0&&(o=i),p>=1&&(o={x:d.x,y:d.y}),p>0&&p<1&&(o={x:(1-p)*i.x+p*d.x,y:(1-p)*i.y+p*d.y})}}i=d});const l=10+t*.5,u=Math.atan2(r[0].y-o.y,r[0].x-o.x),h={x:0,y:0};return h.x=Math.sin(u)*l+(r[0].x+o.x)/2,h.y=-Math.cos(u)*l+(r[0].y+o.y)/2,e==="start_left"&&(h.x=Math.sin(u+Math.PI)*l+(r[0].x+o.x)/2,h.y=-Math.cos(u+Math.PI)*l+(r[0].y+o.y)/2),e==="end_right"&&(h.x=Math.sin(u-Math.PI)*l+(r[0].x+o.x)/2-5,h.y=-Math.cos(u-Math.PI)*l+(r[0].y+o.y)/2-5),e==="end_left"&&(h.x=Math.sin(u)*l+(r[0].x+o.x)/2-5,h.y=-Math.cos(u)*l+(r[0].y+o.y)/2-5),h},ws=t=>{let e="",n="";for(let r=0;r<t.length;r++)typeof t[r]<"u"&&(t[r].startsWith("color:")||t[r].startsWith("text-align:")?n=n+t[r]+";":e=e+t[r]+";");return{style:e,labelStyle:n}};let B9=0;const gI=()=>(B9++,"id-"+Math.random().toString(36).substr(2,12)+"-"+B9);function sht(t){let e="";const n="0123456789abcdef",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}const yI=t=>sht(t.length),oht=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},cht=function(t,e){const n=e.text.replace(ge.lineBreakRegex," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.style("text-anchor",e.anchor),r.style("font-family",e.fontFamily),r.style("font-size",e.fontSize),r.style("font-weight",e.fontWeight),r.attr("fill",e.fill),typeof e.class<"u"&&r.attr("class",e.class);const i=r.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.attr("fill",e.fill),i.text(n),r},mI=y2((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),ge.lineBreakRegex.test(t)))return t;const r=t.split(" "),i=[];let a="";return r.forEach((s,o)=>{const l=Qi(`${s} `,n),u=Qi(a,n);if(l>e){const{hyphenatedStrings:f,remainingWord:p}=lht(s,e,"-",n);i.push(a,...f),a=p}else u+l>=e?(i.push(a),a=s):a=[a,s].filter(Boolean).join(" ");o+1===r.length&&i.push(a)}),i.filter(s=>s!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),lht=y2((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=t.split(""),a=[];let s="";return i.forEach((o,l)=>{const u=`${s}${o}`;if(Qi(u,r)>=e){const d=l+1,f=i.length===d,p=`${u}${n}`;a.push(f?u:p),s=""}else s=u}),{hyphenatedStrings:a,remainingWord:s}},(t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`),Vv=function(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),v5(t,e).height},Qi=function(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),v5(t,e).width},v5=y2(function(t,e){e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e);const{fontSize:n,fontFamily:r,fontWeight:i}=e;if(!t)return{width:0,height:0};const a=["sans-serif",r],s=t.split(ge.lineBreakRegex),o=[],l=Lt("body");if(!l.remove)return{width:0,height:0,lineHeight:0};const u=l.append("svg");for(const d of a){let f=0;const p={width:0,height:0,lineHeight:0};for(const y of s){const m=oht();m.text=y;const b=cht(u,m).style("font-size",n).style("font-weight",i).style("font-family",d),x=(b._groups||b)[0][0].getBBox();p.width=Math.round(Math.max(p.width,x.width)),f=Math.round(x.height),p.height+=f,p.lineHeight=Math.round(Math.max(p.lineHeight,f))}o.push(p)}u.remove();const h=isNaN(o[1].height)||isNaN(o[1].width)||isNaN(o[1].lineHeight)||o[0].height>o[1].height&&o[0].width>o[1].width&&o[0].lineHeight>o[1].lineHeight?0:1;return o[h]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),uht=class{constructor(e,n){this.deterministic=e,this.seed=n,this.count=n?n.length:0}next(){return this.deterministic?this.count++:Date.now()}};let Tf;const hht=function(t){return Tf=Tf||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Tf.innerHTML=t,unescape(Tf.textContent)},xo=t=>{if(Y.debug("directiveSanitizer called with",t),typeof t=="object"&&(t.length?t.forEach(e=>xo(e)):Object.keys(t).forEach(e=>{Y.debug("Checking key",e),e.indexOf("__")===0&&(Y.debug("sanitize deleting __ option",e),delete t[e]),e.indexOf("proto")>=0&&(Y.debug("sanitize deleting proto option",e),delete t[e]),e.indexOf("constr")>=0&&(Y.debug("sanitize deleting constr option",e),delete t[e]),e.indexOf("themeCSS")>=0&&(Y.debug("sanitizing themeCss option"),t[e]=n1(t[e])),e.indexOf("fontFamily")>=0&&(Y.debug("sanitizing fontFamily option"),t[e]=n1(t[e])),e.indexOf("altFontFamily")>=0&&(Y.debug("sanitizing altFontFamily option"),t[e]=n1(t[e])),hlt.indexOf(e)<0?(Y.debug("sanitize deleting option",e),delete t[e]):typeof t[e]=="object"&&(Y.debug("sanitize deleting object",e),xo(t[e]))})),t.themeVariables){const e=Object.keys(t.themeVariables);for(let n=0;n<e.length;n++){const r=e[n],i=t.themeVariables[r];i&&i.match&&!i.match(/^[a-zA-Z0-9#,";()%. ]+$/)&&(t.themeVariables[r]="")}}Y.debug("After sanitization",t)},n1=t=>{let e=0,n=0;for(let r=0;r<t.length;r++){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";t[r]==="{"?e++:t[r]==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t};function _5(t){return"str"in t}function fht(t){return t instanceof Error?t.message:String(t)}const Ae={assignWithDepth:kn,wrapLabel:mI,calculateTextHeight:Vv,calculateTextWidth:Qi,calculateTextDimensions:v5,detectInit:Qut,detectDirective:pI,isSubstringInArray:Jut,interpolateToCurve:Zi,calcLabelPosition:rht,calcCardinalityPosition:iht,calcTerminalLabelPosition:aht,formatUrl:tht,getStylesFromArray:ws,generateId:gI,random:yI,runFunc:eht,entityDecode:hht,initIdGenerator:uht,directiveSanitizer:xo,sanitizeCss:n1},dht="mermaid",pht="9.2.2",ght="Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",yht="./dist/mermaid.min.js",mht="./dist/mermaid.core.mjs",bht="./dist/mermaid.d.ts",vht="commonjs",_ht={".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},xht=["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],wht={clean:"rimraf dist","build:code":"node .esbuild/esbuild.cjs","build:types":"tsc -p ./tsconfig.json --emitDeclarationOnly","build:watch":"yarn build:code --watch","build:esbuild":'concurrently "yarn build:code" "yarn build:types"',build:"yarn clean; yarn build:esbuild",dev:"node .esbuild/serve.cjs","docs:build":"ts-node-esm src/docs.mts","docs:verify":"yarn docs:build --verify","todo-postbuild":"documentation build src/mermaidAPI.ts src/config.ts src/defaultConfig.ts --shallow -f md --markdown-toc false > src/docs/Setup.md && prettier --write src/docs/Setup.md",release:"yarn build",lint:"eslint --cache --ignore-path .gitignore . && yarn lint:jison && prettier --check .","lint:fix":"eslint --fix --ignore-path .gitignore . && prettier --write .","lint:jison":"ts-node-esm src/jison/lint.mts",cypress:"cypress run","cypress:open":"cypress open",e2e:"start-server-and-test dev http://localhost:9000/ cypress","todo-prepare":'concurrently "husky install" "yarn build"',"pre-commit":"lint-staged"},kht={type:"git",url:"https://github.com/mermaid-js/mermaid"},Tht="Knut Sveidqvist",Eht="MIT",Cht={ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},Sht={"@braintree/sanitize-url":"^6.0.0",d3:"^7.0.0",dagre:"^0.8.5","dagre-d3":"^0.6.4",dompurify:"2.4.0","fast-clone":"^1.5.13",graphlib:"^2.1.8",khroma:"^2.0.0",lodash:"^4.17.21","moment-mini":"^2.24.0","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2",uuid:"^9.0.0"},Aht={"@applitools/eyes-cypress":"^3.25.7","@commitlint/cli":"^17.1.2","@commitlint/config-conventional":"^17.0.0","@types/d3":"^7.4.0","@types/dompurify":"^2.3.4","@types/eslint":"^8.4.6","@types/express":"^4.17.13","@types/jsdom":"^20.0.0","@types/lodash":"^4.14.185","@types/prettier":"^2.7.0","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.37.0","@typescript-eslint/parser":"^5.37.0",concurrently:"^7.4.0",coveralls:"^3.1.1",cypress:"^10.0.0","cypress-image-snapshot":"^4.0.1",documentation:"13.2.0",esbuild:"^0.15.8",eslint:"^8.23.1","eslint-config-prettier":"^8.5.0","eslint-plugin-cypress":"^2.12.1","eslint-plugin-html":"^7.1.0","eslint-plugin-jest":"^27.0.4","eslint-plugin-jsdoc":"^39.3.6","eslint-plugin-json":"^3.1.0","eslint-plugin-markdown":"^3.0.0",express:"^4.18.1",globby:"^13.1.2",husky:"^8.0.0","identity-obj-proxy":"^3.0.0",jison:"^0.4.18","js-base64":"3.7.2",jsdom:"^20.0.0","lint-staged":"^13.0.0",moment:"^2.23.0","path-browserify":"^1.0.1",prettier:"^2.7.1","prettier-plugin-jsdoc":"^0.4.2",remark:"^14.0.2",rimraf:"^3.0.2","start-server-and-test":"^1.12.6","ts-node":"^10.9.1",typescript:"^4.8.3","unist-util-flatmap":"^1.0.0"},Mht={d3:"^7.0.0"},Lht=["dist","README.md"],Rht=["**/*.css","**/*.scss"],F0={name:dht,version:pht,description:ght,main:yht,module:mht,types:bht,type:vht,exports:_ht,keywords:xht,scripts:wht,repository:kht,author:Tht,license:Eht,standard:Cht,dependencies:Sht,devDependencies:Aht,resolutions:Mht,files:Lht,sideEffects:Rht},Oc=Object.freeze(fs);let mr=kn({},Oc),bI,Fc=[],uu=kn({},Oc);const m2=(t,e)=>{let n=kn({},t),r={};for(let i=0;i<e.length;i++){const a=e[i];xI(a),r=kn(r,a)}if(n=kn(n,r),r.theme&&r.theme in Oa){const i=kn({},bI),a=kn(i.themeVariables||{},r.themeVariables);n.theme&&n.theme in Oa&&(n.themeVariables=Oa[n.theme].getThemeVariables(a))}return uu=n,kI(uu),uu},Nht=t=>(mr=kn({},Oc),mr=kn(mr,t),t.theme&&Oa[t.theme]&&(mr.themeVariables=Oa[t.theme].getThemeVariables(t.themeVariables)),m2(mr,Fc),mr),Iht=t=>{bI=kn({},t)},Bht=t=>(mr=kn(mr,t),m2(mr,Fc),mr),vI=()=>kn({},mr),_I=t=>(kI(t),kn(uu,t),J()),J=()=>kn({},uu),xI=t=>{var e;["secure",...(e=mr.secure)!=null?e:[]].forEach(n=>{typeof t[n]<"u"&&(Y.debug(`Denied attempt to modify a secure key ${n}`,t[n]),delete t[n])}),Object.keys(t).forEach(n=>{n.indexOf("__")===0&&delete t[n]}),Object.keys(t).forEach(n=>{typeof t[n]=="string"&&(t[n].indexOf("<")>-1||t[n].indexOf(">")>-1||t[n].indexOf("url(data:")>-1)&&delete t[n],typeof t[n]=="object"&&xI(t[n])})},x5=t=>{t.fontFamily&&(t.themeVariables?t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily}):t.themeVariables={fontFamily:t.fontFamily}),Fc.push(t),m2(mr,Fc)},Gu=(t=mr)=>{Fc=[],m2(t,Fc)};var wI=(t=>(t.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",t))(wI||{});const D9={},Dht=t=>{D9[t]||(Y.warn(wI[t]),D9[t]=!0)},kI=t=>{!t||(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&Dht("LAZY_LOAD_DEPRECATED")},Oht=function(t,e){for(let n of e)t.attr(n[0],n[1])},Fht=function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):r.set("width",e),r},Ci=function(t,e,n,r){const i=Fht(e,n,r);Oht(t,i)},b2=function(t,e,n,r){const i=e.node().getBBox(),a=i.width,s=i.height;Y.info(`SVG bounds: ${a}x${s}`,i);let o=0,l=0;Y.info(`Graph bounds: ${o}x${l}`,t),o=a+n*2,l=s+n*2,Y.info(`Calculated bounds: ${o}x${l}`),Ci(e,l,o,r);const u=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;e.attr("viewBox",u)},hu=t=>`g.classGroup text {
  fill: ${t.nodeBorder};
  fill: ${t.classText};
  stroke: none;
  font-family: ${t.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${t.classText};
}
.edgeLabel .label rect {
  fill: ${t.mainBkg};
}
.label text {
  fill: ${t.classText};
}
.edgeLabel .label span {
  background: ${t.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${t.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.classGroup line {
  stroke: ${t.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${t.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${t.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

#compositionStart, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${t.lineColor} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${t.mainBkg} !important;
  stroke: ${t.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

`,TI=t=>`
  .entityBox {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${t.attributeBackgroundColorOdd};
    stroke: ${t.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${t.attributeBackgroundColorEven};
    stroke: ${t.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${t.tertiaryColor};
    opacity: 0.7;
    background-color: ${t.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${t.lineColor};
    }
`,EI=()=>"",P0=t=>`.label {
    font-family: ${t.fontFamily};
    color: ${t.nodeTextColor||t.textColor};
  }
  .cluster-label text {
    fill: ${t.titleColor};
  }
  .cluster-label span {
    color: ${t.titleColor};
  }

  .label text,span {
    fill: ${t.nodeTextColor||t.textColor};
    color: ${t.nodeTextColor||t.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${t.edgeLabelBackground};
      fill: ${t.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${t.clusterBkg};
    stroke: ${t.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  .cluster span {
    color: ${t.titleColor};
  }
  /* .cluster div {
    color: ${t.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${t.fontFamily};
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }
`,CI=t=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${t.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${t.sectionBkgColor};
  }

  .section2 {
    fill: ${t.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${t.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${t.titleColor};
  }

  .sectionTitle1 {
    fill: ${t.titleColor};
  }

  .sectionTitle2 {
    fill: ${t.titleColor};
  }

  .sectionTitle3 {
    fill: ${t.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${t.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${t.fontFamily};
      fill: ${t.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${t.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${t.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${t.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${t.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${t.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${t.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${t.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${t.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${t.taskBkgColor};
    stroke: ${t.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${t.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${t.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${t.activeTaskBkgColor};
    stroke: ${t.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${t.doneTaskBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${t.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${t.critBorderColor};
    fill: ${t.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${t.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${t.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,SI=()=>"",AI=t=>`
  .pieCircle{
    stroke: ${t.pieStrokeColor};
    stroke-width : ${t.pieStrokeWidth};
    opacity : ${t.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${t.pieTitleTextSize};
    fill: ${t.pieTitleTextColor};
    font-family: ${t.fontFamily};
  }
  .slice {
    font-family: ${t.fontFamily};
    fill: ${t.pieSectionTextColor};
    font-size:${t.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${t.pieLegendTextColor};
    font-family: ${t.fontFamily};
    font-size: ${t.pieLegendTextSize};
  }
`,MI=t=>`

  marker {
    fill: ${t.relationColor};
    stroke: ${t.relationColor};
  }

  marker.cross {
    stroke: ${t.lineColor};
  }

  svg {
    font-family: ${t.fontFamily};
    font-size: ${t.fontSize};
  }

  .reqBox {
    fill: ${t.requirementBackground};
    fill-opacity: 100%;
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${t.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${t.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${t.requirementBorderColor};
    stroke-width: ${t.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${t.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${t.relationLabelColor};
  }

`,LI=t=>`.actor {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }

  text.actor > tspan {
    fill: ${t.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${t.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${t.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${t.signalColor};
  }

  #arrowhead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .sequenceNumber {
    fill: ${t.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${t.signalColor};
  }

  #crosshead path {
    fill: ${t.signalColor};
    stroke: ${t.signalColor};
  }

  .messageText {
    fill: ${t.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${t.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${t.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${t.labelBoxBorderColor};
    fill: ${t.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${t.noteBorderColor};
    fill: ${t.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${t.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation1 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .activation2 {
    fill: ${t.activationBkgColor};
    stroke: ${t.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${t.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${t.actorBorder};
    fill: ${t.actorBkg};
    stroke-width: 2px;
  }
`,$0=t=>`
defs #statediagram-barbEnd {
    fill: ${t.transitionColor};
    stroke: ${t.transitionColor};
  }
g.stateGroup text {
  fill: ${t.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${t.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${t.stateLabelColor};
}

g.stateGroup rect {
  fill: ${t.mainBkg};
  stroke: ${t.nodeBorder};
}

g.stateGroup line {
  stroke: ${t.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${t.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${t.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${t.noteBorderColor};
  fill: ${t.noteBkgColor};

  text {
    fill: ${t.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${t.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${t.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${t.transitionLabelColor||t.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${t.transitionLabelColor||t.tertiaryTextColor};
}

.stateLabel text {
  fill: ${t.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node .fork-join {
  fill: ${t.specialStateColor};
  stroke: ${t.specialStateColor};
}

.node circle.state-end {
  fill: ${t.innerEndBackground};
  stroke: ${t.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${t.compositeBackground||t.background};
  // stroke: ${t.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${t.stateBkg||t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${t.mainBkg};
  stroke: ${t.stateBorder||t.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${t.lineColor};
}

.statediagram-cluster rect {
  fill: ${t.compositeTitleBackground};
  stroke: ${t.stateBorder||t.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${t.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${t.stateBorder||t.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${t.compositeBackground||t.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${t.altBackground?t.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${t.noteBkgColor};
  stroke: ${t.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${t.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${t.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${t.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${t.lineColor};
  stroke: ${t.lineColor};
  stroke-width: 1;
}
`,RI=t=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${t.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${t.textColor}
  }

  .legend {
    fill: ${t.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${t.textColor}
  }

  .face {
    ${t.faceColor?`fill: ${t.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${t.mainBkg};
    stroke: ${t.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${t.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${t.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${t.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${t.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${t.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${t.tertiaryColor};
    border: 1px solid ${t.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${t.fillType0?`fill: ${t.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${t.fillType0?`fill: ${t.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${t.fillType0?`fill: ${t.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${t.fillType0?`fill: ${t.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${t.fillType0?`fill: ${t.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${t.fillType0?`fill: ${t.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${t.fillType0?`fill: ${t.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${t.fillType0?`fill: ${t.fillType7}`:""};
  }

  .actor-0 {
    ${t.actor0?`fill: ${t.actor0}`:""};
  }
  .actor-1 {
    ${t.actor1?`fill: ${t.actor1}`:""};
  }
  .actor-2 {
    ${t.actor2?`fill: ${t.actor2}`:""};
  }
  .actor-3 {
    ${t.actor3?`fill: ${t.actor3}`:""};
  }
  .actor-4 {
    ${t.actor4?`fill: ${t.actor4}`:""};
  }
  .actor-5 {
    ${t.actor5?`fill: ${t.actor5}`:""};
  }
`,NI=t=>`.person {
    stroke: ${t.personBorder};
    fill: ${t.personBkg};
  }
`,r1={flowchart:P0,"flowchart-v2":P0,sequence:LI,gantt:CI,classDiagram:hu,"classDiagram-v2":hu,class:hu,stateDiagram:$0,state:$0,info:SI,pie:AI,er:TI,error:EI,journey:RI,requirement:MI,c4:NI},II=(t,e,n)=>{let r="";return t in r1&&r1[t]?r=r1[t](n):Y.warn(`No theme found for ${t}`),` {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  .error-icon {
    fill: ${n.errorBkgColor};
  }
  .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  .edge-thickness-normal {
    stroke-width: 2px;
  }
  .edge-thickness-thick {
    stroke-width: 3.5px
  }
  .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  .marker.cross {
    stroke: ${n.lineColor};
  }

  svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }

  ${r}

  ${e}
`},Pht=(t,e)=>{r1[t]=e},Ql=Y,$ht=p5,Pc=J,qht=t=>_i(t,Pc()),BI=b2,dc={},Ln=(t,e,n)=>{Ql.debug(`Registering diagram ${t}`),dc[t]&&Ql.warn(`Diagram ${t} already registered.`),dc[t]=e,n&&hI(t,n),Pht(t,e.styles),e.injectUtils&&e.injectUtils(Ql,$ht,Pc,qht,BI),Ql.debug(`Registered diagram ${t}. ${Object.keys(dc).join(", ")} diagrams registered.`)},DI=t=>{if(Ql.debug(`Getting diagram ${t}. ${Object.keys(dc).join(", ")} diagrams registered.`),t in dc)return dc[t];throw new OI(t)};class OI extends Error{constructor(e){super(`Diagram ${e} not found.`)}}var Yv=function(){var t=function(L,R,A,I){for(A=A||{},I=L.length;I--;A[L[I]]=R);return A},e=[1,4],n=[1,7],r=[1,5],i=[1,9],a=[1,6],s=[2,6],o=[1,16],l=[6,8,14,20,22,24,25,27,29,32,37,40,50,54],u=[8,14,20,22,24,25,27,29,32,37,40],h=[8,13,14,20,22,24,25,27,29,32,37,40],d=[1,26],f=[6,8,14,50,54],p=[8,14,54],y=[1,65],m=[1,66],b=[1,67],x=[8,14,33,35,42,54],k={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ID:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,";":54,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",28:"ID",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[4,1],[4,1],[4,1]],performAction:function(R,A,I,C,N,v,E){var _=v.length-1;switch(N){case 3:return v[_];case 4:return v[_-1];case 5:return C.setDirection(v[_-3]),v[_-1];case 7:C.setOptions(v[_-1]),this.$=v[_];break;case 8:v[_-1]+=v[_],this.$=v[_-1];break;case 10:this.$=[];break;case 11:v[_-1].push(v[_]),this.$=v[_-1];break;case 12:this.$=v[_-1];break;case 17:this.$=v[_].trim(),C.setAccTitle(this.$);break;case 18:case 19:this.$=v[_].trim(),C.setAccDescription(this.$);break;case 20:C.addSection(v[_].substr(8)),this.$=v[_].substr(8);break;case 22:C.checkout(v[_]);break;case 23:C.branch(v[_]);break;case 24:C.branch(v[_-2],v[_]);break;case 25:C.cherryPick(v[_],"",void 0);break;case 26:C.cherryPick(v[_-2],"",v[_]);break;case 27:case 29:C.cherryPick(v[_-2],"","");break;case 28:C.cherryPick(v[_],"",v[_-2]);break;case 30:C.merge(v[_],"","","");break;case 31:C.merge(v[_-2],v[_],"","");break;case 32:C.merge(v[_-2],"",v[_],"");break;case 33:C.merge(v[_-2],"","",v[_]);break;case 34:C.merge(v[_-4],v[_],"",v[_-2]);break;case 35:C.merge(v[_-4],"",v[_],v[_-2]);break;case 36:C.merge(v[_-4],"",v[_-2],v[_]);break;case 37:C.merge(v[_-4],v[_-2],v[_],"");break;case 38:C.merge(v[_-4],v[_-2],"",v[_]);break;case 39:C.merge(v[_-4],v[_],v[_-2],"");break;case 40:C.merge(v[_-6],v[_-4],v[_-2],v[_]);break;case 41:C.merge(v[_-6],v[_],v[_-4],v[_-2]);break;case 42:C.merge(v[_-6],v[_-4],v[_],v[_-2]);break;case 43:C.merge(v[_-6],v[_-2],v[_-4],v[_]);break;case 44:C.merge(v[_-6],v[_],v[_-2],v[_-4]);break;case 45:C.merge(v[_-6],v[_-2],v[_],v[_-4]);break;case 46:C.commit(v[_]);break;case 47:C.commit("","",C.commitType.NORMAL,v[_]);break;case 48:C.commit("","",v[_],"");break;case 49:C.commit("","",v[_],v[_-2]);break;case 50:C.commit("","",v[_-2],v[_]);break;case 51:C.commit("",v[_],C.commitType.NORMAL,"");break;case 52:C.commit("",v[_-2],C.commitType.NORMAL,v[_]);break;case 53:C.commit("",v[_],C.commitType.NORMAL,v[_-2]);break;case 54:C.commit("",v[_-2],v[_],"");break;case 55:C.commit("",v[_],v[_-2],"");break;case 56:C.commit("",v[_-4],v[_-2],v[_]);break;case 57:C.commit("",v[_-4],v[_],v[_-2]);break;case 58:C.commit("",v[_-2],v[_-4],v[_]);break;case 59:C.commit("",v[_],v[_-4],v[_-2]);break;case 60:C.commit("",v[_],v[_-2],v[_-4]);break;case 61:C.commit("",v[_-2],v[_],v[_-4]);break;case 62:C.commit(v[_],"",C.commitType.NORMAL,"");break;case 63:C.commit(v[_],"",C.commitType.NORMAL,v[_-2]);break;case 64:C.commit(v[_-2],"",C.commitType.NORMAL,v[_]);break;case 65:C.commit(v[_-2],"",v[_],"");break;case 66:C.commit(v[_],"",v[_-2],"");break;case 67:C.commit(v[_],v[_-2],C.commitType.NORMAL,"");break;case 68:C.commit(v[_-2],v[_],C.commitType.NORMAL,"");break;case 69:C.commit(v[_-4],"",v[_-2],v[_]);break;case 70:C.commit(v[_-4],"",v[_],v[_-2]);break;case 71:C.commit(v[_-2],"",v[_-4],v[_]);break;case 72:C.commit(v[_],"",v[_-4],v[_-2]);break;case 73:C.commit(v[_],"",v[_-2],v[_-4]);break;case 74:C.commit(v[_-2],"",v[_],v[_-4]);break;case 75:C.commit(v[_-4],v[_],v[_-2],"");break;case 76:C.commit(v[_-4],v[_-2],v[_],"");break;case 77:C.commit(v[_-2],v[_],v[_-4],"");break;case 78:C.commit(v[_],v[_-2],v[_-4],"");break;case 79:C.commit(v[_],v[_-4],v[_-2],"");break;case 80:C.commit(v[_-2],v[_-4],v[_],"");break;case 81:C.commit(v[_-4],v[_],C.commitType.NORMAL,v[_-2]);break;case 82:C.commit(v[_-4],v[_-2],C.commitType.NORMAL,v[_]);break;case 83:C.commit(v[_-2],v[_],C.commitType.NORMAL,v[_-4]);break;case 84:C.commit(v[_],v[_-2],C.commitType.NORMAL,v[_-4]);break;case 85:C.commit(v[_],v[_-4],C.commitType.NORMAL,v[_-2]);break;case 86:C.commit(v[_-2],v[_-4],C.commitType.NORMAL,v[_]);break;case 87:C.commit(v[_-6],v[_-4],v[_-2],v[_]);break;case 88:C.commit(v[_-6],v[_-4],v[_],v[_-2]);break;case 89:C.commit(v[_-6],v[_-2],v[_-4],v[_]);break;case 90:C.commit(v[_-6],v[_],v[_-4],v[_-2]);break;case 91:C.commit(v[_-6],v[_-2],v[_],v[_-4]);break;case 92:C.commit(v[_-6],v[_],v[_-2],v[_-4]);break;case 93:C.commit(v[_-4],v[_-6],v[_-2],v[_]);break;case 94:C.commit(v[_-4],v[_-6],v[_],v[_-2]);break;case 95:C.commit(v[_-2],v[_-6],v[_-4],v[_]);break;case 96:C.commit(v[_],v[_-6],v[_-4],v[_-2]);break;case 97:C.commit(v[_-2],v[_-6],v[_],v[_-4]);break;case 98:C.commit(v[_],v[_-6],v[_-2],v[_-4]);break;case 99:C.commit(v[_],v[_-4],v[_-2],v[_-6]);break;case 100:C.commit(v[_-2],v[_-4],v[_],v[_-6]);break;case 101:C.commit(v[_],v[_-2],v[_-4],v[_-6]);break;case 102:C.commit(v[_-2],v[_],v[_-4],v[_-6]);break;case 103:C.commit(v[_-4],v[_-2],v[_],v[_-6]);break;case 104:C.commit(v[_-4],v[_],v[_-2],v[_-6]);break;case 105:C.commit(v[_-2],v[_-4],v[_-6],v[_]);break;case 106:C.commit(v[_],v[_-4],v[_-6],v[_-2]);break;case 107:C.commit(v[_-2],v[_],v[_-6],v[_-4]);break;case 108:C.commit(v[_],v[_-2],v[_-6],v[_-4]);break;case 109:C.commit(v[_-4],v[_-2],v[_-6],v[_]);break;case 110:C.commit(v[_-4],v[_],v[_-6],v[_-2]);break;case 111:this.$="";break;case 112:this.$=v[_];break;case 113:this.$=C.commitType.NORMAL;break;case 114:this.$=C.commitType.REVERSE;break;case 115:this.$=C.commitType.HIGHLIGHT;break;case 118:C.parseDirective("%%{","open_directive");break;case 119:C.parseDirective(v[_],"type_directive");break;case 120:v[_]=v[_].trim().replace(/'/g,'"'),C.parseDirective(v[_],"arg_directive");break;case 121:C.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:e,8:n,14:r,46:8,50:i,54:a},{1:[3]},{3:10,4:2,5:3,6:e,8:n,14:r,46:8,50:i,54:a},{3:11,4:2,5:3,6:e,8:n,14:r,46:8,50:i,54:a},{7:12,8:s,9:[1,13],10:[1,14],11:15,14:o},t(l,[2,122]),t(l,[2,123]),t(l,[2,124]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:s,11:15,14:o},{9:[1,21]},t(u,[2,10],{12:22,13:[1,23]}),t(h,[2,9]),{9:[1,25],48:24,53:d},t([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:s,11:15,14:o},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},t(h,[2,8]),t(f,[2,116]),{49:45,52:[1,46]},t(f,[2,121]),{1:[2,4]},{8:[1,47]},t(u,[2,11]),{4:48,8:n,14:r,54:a},t(u,[2,13]),t(p,[2,14]),t(p,[2,15]),t(p,[2,16]),{21:[1,49]},{23:[1,50]},t(p,[2,19]),t(p,[2,20]),t(p,[2,21]),{28:[1,51]},t(p,[2,111],{41:52,33:[1,55],34:[1,57],35:[1,53],38:[1,54],42:[1,56]}),{28:[1,58]},{33:[1,59],35:[1,60]},{28:[1,61]},{48:62,53:d},{53:[2,120]},{1:[2,5]},t(u,[2,12]),t(p,[2,17]),t(p,[2,18]),t(p,[2,22]),t(p,[2,46]),{34:[1,63]},{39:64,43:y,44:m,45:b},{34:[1,68]},{34:[1,69]},t(p,[2,112]),t(p,[2,30],{33:[1,70],35:[1,72],38:[1,71]}),{34:[1,73]},{34:[1,74],36:[1,75]},t(p,[2,23],{30:[1,76]}),t(f,[2,117]),t(p,[2,47],{33:[1,78],38:[1,77],42:[1,79]}),t(p,[2,48],{33:[1,81],35:[1,80],42:[1,82]}),t(x,[2,113]),t(x,[2,114]),t(x,[2,115]),t(p,[2,51],{35:[1,83],38:[1,84],42:[1,85]}),t(p,[2,62],{33:[1,88],35:[1,86],38:[1,87]}),{34:[1,89]},{39:90,43:y,44:m,45:b},{34:[1,91]},t(p,[2,25],{35:[1,92]}),{33:[1,93]},{33:[1,94]},{31:[1,95]},{39:96,43:y,44:m,45:b},{34:[1,97]},{34:[1,98]},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{39:103,43:y,44:m,45:b},{34:[1,104]},{34:[1,105]},{39:106,43:y,44:m,45:b},{34:[1,107]},t(p,[2,31],{35:[1,109],38:[1,108]}),t(p,[2,32],{33:[1,111],35:[1,110]}),t(p,[2,33],{33:[1,112],38:[1,113]}),{34:[1,114],36:[1,115]},{34:[1,116]},{34:[1,117]},t(p,[2,24]),t(p,[2,49],{33:[1,118],42:[1,119]}),t(p,[2,53],{38:[1,120],42:[1,121]}),t(p,[2,63],{33:[1,123],38:[1,122]}),t(p,[2,50],{33:[1,124],42:[1,125]}),t(p,[2,55],{35:[1,126],42:[1,127]}),t(p,[2,66],{33:[1,129],35:[1,128]}),t(p,[2,52],{38:[1,130],42:[1,131]}),t(p,[2,54],{35:[1,132],42:[1,133]}),t(p,[2,67],{35:[1,135],38:[1,134]}),t(p,[2,64],{33:[1,137],38:[1,136]}),t(p,[2,65],{33:[1,139],35:[1,138]}),t(p,[2,68],{35:[1,141],38:[1,140]}),{39:142,43:y,44:m,45:b},{34:[1,143]},{34:[1,144]},{34:[1,145]},{34:[1,146]},{39:147,43:y,44:m,45:b},t(p,[2,26]),t(p,[2,27]),t(p,[2,28]),t(p,[2,29]),{34:[1,148]},{34:[1,149]},{39:150,43:y,44:m,45:b},{34:[1,151]},{39:152,43:y,44:m,45:b},{34:[1,153]},{34:[1,154]},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{39:160,43:y,44:m,45:b},{34:[1,161]},{34:[1,162]},{34:[1,163]},{39:164,43:y,44:m,45:b},{34:[1,165]},{39:166,43:y,44:m,45:b},{34:[1,167]},{34:[1,168]},{34:[1,169]},{39:170,43:y,44:m,45:b},{34:[1,171]},t(p,[2,37],{35:[1,172]}),t(p,[2,38],{38:[1,173]}),t(p,[2,36],{33:[1,174]}),t(p,[2,39],{35:[1,175]}),t(p,[2,34],{38:[1,176]}),t(p,[2,35],{33:[1,177]}),t(p,[2,60],{42:[1,178]}),t(p,[2,73],{33:[1,179]}),t(p,[2,61],{42:[1,180]}),t(p,[2,84],{38:[1,181]}),t(p,[2,74],{33:[1,182]}),t(p,[2,83],{38:[1,183]}),t(p,[2,59],{42:[1,184]}),t(p,[2,72],{33:[1,185]}),t(p,[2,58],{42:[1,186]}),t(p,[2,78],{35:[1,187]}),t(p,[2,71],{33:[1,188]}),t(p,[2,77],{35:[1,189]}),t(p,[2,57],{42:[1,190]}),t(p,[2,85],{38:[1,191]}),t(p,[2,56],{42:[1,192]}),t(p,[2,79],{35:[1,193]}),t(p,[2,80],{35:[1,194]}),t(p,[2,86],{38:[1,195]}),t(p,[2,70],{33:[1,196]}),t(p,[2,81],{38:[1,197]}),t(p,[2,69],{33:[1,198]}),t(p,[2,75],{35:[1,199]}),t(p,[2,76],{35:[1,200]}),t(p,[2,82],{38:[1,201]}),{34:[1,202]},{39:203,43:y,44:m,45:b},{34:[1,204]},{34:[1,205]},{39:206,43:y,44:m,45:b},{34:[1,207]},{34:[1,208]},{34:[1,209]},{34:[1,210]},{39:211,43:y,44:m,45:b},{34:[1,212]},{39:213,43:y,44:m,45:b},{34:[1,214]},{34:[1,215]},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{39:221,43:y,44:m,45:b},{34:[1,222]},{34:[1,223]},{34:[1,224]},{39:225,43:y,44:m,45:b},{34:[1,226]},{39:227,43:y,44:m,45:b},{34:[1,228]},{34:[1,229]},{34:[1,230]},{39:231,43:y,44:m,45:b},t(p,[2,40]),t(p,[2,42]),t(p,[2,41]),t(p,[2,43]),t(p,[2,45]),t(p,[2,44]),t(p,[2,101]),t(p,[2,102]),t(p,[2,99]),t(p,[2,100]),t(p,[2,104]),t(p,[2,103]),t(p,[2,108]),t(p,[2,107]),t(p,[2,106]),t(p,[2,105]),t(p,[2,110]),t(p,[2,109]),t(p,[2,98]),t(p,[2,97]),t(p,[2,96]),t(p,[2,95]),t(p,[2,93]),t(p,[2,94]),t(p,[2,92]),t(p,[2,91]),t(p,[2,90]),t(p,[2,89]),t(p,[2,87]),t(p,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(R,A){if(A.recoverable)this.trace(R);else{var I=new Error(R);throw I.hash=A,I}},parse:function(R){var A=this,I=[0],C=[],N=[null],v=[],E=this.table,_="",V=0,B=0,G=2,tt=1,ut=v.slice.call(arguments,1),X=Object.create(this.lexer),z={yy:{}};for(var j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(z.yy[j]=this.yy[j]);X.setInput(R,z.yy),z.yy.lexer=X,z.yy.parser=this,typeof X.yylloc>"u"&&(X.yylloc={});var ht=X.yylloc;v.push(ht);var it=X.options&&X.options.ranges;typeof z.yy.parseError=="function"?this.parseError=z.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function et(){var P;return P=C.pop()||X.lex()||tt,typeof P!="number"&&(P instanceof Array&&(C=P,P=C.pop()),P=A.symbols_[P]||P),P}for(var ft,st,wt,Z,F={},H,q,D,$;;){if(st=I[I.length-1],this.defaultActions[st]?wt=this.defaultActions[st]:((ft===null||typeof ft>"u")&&(ft=et()),wt=E[st]&&E[st][ft]),typeof wt>"u"||!wt.length||!wt[0]){var U="";$=[];for(H in E[st])this.terminals_[H]&&H>G&&$.push("'"+this.terminals_[H]+"'");X.showPosition?U="Parse error on line "+(V+1)+`:
`+X.showPosition()+`
Expecting `+$.join(", ")+", got '"+(this.terminals_[ft]||ft)+"'":U="Parse error on line "+(V+1)+": Unexpected "+(ft==tt?"end of input":"'"+(this.terminals_[ft]||ft)+"'"),this.parseError(U,{text:X.match,token:this.terminals_[ft]||ft,line:X.yylineno,loc:ht,expected:$})}if(wt[0]instanceof Array&&wt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+st+", token: "+ft);switch(wt[0]){case 1:I.push(ft),N.push(X.yytext),v.push(X.yylloc),I.push(wt[1]),ft=null,B=X.yyleng,_=X.yytext,V=X.yylineno,ht=X.yylloc;break;case 2:if(q=this.productions_[wt[1]][1],F.$=N[N.length-q],F._$={first_line:v[v.length-(q||1)].first_line,last_line:v[v.length-1].last_line,first_column:v[v.length-(q||1)].first_column,last_column:v[v.length-1].last_column},it&&(F._$.range=[v[v.length-(q||1)].range[0],v[v.length-1].range[1]]),Z=this.performAction.apply(F,[_,B,V,z.yy,wt[1],N,v].concat(ut)),typeof Z<"u")return Z;q&&(I=I.slice(0,-1*q*2),N=N.slice(0,-1*q),v=v.slice(0,-1*q)),I.push(this.productions_[wt[1]][0]),N.push(F.$),v.push(F._$),D=E[I[I.length-2]][I[I.length-1]],I.push(D);break;case 3:return!0}}return!0}},T=function(){var L={EOF:1,parseError:function(A,I){if(this.yy.parser)this.yy.parser.parseError(A,I);else throw new Error(A)},setInput:function(R,A){return this.yy=A||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var R=this._input[0];this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R;var A=R.match(/(?:\r\n?|\n).*/g);return A?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},unput:function(R){var A=R.length,I=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-A),this.offset-=A;var C=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),I.length-1&&(this.yylineno-=I.length-1);var N=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:I?(I.length===C.length?this.yylloc.first_column:0)+C[C.length-I.length].length-I[0].length:this.yylloc.first_column-A},this.options.ranges&&(this.yylloc.range=[N[0],N[0]+this.yyleng-A]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(R){this.unput(this.match.slice(R))},pastInput:function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var R=this.pastInput(),A=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+A+"^"},test_match:function(R,A){var I,C,N;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(N.yylloc.range=this.yylloc.range.slice(0))),C=R[0].match(/(?:\r\n?|\n).*/g),C&&(this.yylineno+=C.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:C?C[C.length-1].length-C[C.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],I=this.performAction.call(this,this.yy,this,A,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),I)return I;if(this._backtrack){for(var v in N)this[v]=N[v];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var R,A,I,C;this._more||(this.yytext="",this.match="");for(var N=this._currentRules(),v=0;v<N.length;v++)if(I=this._input.match(this.rules[N[v]]),I&&(!A||I[0].length>A[0].length)){if(A=I,C=v,this.options.backtrack_lexer){if(R=this.test_match(I,N[v]),R!==!1)return R;if(this._backtrack){A=!1;continue}else return!1}else if(!this.options.flex)break}return A?(R=this.test_match(A,N[C]),R!==!1?R:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var A=this.next();return A||this.lex()},begin:function(A){this.conditionStack.push(A)},popState:function(){var A=this.conditionStack.length-1;return A>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(A){return A=this.conditionStack.length-1-Math.abs(A||0),A>=0?this.conditionStack[A]:"INITIAL"},pushState:function(A){this.begin(A)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(A,I,C,N){switch(C){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 28;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return L}();k.lexer=T;function S(){this.yy={}}return S.prototype=k,k.Parser=S,new S}();Yv.parser=Yv;const Vht=t=>t.match(/^\s*gitGraph/)!==null;let w5="",v2="",k5="";const T5=t=>_i(t,J()),Si=function(){w5="",k5="",v2=""},Qr=function(t){w5=T5(t).replace(/^\s+/g,"")},Ai=function(){return w5||v2},Mi=function(t){k5=T5(t).replace(/\n\s+/g,`
`)},Li=function(){return k5},_2=function(t){v2=T5(t)},x2=function(){return v2};let q0=J().gitGraph.mainBranchName,Yht=J().gitGraph.mainBranchOrder,Sn={},ar=null,ju={};ju[q0]={name:q0,order:Yht};let wn={};wn[q0]=ar;let Rn=q0,FI="LR",wo=0;function E5(){return yI({length:7})}const zht=function(t,e,n){en.parseDirective(this,t,e,n)};function Uht(t,e){const n=Object.create(null);return t.reduce((r,i)=>{const a=e(i);return n[a]||(n[a]=!0,r.push(i)),r},[])}const Wht=function(t){FI=t};let PI={};const Hht=function(t){Y.debug("options str",t),t=t&&t.trim(),t=t||"{}";try{PI=JSON.parse(t)}catch(e){Y.error("error while parsing gitGraph options",e.message)}},Ght=function(){return PI},jht=function(t,e,n,r){Y.debug("Entering commit:",t,e,n,r),e=ge.sanitizeText(e,J()),t=ge.sanitizeText(t,J()),r=ge.sanitizeText(r,J());const i={id:e||wo+"-"+E5(),message:t,seq:wo++,type:n||Xu.NORMAL,tag:r||"",parents:ar==null?[]:[ar.id],branch:Rn};ar=i,Sn[i.id]=i,wn[Rn]=i.id,Y.debug("in pushCommit "+i.id)},Xht=function(t,e){if(t=ge.sanitizeText(t,J()),typeof wn[t]>"u")wn[t]=ar!=null?ar.id:null,ju[t]={name:t,order:e?parseInt(e,10):null},$I(t),Y.debug("in createBranch");else{let n=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+t+'")');throw n.hash={text:"branch "+t,token:"branch "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+t+'"']},n}},Kht=function(t,e,n,r){t=ge.sanitizeText(t,J()),e=ge.sanitizeText(e,J());const i=Sn[wn[Rn]],a=Sn[wn[t]];if(Rn===t){let o=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw o.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},o}else if(typeof i>"u"||!i){let o=new Error('Incorrect usage of "merge". Current branch ('+Rn+")has no commits");throw o.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},o}else if(typeof wn[t]>"u"){let o=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw o.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+t]},o}else if(typeof a>"u"||!a){let o=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw o.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},o}else if(i===a){let o=new Error('Incorrect usage of "merge". Both branches have same head');throw o.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},o}else if(e&&typeof Sn[e]<"u"){let o=new Error('Incorrect usage of "merge". Commit with id:'+e+" already exists, use different custom Id");throw o.hash={text:"merge "+t+e+n+r,token:"merge "+t+e+n+r,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+t+" "+e+"_UNIQUE "+n+" "+r]},o}const s={id:e||wo+"-"+E5(),message:"merged branch "+t+" into "+Rn,seq:wo++,parents:[ar==null?null:ar.id,wn[t]],branch:Rn,type:Xu.MERGE,customType:n,customId:!!e,tag:r||""};ar=s,Sn[s.id]=s,wn[Rn]=s.id,Y.debug(wn),Y.debug("in mergeBranch")},Zht=function(t,e,n){if(Y.debug("Entering cherryPick:",t,e,n),t=ge.sanitizeText(t,J()),e=ge.sanitizeText(e,J()),n=ge.sanitizeText(n,J()),!t||typeof Sn[t]>"u"){let a=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw a.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},a}let r=Sn[t],i=r.branch;if(r.type===Xu.MERGE){let a=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw a.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},a}if(!e||typeof Sn[e]>"u"){if(i===Rn){let o=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw o.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},o}const a=Sn[wn[Rn]];if(typeof a>"u"||!a){let o=new Error('Incorrect usage of "cherry-pick". Current branch ('+Rn+")has no commits");throw o.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},o}const s={id:wo+"-"+E5(),message:"cherry-picked "+r+" into "+Rn,seq:wo++,parents:[ar==null?null:ar.id,r.id],branch:Rn,type:Xu.CHERRY_PICK,tag:n!=null?n:"cherry-pick:"+r.id};ar=s,Sn[s.id]=s,wn[Rn]=s.id,Y.debug(wn),Y.debug("in cherryPick")}},$I=function(t){if(t=ge.sanitizeText(t,J()),typeof wn[t]>"u"){let e=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+t+'")');throw e.hash={text:"checkout "+t,token:"checkout "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+t+'"']},e}else{Rn=t;const e=wn[Rn];ar=Sn[e]}};function O9(t,e,n){const r=t.indexOf(e);r===-1?t.push(n):t.splice(r,1,n)}function qI(t){const e=t.reduce((i,a)=>i.seq>a.seq?i:a,t[0]);let n="";t.forEach(function(i){i===e?n+="	*":n+="	|"});const r=[n,e.id,e.seq];for(let i in wn)wn[i]===e.id&&r.push(i);if(Y.debug(r.join(" ")),e.parents&&e.parents.length==2){const i=Sn[e.parents[0]];O9(t,e,i),t.push(Sn[e.parents[1]])}else{if(e.parents.length==0)return;{const i=Sn[e.parents];O9(t,e,i)}}t=Uht(t,i=>i.id),qI(t)}const Qht=function(){Y.debug(Sn);const t=VI()[0];qI([t])},Jht=function(){Sn={},ar=null;let t=J().gitGraph.mainBranchName,e=J().gitGraph.mainBranchOrder;wn={},wn[t]=null,ju={},ju[t]={name:t,order:e},Rn=t,wo=0,Si()},tft=function(){return Object.values(ju).map((e,n)=>e.order!==null?e:{...e,order:parseFloat(`0.${n}`,10)}).sort((e,n)=>e.order-n.order).map(({name:e})=>({name:e}))},eft=function(){return wn},nft=function(){return Sn},VI=function(){const t=Object.keys(Sn).map(function(e){return Sn[e]});return t.forEach(function(e){Y.debug(e.id)}),t.sort((e,n)=>e.seq-n.seq),t},rft=function(){return Rn},ift=function(){return FI},aft=function(){return ar},Xu={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},sft={parseDirective:zht,getConfig:()=>J().gitGraph,setDirection:Wht,setOptions:Hht,getOptions:Ght,commit:jht,branch:Xht,merge:Kht,cherryPick:Zht,checkout:$I,prettyPrint:Qht,clear:Jht,getBranchesAsObjArray:tft,getBranches:eft,getCommits:nft,getCommitsArray:VI,getCurrentBranch:rft,getDirection:ift,getHead:aft,setAccTitle:Qr,getAccTitle:Ai,getAccDescription:Li,setAccDescription:Mi,commitType:Xu};function kr(t,e,n){if(typeof e.insert>"u")return;let r=t.getAccTitle(),i=t.getAccDescription();e.attr("role","img").attr("aria-labelledby","chart-title-"+n+" chart-desc-"+n),e.insert("desc",":first-child").attr("id","chart-desc-"+n).text(i),e.insert("title",":first-child").attr("id","chart-title-"+n).text(r)}let Jl={};const Sr={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},js=8;let br={},V0={},fu=[],Y0=0;const oft=()=>{br={},V0={},Jl={},Y0=0,fu=[]},cft=t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","text");let n=[];typeof t=="string"?n=t.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(t)?n=t:n=[];for(let r=0;r<n.length;r++){const i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=n[r].trim(),e.appendChild(i)}return e},F9=(t,e,n)=>{const r=Pc().gitGraph,i=t.append("g").attr("class","commit-bullets"),a=t.append("g").attr("class","commit-labels");let s=0;Object.keys(e).sort((u,h)=>e[u].seq-e[h].seq).forEach(u=>{const h=e[u],d=br[h.branch].pos,f=s+10;if(n){let p,y=typeof h.customType<"u"&&h.customType!==""?h.customType:h.type;switch(y){case Sr.NORMAL:p="commit-normal";break;case Sr.REVERSE:p="commit-reverse";break;case Sr.HIGHLIGHT:p="commit-highlight";break;case Sr.MERGE:p="commit-merge";break;case Sr.CHERRY_PICK:p="commit-cherry-pick";break;default:p="commit-normal"}if(y===Sr.HIGHLIGHT){const m=i.append("rect");m.attr("x",f-10),m.attr("y",d-10),m.attr("height",20),m.attr("width",20),m.attr("class",`commit ${h.id} commit-highlight${br[h.branch].index%js} ${p}-outer`),i.append("rect").attr("x",f-6).attr("y",d-6).attr("height",12).attr("width",12).attr("class",`commit ${h.id} commit${br[h.branch].index%js} ${p}-inner`)}else if(y===Sr.CHERRY_PICK)i.append("circle").attr("cx",f).attr("cy",d).attr("r",10).attr("class",`commit ${h.id} ${p}`),i.append("circle").attr("cx",f-3).attr("cy",d+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${h.id} ${p}`),i.append("circle").attr("cx",f+3).attr("cy",d+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${h.id} ${p}`),i.append("line").attr("x1",f+3).attr("y1",d+1).attr("x2",f).attr("y2",d-5).attr("stroke","#fff").attr("class",`commit ${h.id} ${p}`),i.append("line").attr("x1",f-3).attr("y1",d+1).attr("x2",f).attr("y2",d-5).attr("stroke","#fff").attr("class",`commit ${h.id} ${p}`);else{const m=i.append("circle");if(m.attr("cx",f),m.attr("cy",d),m.attr("r",h.type===Sr.MERGE?9:10),m.attr("class",`commit ${h.id} commit${br[h.branch].index%js}`),y===Sr.MERGE){const b=i.append("circle");b.attr("cx",f),b.attr("cy",d),b.attr("r",6),b.attr("class",`commit ${p} ${h.id} commit${br[h.branch].index%js}`)}y===Sr.REVERSE&&i.append("path").attr("d",`M ${f-5},${d-5}L${f+5},${d+5}M${f-5},${d+5}L${f+5},${d-5}`).attr("class",`commit ${p} ${h.id} commit${br[h.branch].index%js}`)}}if(V0[h.id]={x:s+10,y:d},n){if(h.type!==Sr.CHERRY_PICK&&(h.customId&&h.type===Sr.MERGE||h.type!==Sr.MERGE)&&r.showCommitLabel){const m=a.append("g"),b=m.insert("rect").attr("class","commit-label-bkg"),x=m.append("text").attr("x",s).attr("y",d+25).attr("class","commit-label").text(h.id);let k=x.node().getBBox();if(b.attr("x",s+10-k.width/2-2).attr("y",d+13.5).attr("width",k.width+2*2).attr("height",k.height+2*2),x.attr("x",s+10-k.width/2),r.rotateCommitLabel){let T=-7.5-(k.width+10)/25*9.5,S=10+k.width/25*8.5;m.attr("transform","translate("+T+", "+S+") rotate("+-45+", "+s+", "+d+")")}}if(h.tag){const m=a.insert("polygon"),b=a.append("circle"),x=a.append("text").attr("y",d-16).attr("class","tag-label").text(h.tag);let k=x.node().getBBox();x.attr("x",s+10-k.width/2);const T=k.height/2,S=d-19.2;m.attr("class","tag-label-bkg").attr("points",`
          ${s-k.width/2-4/2},${S+2}
          ${s-k.width/2-4/2},${S-2}
          ${s+10-k.width/2-4},${S-T-2}
          ${s+10+k.width/2+4},${S-T-2}
          ${s+10+k.width/2+4},${S+T+2}
          ${s+10-k.width/2-4},${S+T+2}`),b.attr("cx",s-k.width/2+4/2).attr("cy",S).attr("r",1.5).attr("class","tag-hole")}}s+=50,s>Y0&&(Y0=s)})},lft=(t,e,n)=>Object.keys(n).filter(a=>n[a].branch===e.branch&&n[a].seq>t.seq&&n[a].seq<e.seq).length>0,zv=(t,e,n)=>{const r=n||0,i=t+Math.abs(t-e)/2;if(r>5)return i;let a=!0;for(let o=0;o<fu.length;o++)Math.abs(fu[o]-i)<10&&(a=!1);if(a)return fu.push(i),i;const s=Math.abs(t-e);return zv(t,e-s/5,r+1)},uft=(t,e,n,r)=>{const i=V0[e.id],a=V0[n.id],s=lft(e,n,r);let o="",l="",u=0,h=0,d=br[n.branch].index,f;if(s){o="A 10 10, 0, 0, 0,",l="A 10 10, 0, 0, 1,",u=10,h=10,d=br[n.branch].index;const p=i.y<a.y?zv(i.y,a.y):zv(a.y,i.y);i.y<a.y?f=`M ${i.x} ${i.y} L ${i.x} ${p-u} ${o} ${i.x+h} ${p} L ${a.x-u} ${p} ${l} ${a.x} ${p+h} L ${a.x} ${a.y}`:f=`M ${i.x} ${i.y} L ${i.x} ${p+u} ${l} ${i.x+h} ${p} L ${a.x-u} ${p} ${o} ${a.x} ${p-h} L ${a.x} ${a.y}`}else i.y<a.y&&(o="A 20 20, 0, 0, 0,",u=20,h=20,d=br[n.branch].index,f=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${o} ${i.x+h} ${a.y} L ${a.x} ${a.y}`),i.y>a.y&&(o="A 20 20, 0, 0, 0,",u=20,h=20,d=br[e.branch].index,f=`M ${i.x} ${i.y} L ${a.x-u} ${i.y} ${o} ${a.x} ${i.y-h} L ${a.x} ${a.y}`),i.y===a.y&&(d=br[e.branch].index,f=`M ${i.x} ${i.y} L ${i.x} ${a.y-u} ${o} ${i.x+h} ${a.y} L ${a.x} ${a.y}`);t.append("path").attr("d",f).attr("class","arrow arrow"+d%js)},hft=(t,e)=>{const n=t.append("g").attr("class","commit-arrows");Object.keys(e).forEach(r=>{const i=e[r];i.parents&&i.parents.length>0&&i.parents.forEach(a=>{uft(n,e[a],i,e)})})},fft=(t,e)=>{const n=Pc().gitGraph,r=t.append("g");e.forEach((i,a)=>{const s=a%js,o=br[i.name].pos,l=r.append("line");l.attr("x1",0),l.attr("y1",o),l.attr("x2",Y0),l.attr("y2",o),l.attr("class","branch branch"+s),fu.push(o);let u=i.name;const h=cft(u),d=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+s);p.node().appendChild(h);let y=h.getBBox();d.attr("class","branchLabelBkg label"+s).attr("rx",4).attr("ry",4).attr("x",-y.width-4-(n.rotateCommitLabel===!0?30:0)).attr("y",-y.height/2+8).attr("width",y.width+18).attr("height",y.height+4),p.attr("transform","translate("+(-y.width-14-(n.rotateCommitLabel===!0?30:0))+", "+(o-y.height/2-1)+")"),d.attr("transform","translate("+-19+", "+(o-y.height/2)+")")})},dft=function(t,e,n,r){oft();const i=Pc(),a=Pc().gitGraph;Y.debug("in gitgraph renderer",t+`
`,"id:",e,n),Jl=r.db.getCommits();const s=r.db.getBranchesAsObjArray();let o=0;s.forEach((u,h)=>{br[u.name]={pos:o,index:h},o+=50+(a.rotateCommitLabel?40:0)});const l=Lt(`[id="${e}"]`);kr(r.db,l,e),F9(l,Jl,!1),a.showBranches&&fft(l,s),hft(l,Jl),F9(l,Jl,!0),BI(void 0,l,a.diagramPadding,i.useMaxWidth)},pft={draw:dft},gft=t=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(e=>`
        .branch-label${e} { fill: ${t["gitBranchLabel"+e]}; }
        .commit${e} { stroke: ${t["git"+e]}; fill: ${t["git"+e]}; }
        .commit-highlight${e} { stroke: ${t["gitInv"+e]}; fill: ${t["gitInv"+e]}; }
        .label${e}  { fill: ${t["git"+e]}; }
        .arrow${e} { stroke: ${t["git"+e]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${t.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelColor};}
  .commit-label-bkg { font-size: ${t.commitLabelFontSize}; fill: ${t.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${t.tagLabelFontSize}; fill: ${t.tagLabelColor};}
  .tag-label-bkg { fill: ${t.tagLabelBackground}; stroke: ${t.tagLabelBorder}; }
  .tag-hole { fill: ${t.textColor}; }

  .commit-merge {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }
  .commit-reverse {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${t.primaryColor};
    fill: ${t.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  }
`;var Ku=function(){var t=function(Vt,kt,mt,Et){for(mt=mt||{},Et=Vt.length;Et--;mt[Vt[Et]]=kt);return mt},e=[1,6],n=[1,7],r=[1,8],i=[1,9],a=[1,16],s=[1,11],o=[1,12],l=[1,13],u=[1,14],h=[1,15],d=[1,27],f=[1,33],p=[1,34],y=[1,35],m=[1,36],b=[1,37],x=[1,72],k=[1,73],T=[1,74],S=[1,75],L=[1,76],R=[1,77],A=[1,78],I=[1,38],C=[1,39],N=[1,40],v=[1,41],E=[1,42],_=[1,43],V=[1,44],B=[1,45],G=[1,46],tt=[1,47],ut=[1,48],X=[1,49],z=[1,50],j=[1,51],ht=[1,52],it=[1,53],et=[1,54],ft=[1,55],st=[1,56],wt=[1,57],Z=[1,59],F=[1,60],H=[1,61],q=[1,62],D=[1,63],$=[1,64],U=[1,65],P=[1,66],K=[1,67],ct=[1,68],Dt=[1,69],Mt=[24,52],Ot=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Ct=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],dt=[1,94],yt=[1,95],bt=[1,96],Tt=[1,97],ot=[15,24,52],le=[7,8,9,10,18,22,25,26,27,28],It=[15,24,43,52],Ht=[15,24,43,52,86,87,89,90],Xt=[15,43],Jt=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Te={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(kt,mt,Et,xt,zt,pt,fe){var gt=pt.length-1;switch(zt){case 4:xt.setDirection("TB");break;case 5:xt.setDirection("BT");break;case 6:xt.setDirection("RL");break;case 7:xt.setDirection("LR");break;case 11:xt.parseDirective("%%{","open_directive");break;case 12:break;case 13:pt[gt]=pt[gt].trim().replace(/'/g,'"'),xt.parseDirective(pt[gt],"arg_directive");break;case 14:xt.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:xt.setC4Type(pt[gt-3]);break;case 26:xt.setTitle(pt[gt].substring(6)),this.$=pt[gt].substring(6);break;case 27:xt.setAccDescription(pt[gt].substring(15)),this.$=pt[gt].substring(15);break;case 28:this.$=pt[gt].trim(),xt.setTitle(this.$);break;case 29:case 30:this.$=pt[gt].trim(),xt.setAccDescription(this.$);break;case 35:case 36:pt[gt].splice(2,0,"ENTERPRISE"),xt.addPersonOrSystemBoundary(...pt[gt]),this.$=pt[gt];break;case 37:xt.addPersonOrSystemBoundary(...pt[gt]),this.$=pt[gt];break;case 38:pt[gt].splice(2,0,"CONTAINER"),xt.addContainerBoundary(...pt[gt]),this.$=pt[gt];break;case 39:xt.addDeploymentNode("node",...pt[gt]),this.$=pt[gt];break;case 40:xt.addDeploymentNode("nodeL",...pt[gt]),this.$=pt[gt];break;case 41:xt.addDeploymentNode("nodeR",...pt[gt]),this.$=pt[gt];break;case 42:xt.popBoundaryParseStack();break;case 46:xt.addPersonOrSystem("person",...pt[gt]),this.$=pt[gt];break;case 47:xt.addPersonOrSystem("external_person",...pt[gt]),this.$=pt[gt];break;case 48:xt.addPersonOrSystem("system",...pt[gt]),this.$=pt[gt];break;case 49:xt.addPersonOrSystem("system_db",...pt[gt]),this.$=pt[gt];break;case 50:xt.addPersonOrSystem("system_queue",...pt[gt]),this.$=pt[gt];break;case 51:xt.addPersonOrSystem("external_system",...pt[gt]),this.$=pt[gt];break;case 52:xt.addPersonOrSystem("external_system_db",...pt[gt]),this.$=pt[gt];break;case 53:xt.addPersonOrSystem("external_system_queue",...pt[gt]),this.$=pt[gt];break;case 54:xt.addContainer("container",...pt[gt]),this.$=pt[gt];break;case 55:xt.addContainer("container_db",...pt[gt]),this.$=pt[gt];break;case 56:xt.addContainer("container_queue",...pt[gt]),this.$=pt[gt];break;case 57:xt.addContainer("external_container",...pt[gt]),this.$=pt[gt];break;case 58:xt.addContainer("external_container_db",...pt[gt]),this.$=pt[gt];break;case 59:xt.addContainer("external_container_queue",...pt[gt]),this.$=pt[gt];break;case 60:xt.addComponent("component",...pt[gt]),this.$=pt[gt];break;case 61:xt.addComponent("component_db",...pt[gt]),this.$=pt[gt];break;case 62:xt.addComponent("component_queue",...pt[gt]),this.$=pt[gt];break;case 63:xt.addComponent("external_component",...pt[gt]),this.$=pt[gt];break;case 64:xt.addComponent("external_component_db",...pt[gt]),this.$=pt[gt];break;case 65:xt.addComponent("external_component_queue",...pt[gt]),this.$=pt[gt];break;case 67:xt.addRel("rel",...pt[gt]),this.$=pt[gt];break;case 68:xt.addRel("birel",...pt[gt]),this.$=pt[gt];break;case 69:xt.addRel("rel_u",...pt[gt]),this.$=pt[gt];break;case 70:xt.addRel("rel_d",...pt[gt]),this.$=pt[gt];break;case 71:xt.addRel("rel_l",...pt[gt]),this.$=pt[gt];break;case 72:xt.addRel("rel_r",...pt[gt]),this.$=pt[gt];break;case 73:xt.addRel("rel_b",...pt[gt]),this.$=pt[gt];break;case 74:pt[gt].splice(0,1),xt.addRel("rel",...pt[gt]),this.$=pt[gt];break;case 75:xt.updateElStyle("update_el_style",...pt[gt]),this.$=pt[gt];break;case 76:xt.updateRelStyle("update_rel_style",...pt[gt]),this.$=pt[gt];break;case 77:xt.updateLayoutConfig("update_layout_config",...pt[gt]),this.$=pt[gt];break;case 78:this.$=[pt[gt]];break;case 79:pt[gt].unshift(pt[gt-1]),this.$=pt[gt];break;case 80:case 82:this.$=pt[gt].trim();break;case 81:let re={};re[pt[gt-1].trim()]=pt[gt].trim(),this.$=re;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:a,22:s,25:o,26:l,27:u,28:h},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:a,22:s,25:o,26:l,27:u,28:h},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:d},t([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:f,33:p,34:y,36:m,38:b,39:58,40:70,42:71,44:x,46:k,47:T,48:S,49:L,50:R,51:A,53:32,54:I,55:C,56:N,57:v,58:E,59:_,60:V,61:B,62:G,63:tt,64:ut,65:X,66:z,67:j,68:ht,69:it,70:et,71:ft,72:st,73:wt,74:Z,75:F,76:H,77:q,78:D,79:$,80:U,81:P,82:K,83:ct,84:Dt},{23:79,29:29,30:30,31:31,32:f,33:p,34:y,36:m,38:b,39:58,40:70,42:71,44:x,46:k,47:T,48:S,49:L,50:R,51:A,53:32,54:I,55:C,56:N,57:v,58:E,59:_,60:V,61:B,62:G,63:tt,64:ut,65:X,66:z,67:j,68:ht,69:it,70:et,71:ft,72:st,73:wt,74:Z,75:F,76:H,77:q,78:D,79:$,80:U,81:P,82:K,83:ct,84:Dt},{23:80,29:29,30:30,31:31,32:f,33:p,34:y,36:m,38:b,39:58,40:70,42:71,44:x,46:k,47:T,48:S,49:L,50:R,51:A,53:32,54:I,55:C,56:N,57:v,58:E,59:_,60:V,61:B,62:G,63:tt,64:ut,65:X,66:z,67:j,68:ht,69:it,70:et,71:ft,72:st,73:wt,74:Z,75:F,76:H,77:q,78:D,79:$,80:U,81:P,82:K,83:ct,84:Dt},{23:81,29:29,30:30,31:31,32:f,33:p,34:y,36:m,38:b,39:58,40:70,42:71,44:x,46:k,47:T,48:S,49:L,50:R,51:A,53:32,54:I,55:C,56:N,57:v,58:E,59:_,60:V,61:B,62:G,63:tt,64:ut,65:X,66:z,67:j,68:ht,69:it,70:et,71:ft,72:st,73:wt,74:Z,75:F,76:H,77:q,78:D,79:$,80:U,81:P,82:K,83:ct,84:Dt},{23:82,29:29,30:30,31:31,32:f,33:p,34:y,36:m,38:b,39:58,40:70,42:71,44:x,46:k,47:T,48:S,49:L,50:R,51:A,53:32,54:I,55:C,56:N,57:v,58:E,59:_,60:V,61:B,62:G,63:tt,64:ut,65:X,66:z,67:j,68:ht,69:it,70:et,71:ft,72:st,73:wt,74:Z,75:F,76:H,77:q,78:D,79:$,80:U,81:P,82:K,83:ct,84:Dt},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},t(Mt,[2,20],{53:32,39:58,40:70,42:71,30:87,44:x,46:k,47:T,48:S,49:L,50:R,51:A,54:I,55:C,56:N,57:v,58:E,59:_,60:V,61:B,62:G,63:tt,64:ut,65:X,66:z,67:j,68:ht,69:it,70:et,71:ft,72:st,73:wt,74:Z,75:F,76:H,77:q,78:D,79:$,80:U,81:P,82:K,83:ct,84:Dt}),t(Mt,[2,21]),t(Ot,[2,23],{15:[1,88]}),t(Mt,[2,43],{15:[1,89]}),t(Ct,[2,26]),t(Ct,[2,27]),{35:[1,90]},{37:[1,91]},t(Ct,[2,30]),{45:92,85:93,86:dt,87:yt,89:bt,90:Tt},{45:98,85:93,86:dt,87:yt,89:bt,90:Tt},{45:99,85:93,86:dt,87:yt,89:bt,90:Tt},{45:100,85:93,86:dt,87:yt,89:bt,90:Tt},{45:101,85:93,86:dt,87:yt,89:bt,90:Tt},{45:102,85:93,86:dt,87:yt,89:bt,90:Tt},{45:103,85:93,86:dt,87:yt,89:bt,90:Tt},{45:104,85:93,86:dt,87:yt,89:bt,90:Tt},{45:105,85:93,86:dt,87:yt,89:bt,90:Tt},{45:106,85:93,86:dt,87:yt,89:bt,90:Tt},{45:107,85:93,86:dt,87:yt,89:bt,90:Tt},{45:108,85:93,86:dt,87:yt,89:bt,90:Tt},{45:109,85:93,86:dt,87:yt,89:bt,90:Tt},{45:110,85:93,86:dt,87:yt,89:bt,90:Tt},{45:111,85:93,86:dt,87:yt,89:bt,90:Tt},{45:112,85:93,86:dt,87:yt,89:bt,90:Tt},{45:113,85:93,86:dt,87:yt,89:bt,90:Tt},{45:114,85:93,86:dt,87:yt,89:bt,90:Tt},{45:115,85:93,86:dt,87:yt,89:bt,90:Tt},{45:116,85:93,86:dt,87:yt,89:bt,90:Tt},t(ot,[2,66]),{45:117,85:93,86:dt,87:yt,89:bt,90:Tt},{45:118,85:93,86:dt,87:yt,89:bt,90:Tt},{45:119,85:93,86:dt,87:yt,89:bt,90:Tt},{45:120,85:93,86:dt,87:yt,89:bt,90:Tt},{45:121,85:93,86:dt,87:yt,89:bt,90:Tt},{45:122,85:93,86:dt,87:yt,89:bt,90:Tt},{45:123,85:93,86:dt,87:yt,89:bt,90:Tt},{45:124,85:93,86:dt,87:yt,89:bt,90:Tt},{45:125,85:93,86:dt,87:yt,89:bt,90:Tt},{45:126,85:93,86:dt,87:yt,89:bt,90:Tt},{45:127,85:93,86:dt,87:yt,89:bt,90:Tt},{30:128,39:58,40:70,42:71,44:x,46:k,47:T,48:S,49:L,50:R,51:A,53:32,54:I,55:C,56:N,57:v,58:E,59:_,60:V,61:B,62:G,63:tt,64:ut,65:X,66:z,67:j,68:ht,69:it,70:et,71:ft,72:st,73:wt,74:Z,75:F,76:H,77:q,78:D,79:$,80:U,81:P,82:K,83:ct,84:Dt},{15:[1,130],43:[1,129]},{45:131,85:93,86:dt,87:yt,89:bt,90:Tt},{45:132,85:93,86:dt,87:yt,89:bt,90:Tt},{45:133,85:93,86:dt,87:yt,89:bt,90:Tt},{45:134,85:93,86:dt,87:yt,89:bt,90:Tt},{45:135,85:93,86:dt,87:yt,89:bt,90:Tt},{45:136,85:93,86:dt,87:yt,89:bt,90:Tt},{45:137,85:93,86:dt,87:yt,89:bt,90:Tt},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},t(le,[2,9]),{14:142,21:d},{21:[2,13]},{1:[2,15]},t(Mt,[2,22]),t(Ot,[2,24],{31:31,29:143,32:f,33:p,34:y,36:m,38:b}),t(Mt,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:f,33:p,34:y,36:m,38:b,44:x,46:k,47:T,48:S,49:L,50:R,51:A,54:I,55:C,56:N,57:v,58:E,59:_,60:V,61:B,62:G,63:tt,64:ut,65:X,66:z,67:j,68:ht,69:it,70:et,71:ft,72:st,73:wt,74:Z,75:F,76:H,77:q,78:D,79:$,80:U,81:P,82:K,83:ct,84:Dt}),t(Ct,[2,28]),t(Ct,[2,29]),t(ot,[2,46]),t(It,[2,78],{85:93,45:145,86:dt,87:yt,89:bt,90:Tt}),t(Ht,[2,80]),{88:[1,146]},t(Ht,[2,82]),t(Ht,[2,83]),t(ot,[2,47]),t(ot,[2,48]),t(ot,[2,49]),t(ot,[2,50]),t(ot,[2,51]),t(ot,[2,52]),t(ot,[2,53]),t(ot,[2,54]),t(ot,[2,55]),t(ot,[2,56]),t(ot,[2,57]),t(ot,[2,58]),t(ot,[2,59]),t(ot,[2,60]),t(ot,[2,61]),t(ot,[2,62]),t(ot,[2,63]),t(ot,[2,64]),t(ot,[2,65]),t(ot,[2,67]),t(ot,[2,68]),t(ot,[2,69]),t(ot,[2,70]),t(ot,[2,71]),t(ot,[2,72]),t(ot,[2,73]),t(ot,[2,74]),t(ot,[2,75]),t(ot,[2,76]),t(ot,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},t(Xt,[2,35]),t(Xt,[2,36]),t(Xt,[2,37]),t(Xt,[2,38]),t(Xt,[2,39]),t(Xt,[2,40]),t(Xt,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},t(Ot,[2,25]),t(Mt,[2,45]),t(It,[2,79]),t(Ht,[2,81]),t(ot,[2,31]),t(ot,[2,42]),t(Jt,[2,32]),t(Jt,[2,33],{15:[1,152]}),t(le,[2,10]),t(Jt,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(kt,mt){if(mt.recoverable)this.trace(kt);else{var Et=new Error(kt);throw Et.hash=mt,Et}},parse:function(kt){var mt=this,Et=[0],xt=[],zt=[null],pt=[],fe=this.table,gt="",re=0,_e=0,ye=2,ve=1,Ee=pt.slice.call(arguments,1),Wt=Object.create(this.lexer),se={yy:{}};for(var me in this.yy)Object.prototype.hasOwnProperty.call(this.yy,me)&&(se.yy[me]=this.yy[me]);Wt.setInput(kt,se.yy),se.yy.lexer=Wt,se.yy.parser=this,typeof Wt.yylloc>"u"&&(Wt.yylloc={});var he=Wt.yylloc;pt.push(he);var oa=Wt.options&&Wt.options.ranges;typeof se.yy.parseError=="function"?this.parseError=se.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Vn(){var te;return te=xt.pop()||Wt.lex()||ve,typeof te!="number"&&(te instanceof Array&&(xt=te,te=xt.pop()),te=mt.symbols_[te]||te),te}for(var De,oe,Je,En,Ze={},tn,$t,nt,St;;){if(oe=Et[Et.length-1],this.defaultActions[oe]?Je=this.defaultActions[oe]:((De===null||typeof De>"u")&&(De=Vn()),Je=fe[oe]&&fe[oe][De]),typeof Je>"u"||!Je.length||!Je[0]){var Rt="";St=[];for(tn in fe[oe])this.terminals_[tn]&&tn>ye&&St.push("'"+this.terminals_[tn]+"'");Wt.showPosition?Rt="Parse error on line "+(re+1)+`:
`+Wt.showPosition()+`
Expecting `+St.join(", ")+", got '"+(this.terminals_[De]||De)+"'":Rt="Parse error on line "+(re+1)+": Unexpected "+(De==ve?"end of input":"'"+(this.terminals_[De]||De)+"'"),this.parseError(Rt,{text:Wt.match,token:this.terminals_[De]||De,line:Wt.yylineno,loc:he,expected:St})}if(Je[0]instanceof Array&&Je.length>1)throw new Error("Parse Error: multiple actions possible at state: "+oe+", token: "+De);switch(Je[0]){case 1:Et.push(De),zt.push(Wt.yytext),pt.push(Wt.yylloc),Et.push(Je[1]),De=null,_e=Wt.yyleng,gt=Wt.yytext,re=Wt.yylineno,he=Wt.yylloc;break;case 2:if($t=this.productions_[Je[1]][1],Ze.$=zt[zt.length-$t],Ze._$={first_line:pt[pt.length-($t||1)].first_line,last_line:pt[pt.length-1].last_line,first_column:pt[pt.length-($t||1)].first_column,last_column:pt[pt.length-1].last_column},oa&&(Ze._$.range=[pt[pt.length-($t||1)].range[0],pt[pt.length-1].range[1]]),En=this.performAction.apply(Ze,[gt,_e,re,se.yy,Je[1],zt,pt].concat(Ee)),typeof En<"u")return En;$t&&(Et=Et.slice(0,-1*$t*2),zt=zt.slice(0,-1*$t),pt=pt.slice(0,-1*$t)),Et.push(this.productions_[Je[1]][0]),zt.push(Ze.$),pt.push(Ze._$),nt=fe[Et[Et.length-2]][Et[Et.length-1]],Et.push(nt);break;case 3:return!0}}return!0}},Gt=function(){var Vt={EOF:1,parseError:function(mt,Et){if(this.yy.parser)this.yy.parser.parseError(mt,Et);else throw new Error(mt)},setInput:function(kt,mt){return this.yy=mt||this.yy||{},this._input=kt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var kt=this._input[0];this.yytext+=kt,this.yyleng++,this.offset++,this.match+=kt,this.matched+=kt;var mt=kt.match(/(?:\r\n?|\n).*/g);return mt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),kt},unput:function(kt){var mt=kt.length,Et=kt.split(/(?:\r\n?|\n)/g);this._input=kt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-mt),this.offset-=mt;var xt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Et.length-1&&(this.yylineno-=Et.length-1);var zt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Et?(Et.length===xt.length?this.yylloc.first_column:0)+xt[xt.length-Et.length].length-Et[0].length:this.yylloc.first_column-mt},this.options.ranges&&(this.yylloc.range=[zt[0],zt[0]+this.yyleng-mt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(kt){this.unput(this.match.slice(kt))},pastInput:function(){var kt=this.matched.substr(0,this.matched.length-this.match.length);return(kt.length>20?"...":"")+kt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var kt=this.match;return kt.length<20&&(kt+=this._input.substr(0,20-kt.length)),(kt.substr(0,20)+(kt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var kt=this.pastInput(),mt=new Array(kt.length+1).join("-");return kt+this.upcomingInput()+`
`+mt+"^"},test_match:function(kt,mt){var Et,xt,zt;if(this.options.backtrack_lexer&&(zt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(zt.yylloc.range=this.yylloc.range.slice(0))),xt=kt[0].match(/(?:\r\n?|\n).*/g),xt&&(this.yylineno+=xt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xt?xt[xt.length-1].length-xt[xt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+kt[0].length},this.yytext+=kt[0],this.match+=kt[0],this.matches=kt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(kt[0].length),this.matched+=kt[0],Et=this.performAction.call(this,this.yy,this,mt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Et)return Et;if(this._backtrack){for(var pt in zt)this[pt]=zt[pt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var kt,mt,Et,xt;this._more||(this.yytext="",this.match="");for(var zt=this._currentRules(),pt=0;pt<zt.length;pt++)if(Et=this._input.match(this.rules[zt[pt]]),Et&&(!mt||Et[0].length>mt[0].length)){if(mt=Et,xt=pt,this.options.backtrack_lexer){if(kt=this.test_match(Et,zt[pt]),kt!==!1)return kt;if(this._backtrack){mt=!1;continue}else return!1}else if(!this.options.flex)break}return mt?(kt=this.test_match(mt,zt[xt]),kt!==!1?kt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var mt=this.next();return mt||this.lex()},begin:function(mt){this.conditionStack.push(mt)},popState:function(){var mt=this.conditionStack.length-1;return mt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(mt){return mt=this.conditionStack.length-1-Math.abs(mt||0),mt>=0?this.conditionStack[mt]:"INITIAL"},pushState:function(mt){this.begin(mt)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(mt,Et,xt,zt){switch(xt){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return Vt}();Te.lexer=Gt;function Ft(){this.yy={}}return Ft.prototype=Te,Te.Parser=Ft,new Ft}();Ku.parser=Ku;const yft=t=>t.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let xi=[],ds=[""],sr="global",yi="",na=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Zu=[],C5="",S5=!1,z0=4,U0=2;var YI;const mft=function(){return YI},bft=function(t){YI=_i(t,J())},vft=function(t,e,n){en.parseDirective(this,t,e,n)},_ft=function(t,e,n,r,i,a,s,o,l){if(t==null||e===void 0||e===null||n===void 0||n===null||r===void 0||r===null)return;let u={};const h=Zu.find(d=>d.from===e&&d.to===n);if(h?u=h:Zu.push(u),u.type=t,u.from=e,u.to=n,u.label={text:r},i==null)u.techn={text:""};else if(typeof i=="object"){let[d,f]=Object.entries(i)[0];u[d]={text:f}}else u.techn={text:i};if(a==null)u.descr={text:""};else if(typeof a=="object"){let[d,f]=Object.entries(a)[0];u[d]={text:f}}else u.descr={text:a};if(typeof s=="object"){let[d,f]=Object.entries(s)[0];u[d]=f}else u.sprite=s;if(typeof o=="object"){let[d,f]=Object.entries(o)[0];u[d]=f}else u.tags=o;if(typeof l=="object"){let[d,f]=Object.entries(l)[0];u[d]=f}else u.link=l;u.wrap=Ns()},xft=function(t,e,n,r,i,a,s){if(e===null||n===null)return;let o={};const l=xi.find(u=>u.alias===e);if(l&&e===l.alias?o=l:(o.alias=e,xi.push(o)),n==null?o.label={text:""}:o.label={text:n},r==null)o.descr={text:""};else if(typeof r=="object"){let[u,h]=Object.entries(r)[0];o[u]={text:h}}else o.descr={text:r};if(typeof i=="object"){let[u,h]=Object.entries(i)[0];o[u]=h}else o.sprite=i;if(typeof a=="object"){let[u,h]=Object.entries(a)[0];o[u]=h}else o.tags=a;if(typeof s=="object"){let[u,h]=Object.entries(s)[0];o[u]=h}else o.link=s;o.typeC4Shape={text:t},o.parentBoundary=sr,o.wrap=Ns()},wft=function(t,e,n,r,i,a,s,o){if(e===null||n===null)return;let l={};const u=xi.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,xi.push(l)),n==null?l.label={text:""}:l.label={text:n},r==null)l.techn={text:""};else if(typeof r=="object"){let[h,d]=Object.entries(r)[0];l[h]={text:d}}else l.techn={text:r};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.sprite=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.tags=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.wrap=Ns(),l.typeC4Shape={text:t},l.parentBoundary=sr},kft=function(t,e,n,r,i,a,s,o){if(e===null||n===null)return;let l={};const u=xi.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,xi.push(l)),n==null?l.label={text:""}:l.label={text:n},r==null)l.techn={text:""};else if(typeof r=="object"){let[h,d]=Object.entries(r)[0];l[h]={text:d}}else l.techn={text:r};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof a=="object"){let[h,d]=Object.entries(a)[0];l[h]=d}else l.sprite=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.tags=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.wrap=Ns(),l.typeC4Shape={text:t},l.parentBoundary=sr},Tft=function(t,e,n,r,i){if(t===null||e===null)return;let a={};const s=na.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,na.push(a)),e==null?a.label={text:""}:a.label={text:e},n==null)a.type={text:"system"};else if(typeof n=="object"){let[o,l]=Object.entries(n)[0];a[o]={text:l}}else a.type={text:n};if(typeof r=="object"){let[o,l]=Object.entries(r)[0];a[o]=l}else a.tags=r;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];a[o]=l}else a.link=i;a.parentBoundary=sr,a.wrap=Ns(),yi=sr,sr=t,ds.push(yi)},Eft=function(t,e,n,r,i){if(t===null||e===null)return;let a={};const s=na.find(o=>o.alias===t);if(s&&t===s.alias?a=s:(a.alias=t,na.push(a)),e==null?a.label={text:""}:a.label={text:e},n==null)a.type={text:"container"};else if(typeof n=="object"){let[o,l]=Object.entries(n)[0];a[o]={text:l}}else a.type={text:n};if(typeof r=="object"){let[o,l]=Object.entries(r)[0];a[o]=l}else a.tags=r;if(typeof i=="object"){let[o,l]=Object.entries(i)[0];a[o]=l}else a.link=i;a.parentBoundary=sr,a.wrap=Ns(),yi=sr,sr=t,ds.push(yi)},Cft=function(t,e,n,r,i,a,s,o){if(e===null||n===null)return;let l={};const u=na.find(h=>h.alias===e);if(u&&e===u.alias?l=u:(l.alias=e,na.push(l)),n==null?l.label={text:""}:l.label={text:n},r==null)l.type={text:"node"};else if(typeof r=="object"){let[h,d]=Object.entries(r)[0];l[h]={text:d}}else l.type={text:r};if(i==null)l.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];l[h]={text:d}}else l.descr={text:i};if(typeof s=="object"){let[h,d]=Object.entries(s)[0];l[h]=d}else l.tags=s;if(typeof o=="object"){let[h,d]=Object.entries(o)[0];l[h]=d}else l.link=o;l.nodeType=t,l.parentBoundary=sr,l.wrap=Ns(),yi=sr,sr=e,ds.push(yi)},Sft=function(){sr=yi,ds.pop(),yi=ds.pop(),ds.push(yi)},Aft=function(t,e,n,r,i,a,s,o,l,u,h){let d=xi.find(f=>f.alias===e);if(!(d===void 0&&(d=na.find(f=>f.alias===e),d===void 0))){if(n!=null)if(typeof n=="object"){let[f,p]=Object.entries(n)[0];d[f]=p}else d.bgColor=n;if(r!=null)if(typeof r=="object"){let[f,p]=Object.entries(r)[0];d[f]=p}else d.fontColor=r;if(i!=null)if(typeof i=="object"){let[f,p]=Object.entries(i)[0];d[f]=p}else d.borderColor=i;if(a!=null)if(typeof a=="object"){let[f,p]=Object.entries(a)[0];d[f]=p}else d.shadowing=a;if(s!=null)if(typeof s=="object"){let[f,p]=Object.entries(s)[0];d[f]=p}else d.shape=s;if(o!=null)if(typeof o=="object"){let[f,p]=Object.entries(o)[0];d[f]=p}else d.sprite=o;if(l!=null)if(typeof l=="object"){let[f,p]=Object.entries(l)[0];d[f]=p}else d.techn=l;if(u!=null)if(typeof u=="object"){let[f,p]=Object.entries(u)[0];d[f]=p}else d.legendText=u;if(h!=null)if(typeof h=="object"){let[f,p]=Object.entries(h)[0];d[f]=p}else d.legendSprite=h}},Mft=function(t,e,n,r,i,a,s){const o=Zu.find(l=>l.from===e&&l.to===n);if(o!==void 0){if(r!=null)if(typeof r=="object"){let[l,u]=Object.entries(r)[0];o[l]=u}else o.textColor=r;if(i!=null)if(typeof i=="object"){let[l,u]=Object.entries(i)[0];o[l]=u}else o.lineColor=i;if(a!=null)if(typeof a=="object"){let[l,u]=Object.entries(a)[0];o[l]=parseInt(u)}else o.offsetX=parseInt(a);if(s!=null)if(typeof s=="object"){let[l,u]=Object.entries(s)[0];o[l]=parseInt(u)}else o.offsetY=parseInt(s)}},Lft=function(t,e,n){let r=z0,i=U0;if(typeof e=="object"){const a=Object.values(e)[0];r=parseInt(a)}else r=parseInt(e);if(typeof n=="object"){const a=Object.values(n)[0];i=parseInt(a)}else i=parseInt(n);r>=1&&(z0=r),i>=1&&(U0=i)},Rft=function(){return z0},Nft=function(){return U0},Ift=function(){return sr},Bft=function(){return yi},zI=function(t){return t==null?xi:xi.filter(e=>e.parentBoundary===t)},Dft=function(t){return xi.find(e=>e.alias===t)},Oft=function(t){return Object.keys(zI(t))},Fft=function(t){return t==null?na:na.filter(e=>e.parentBoundary===t)},Pft=function(){return Zu},$ft=function(){return C5},qft=function(t){S5=t},Ns=function(){return S5},Vft=function(){xi=[],na=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],yi="",sr="global",ds=[""],Zu=[],ds=[""],C5="",S5=!1,z0=4,U0=2},Yft={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},zft={FILLED:0,OPEN:1},Uft={LEFTOF:0,RIGHTOF:1,OVER:2},Wft=function(t){C5=_i(t,J())},UI={addPersonOrSystem:xft,addPersonOrSystemBoundary:Tft,addContainer:wft,addContainerBoundary:Eft,addComponent:kft,addDeploymentNode:Cft,popBoundaryParseStack:Sft,addRel:_ft,updateElStyle:Aft,updateRelStyle:Mft,updateLayoutConfig:Lft,autoWrap:Ns,setWrap:qft,getC4ShapeArray:zI,getC4Shape:Dft,getC4ShapeKeys:Oft,getBoundarys:Fft,getCurrentBoundaryParse:Ift,getParentBoundaryParse:Bft,getRels:Pft,getTitle:$ft,getC4Type:mft,getC4ShapeInRow:Rft,getC4BoundaryInRow:Nft,setAccTitle:Qr,getAccTitle:Ai,getAccDescription:Li,setAccDescription:Mi,parseDirective:vft,getConfig:()=>J().c4,clear:Vft,LINETYPE:Yft,ARROWTYPE:zft,PLACEMENT:Uft,setTitle:Wft,setC4Type:bft},A5=function(t,e){const n=t.append("rect");if(n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),e.attrs!=="undefined"&&e.attrs!==null)for(let r in e.attrs)n.attr(r,e.attrs[r]);return e.class!=="undefined"&&n.attr("class",e.class),n},WI=function(t,e,n,r,i,a){const s=t.append("image");s.attr("width",e),s.attr("height",n),s.attr("x",r),s.attr("y",i);let o=a.startsWith("data:image/png;base64")?a:ia(a);s.attr("xlink:href",o)},Hft=function(t,e,n,r){const i=t.append("use");i.attr("x",e),i.attr("y",n);var a=ia(r);i.attr("xlink:href","#"+a)},HI=function(t,e){let n=0,r=0;const i=e.text.split(ge.lineBreakRegex);let a=[],s=0,o=()=>e.y;if(typeof e.valign<"u"&&typeof e.textMargin<"u"&&e.textMargin>0)switch(e.valign){case"top":case"start":o=()=>Math.round(e.y+e.textMargin);break;case"middle":case"center":o=()=>Math.round(e.y+(n+r+e.textMargin)/2);break;case"bottom":case"end":o=()=>Math.round(e.y+(n+r+2*e.textMargin)-e.textMargin);break}if(typeof e.anchor<"u"&&typeof e.textMargin<"u"&&typeof e.width<"u")switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="text-after-edge",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="text-before-edge",e.alignmentBaseline="middle";break}for(let l=0;l<i.length;l++){let u=i[l];typeof e.textMargin<"u"&&e.textMargin===0&&typeof e.fontSize<"u"&&(s=l*e.fontSize);const h=t.append("text");if(h.attr("x",e.x),h.attr("y",o()),typeof e.anchor<"u"&&h.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),typeof e.fontFamily<"u"&&h.style("font-family",e.fontFamily),typeof e.fontSize<"u"&&h.style("font-size",e.fontSize),typeof e.fontWeight<"u"&&h.style("font-weight",e.fontWeight),typeof e.fill<"u"&&h.attr("fill",e.fill),typeof e.class<"u"&&h.attr("class",e.class),typeof e.dy<"u"?h.attr("dy",e.dy):s!==0&&h.attr("dy",s),e.tspan){const d=h.append("tspan");d.attr("x",e.x),typeof e.fill<"u"&&d.attr("fill",e.fill),d.text(u)}else h.text(u);typeof e.valign<"u"&&typeof e.textMargin<"u"&&e.textMargin>0&&(r+=(h._groups||h)[0][0].getBBox().height,n=r),a.push(h)}return a},Gft=function(t,e){function n(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}const r=t.append("polygon");return r.attr("points",n(e.x,e.y,e.width,e.height,7)),r.attr("class","labelBox"),e.y=e.y+e.height/2,HI(t,e),r},jft=(t,e,n)=>{const r=t.append("g");let i=0;for(let a of e){let s=a.textColor?a.textColor:"#444444",o=a.lineColor?a.lineColor:"#444444",l=a.offsetX?parseInt(a.offsetX):0,u=a.offsetY?parseInt(a.offsetY):0,h="";if(i===0){let f=r.append("line");f.attr("x1",a.startPoint.x),f.attr("y1",a.startPoint.y),f.attr("x2",a.endPoint.x),f.attr("y2",a.endPoint.y),f.attr("stroke-width","1"),f.attr("stroke",o),f.style("fill","none"),a.type!=="rel_b"&&f.attr("marker-end","url("+h+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&f.attr("marker-start","url("+h+"#arrowend)"),i=-1}else{let f=r.append("path");f.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&f.attr("marker-end","url("+h+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&f.attr("marker-start","url("+h+"#arrowend)")}let d=n.messageFont();Ba(n)(a.label.text,r,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+l,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+u,a.label.width,a.label.height,{fill:s},d),a.techn&&a.techn.text!==""&&(d=n.messageFont(),Ba(n)("["+a.techn.text+"]",r,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+l,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+n.messageFontSize+5+u,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},d))}},Xft=function(t,e,n){const r=t.append("g");let i=e.bgColor?e.bgColor:"none",a=e.borderColor?e.borderColor:"#444444",s=e.fontColor?e.fontColor:"black",o={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(o={"stroke-width":1});let l={x:e.x,y:e.y,fill:i,stroke:a,width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:o};A5(r,l);let u=n.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=s,Ba(n)(e.label.text,r,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},u),e.type&&e.type.text!==""&&(u=n.boundaryFont(),u.fontColor=s,Ba(n)(e.type.text,r,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},u)),e.descr&&e.descr.text!==""&&(u=n.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=s,Ba(n)(e.descr.text,r,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},u))},Kft=function(t,e,n){let r=e.bgColor?e.bgColor:n[e.typeC4Shape.text+"_bg_color"],i=e.borderColor?e.borderColor:n[e.typeC4Shape.text+"_border_color"],a=e.fontColor?e.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const o=t.append("g");o.attr("class","person-man");const l=GI();switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":l.x=e.x,l.y=e.y,l.fill=r,l.width=e.width,l.height=e.height,l.style="stroke:"+i+";stroke-width:0.5;",l.rx=2.5,l.ry=2.5,A5(o,l);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2));break}let u=s1t(n,e.typeC4Shape.text);switch(o.append("text").attr("fill",a).attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":WI(o,48,48,e.x+e.width/2-24,e.y+e.image.Y,s);break}let h=n[e.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=a,Ba(n)(e.label.text,o,e.x,e.y+e.label.Y,e.width,e.height,{fill:a},h),h=n[e.typeC4Shape.text+"Font"](),h.fontColor=a,e.thchn&&e.thchn.text!==""?Ba(n)(e.thchn.text,o,e.x,e.y+e.thchn.Y,e.width,e.height,{fill:a,"font-style":"italic"},h):e.type&&e.type.text!==""&&Ba(n)(e.type.text,o,e.x,e.y+e.type.Y,e.width,e.height,{fill:a,"font-style":"italic"},h),e.descr&&e.descr.text!==""&&(h=n.personFont(),h.fontColor=a,Ba(n)(e.descr.text,o,e.x,e.y+e.descr.Y,e.width,e.height,{fill:a},h)),e.height},Zft=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},Qft=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},Jft=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},t1t=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},e1t=function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},n1t=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},r1t=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},i1t=function(t){const n=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);n.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),n.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},a1t=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},GI=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},s1t=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),Ba=function(){function t(i,a,s,o,l,u,h){const d=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("text-anchor","middle").text(i);r(d,h)}function e(i,a,s,o,l,u,h,d){const{fontSize:f,fontFamily:p,fontWeight:y}=d,m=i.split(ge.lineBreakRegex);for(let b=0;b<m.length;b++){const x=b*f-f*(m.length-1)/2,k=a.append("text").attr("x",s+l/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",f).style("font-weight",y).style("font-family",p);k.append("tspan").attr("dy",x).text(m[b]).attr("alignment-baseline","mathematical"),r(k,h)}}function n(i,a,s,o,l,u,h,d){const f=a.append("switch"),y=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");y.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,s,o,l,u,h,d),r(y,h)}function r(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),$i={drawRect:A5,drawText:HI,drawLabel:Gft,drawBoundary:Xft,drawC4Shape:Kft,drawRels:jft,drawImage:WI,drawEmbeddedImage:Hft,insertArrowHead:t1t,insertArrowEnd:e1t,insertArrowFilledHead:n1t,insertDynamicNumber:r1t,insertArrowCrossHead:i1t,insertDatabaseIcon:Zft,insertComputerIcon:Qft,insertClockIcon:Jft,getTextObj:a1t,getNoteRect:GI,sanitizeUrl:ia};let W0=0,H0=0,jI=4,Uv=2;Ku.yy=UI;let Zt={};class XI{constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,Wv(e.db.getConfig())}setData(e,n,r,i){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=n,this.nextData.starty=this.data.starty=r,this.nextData.stopy=this.data.stopy=i}updateVal(e,n,r,i){typeof e[n]>"u"?e[n]=r:e[n]=i(r,e[n])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let n=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+e.margin*2,r=n+e.width,i=this.nextData.starty+e.margin*2,a=i+e.height;(n>=this.data.widthLimit||r>=this.data.widthLimit||this.nextData.cnt>jI)&&(n=this.nextData.startx+e.margin+Zt.nextLinePaddingX,i=this.nextData.stopy+e.margin*2,this.nextData.stopx=r=n+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=a=i+e.height,this.nextData.cnt=1),e.x=n,e.y=i,this.updateVal(this.data,"startx",n,Math.min),this.updateVal(this.data,"starty",i,Math.min),this.updateVal(this.data,"stopx",r,Math.max),this.updateVal(this.data,"stopy",a,Math.max),this.updateVal(this.nextData,"startx",n,Math.min),this.updateVal(this.nextData,"starty",i,Math.min),this.updateVal(this.nextData,"stopx",r,Math.max),this.updateVal(this.nextData,"stopy",a,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},Wv(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}}const Wv=function(t){kn(Zt,t),t.fontFamily&&(Zt.personFontFamily=Zt.systemFontFamily=Zt.messageFontFamily=t.fontFamily),t.fontSize&&(Zt.personFontSize=Zt.systemFontSize=Zt.messageFontSize=t.fontSize),t.fontWeight&&(Zt.personFontWeight=Zt.systemFontWeight=Zt.messageFontWeight=t.fontWeight)},Sl=(t,e)=>({fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}),i1=t=>({fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}),o1t=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight});function hi(t,e,n,r,i){if(!e[t].width)if(n)e[t].text=mI(e[t].text,i,r),e[t].textLines=e[t].text.split(ge.lineBreakRegex).length,e[t].width=i,e[t].height=Vv(e[t].text,r);else{let a=e[t].text.split(ge.lineBreakRegex);e[t].textLines=a.length;let s=0;e[t].height=0,e[t].width=0;for(let o=0;o<a.length;o++)e[t].width=Math.max(Qi(a[o],r),e[t].width),s=Vv(a[o],r),e[t].height=e[t].height+s}}const KI=function(t,e,n){e.x=n.data.startx,e.y=n.data.starty,e.width=n.data.stopx-n.data.startx,e.height=n.data.stopy-n.data.starty,e.label.y=Zt.c4ShapeMargin-35;let r=e.wrap&&Zt.wrap,i=i1(Zt);i.fontSize=i.fontSize+2,i.fontWeight="bold";let a=Qi(e.label.text,i);hi("label",e,r,i,a),$i.drawBoundary(t,e,Zt)},ZI=function(t,e,n,r){let i=0;for(let a=0;a<r.length;a++){i=0;const s=n[r[a]];let o=Sl(Zt,s.typeC4Shape.text);switch(o.fontSize=o.fontSize-2,s.typeC4Shape.width=Qi("<<"+s.typeC4Shape.text+">>",o),s.typeC4Shape.height=o.fontSize+2,s.typeC4Shape.Y=Zt.c4ShapePadding,i=s.typeC4Shape.Y+s.typeC4Shape.height-4,s.image={width:0,height:0,Y:0},s.typeC4Shape.text){case"person":case"external_person":s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height;break}s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=i,i=s.image.Y+s.image.height);let l=s.wrap&&Zt.wrap,u=Zt.width-Zt.c4ShapePadding*2,h=Sl(Zt,s.typeC4Shape.text);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",hi("label",s,l,h,u),s.label.Y=i+8,i=s.label.Y+s.label.height,s.type&&s.type.text!==""){s.type.text="["+s.type.text+"]";let p=Sl(Zt,s.typeC4Shape.text);hi("type",s,l,p,u),s.type.Y=i+5,i=s.type.Y+s.type.height}else if(s.techn&&s.techn.text!==""){s.techn.text="["+s.techn.text+"]";let p=Sl(Zt,s.techn.text);hi("techn",s,l,p,u),s.techn.Y=i+5,i=s.techn.Y+s.techn.height}let d=i,f=s.label.width;if(s.descr&&s.descr.text!==""){let p=Sl(Zt,s.typeC4Shape.text);hi("descr",s,l,p,u),s.descr.Y=i+20,i=s.descr.Y+s.descr.height,f=Math.max(s.label.width,s.descr.width),d=i-s.descr.textLines*5}f=f+Zt.c4ShapePadding,s.width=Math.max(s.width||Zt.width,f,Zt.width),s.height=Math.max(s.height||Zt.height,d,Zt.height),s.margin=s.margin||Zt.c4ShapeMargin,t.insert(s),$i.drawC4Shape(e,s,Zt)}t.bumpLastMargin(Zt.c4ShapeMargin)};class Vr{constructor(e,n){this.x=e,this.y=n}}let P9=function(t,e){let n=t.x,r=t.y,i=e.x,a=e.y,s=n+t.width/2,o=r+t.height/2,l=Math.abs(n-i),u=Math.abs(r-a),h=u/l,d=t.height/t.width,f=null;return r==a&&n<i?f=new Vr(n+t.width,o):r==a&&n>i?f=new Vr(n,o):n==i&&r<a?f=new Vr(s,r+t.height):n==i&&r>a&&(f=new Vr(s,r)),n>i&&r<a?d>=h?f=new Vr(n,o+h*t.width/2):f=new Vr(s-l/u*t.height/2,r+t.height):n<i&&r<a?d>=h?f=new Vr(n+t.width,o+h*t.width/2):f=new Vr(s+l/u*t.height/2,r+t.height):n<i&&r>a?d>=h?f=new Vr(n+t.width,o-h*t.width/2):f=new Vr(s+t.height/2*l/u,r):n>i&&r>a&&(d>=h?f=new Vr(n,o-t.width/2*h):f=new Vr(s-t.height/2*l/u,r)),f},c1t=function(t,e){let n={x:0,y:0};n.x=e.x+e.width/2,n.y=e.y+e.height/2;let r=P9(t,n);n.x=t.x+t.width/2,n.y=t.y+t.height/2;let i=P9(e,n);return{startPoint:r,endPoint:i}};const l1t=function(t,e,n,r){let i=0;for(let a of e){i=i+1;let s=a.wrap&&Zt.wrap,o=o1t(Zt);r.db.getC4Type()==="C4Dynamic"&&(a.label.text=i+": "+a.label.text);let u=Qi(a.label.text,o);hi("label",a,s,o,u),a.techn&&a.techn.text!==""&&(u=Qi(a.techn.text,o),hi("techn",a,s,o,u)),a.descr&&a.descr.text!==""&&(u=Qi(a.descr.text,o),hi("descr",a,s,o,u));let h=n(a.from),d=n(a.to),f=c1t(h,d);a.startPoint=f.startPoint,a.endPoint=f.endPoint}$i.drawRels(t,e,Zt)};function QI(t,e,n,r,i){let a=new XI(i);a.data.widthLimit=n.data.widthLimit/Math.min(Uv,r.length);for(let s=0;s<r.length;s++){let o=r[s],l=0;o.image={width:0,height:0,Y:0},o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=l,l=o.image.Y+o.image.height);let u=o.wrap&&Zt.wrap,h=i1(Zt);if(h.fontSize=h.fontSize+2,h.fontWeight="bold",hi("label",o,u,h,a.data.widthLimit),o.label.Y=l+8,l=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let y=i1(Zt);hi("type",o,u,y,a.data.widthLimit),o.type.Y=l+5,l=o.type.Y+o.type.height}if(o.descr&&o.descr.text!==""){let y=i1(Zt);y.fontSize=y.fontSize-2,hi("descr",o,u,y,a.data.widthLimit),o.descr.Y=l+20,l=o.descr.Y+o.descr.height}if(s==0||s%Uv===0){let y=n.data.startx+Zt.diagramMarginX,m=n.data.stopy+Zt.diagramMarginY+l;a.setData(y,y,m,m)}else{let y=a.data.stopx!==a.data.startx?a.data.stopx+Zt.diagramMarginX:a.data.startx,m=a.data.starty;a.setData(y,y,m,m)}a.name=o.alias;let d=i.db.getC4ShapeArray(o.alias),f=i.db.getC4ShapeKeys(o.alias);f.length>0&&ZI(a,t,d,f),e=o.alias;let p=i.db.getBoundarys(e);p.length>0&&QI(t,e,a,p,i),o.alias!=="global"&&KI(t,o,a),n.data.stopy=Math.max(a.data.stopy+Zt.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(a.data.stopx+Zt.c4ShapeMargin,n.data.stopx),W0=Math.max(W0,n.data.stopx),H0=Math.max(H0,n.data.stopy)}}const u1t=function(t,e,n,r){Zt=J().c4;const i=J().securityLevel;let a;i==="sandbox"&&(a=Lt("#i"+e));const s=Lt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body");let o=r.db;r.db.setWrap(Zt.wrap),jI=o.getC4ShapeInRow(),Uv=o.getC4BoundaryInRow(),Y.debug(`C:${JSON.stringify(Zt,null,2)}`);const l=i==="sandbox"?s.select(`[id="${e}"]`):Lt(`[id="${e}"]`);$i.insertComputerIcon(l),$i.insertDatabaseIcon(l),$i.insertClockIcon(l);let u=new XI(r);u.setData(Zt.diagramMarginX,Zt.diagramMarginX,Zt.diagramMarginY,Zt.diagramMarginY),u.data.widthLimit=screen.availWidth,W0=Zt.diagramMarginX,H0=Zt.diagramMarginY;const h=r.db.getTitle();let d=r.db.getBoundarys("");QI(l,"",u,d,r),$i.insertArrowHead(l),$i.insertArrowEnd(l),$i.insertArrowCrossHead(l),$i.insertArrowFilledHead(l),l1t(l,r.db.getRels(),r.db.getC4Shape,r),u.data.stopx=W0,u.data.stopy=H0;const f=u.data;let y=f.stopy-f.starty+2*Zt.diagramMarginY;const b=f.stopx-f.startx+2*Zt.diagramMarginX;h&&l.append("text").text(h).attr("x",(f.stopx-f.startx)/2-4*Zt.diagramMarginX).attr("y",f.starty+Zt.diagramMarginY),Ci(l,y,b,Zt.useMaxWidth);const x=h?60:0;l.attr("viewBox",f.startx-Zt.diagramMarginX+" -"+(Zt.diagramMarginY+x)+" "+b+" "+(y+x)),kr(Ku.yy,l,e),Y.debug("models:",f)},$9={drawPersonOrSystemArray:ZI,drawBoundary:KI,setConf:Wv,draw:u1t};var G0=function(){var t=function(Z,F,H,q){for(H=H||{},q=Z.length;q--;H[Z[q]]=F);return H},e=[1,3],n=[1,7],r=[1,8],i=[1,9],a=[1,10],s=[1,13],o=[1,12],l=[1,16,25],u=[1,20],h=[1,31],d=[1,32],f=[1,33],p=[1,35],y=[1,38],m=[1,36],b=[1,37],x=[1,39],k=[1,40],T=[1,41],S=[1,42],L=[1,45],R=[1,46],A=[1,47],I=[1,48],C=[16,25],N=[1,62],v=[1,63],E=[1,64],_=[1,65],V=[1,66],B=[1,67],G=[1,68],tt=[16,25,32,44,45,53,56,57,58,59,60,61,62,67,69],ut=[16,25,30,32,44,45,49,53,56,57,58,59,60,61,62,67,69,84,85,86,87],X=[5,8,9,10,11,16,19,23,25],z=[53,84,85,86,87],j=[53,61,62,84,85,86,87],ht=[53,56,57,58,59,60,84,85,86,87],it=[16,25,32],et=[1,100],ft={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,acc_title:38,acc_title_value:39,acc_descr:40,acc_descr_value:41,acc_descr_multiline_value:42,CLASS:43,STYLE_SEPARATOR:44,STRUCT_START:45,members:46,STRUCT_STOP:47,ANNOTATION_START:48,ANNOTATION_END:49,MEMBER:50,SEPARATOR:51,relation:52,STR:53,relationType:54,lineType:55,AGGREGATION:56,EXTENSION:57,COMPOSITION:58,DEPENDENCY:59,LOLLIPOP:60,LINE:61,DOTTED_LINE:62,CALLBACK:63,LINK:64,LINK_TARGET:65,CLICK:66,CALLBACK_NAME:67,CALLBACK_ARGS:68,HREF:69,CSSCLASS:70,commentToken:71,textToken:72,graphCodeTokens:73,textNoTagsToken:74,TAGSTART:75,TAGEND:76,"==":77,"--":78,PCT:79,DEFAULT:80,SPACE:81,MINUS:82,keywords:83,UNICODE_TEXT:84,NUM:85,ALPHA:86,BQUOTE_STR:87,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",38:"acc_title",39:"acc_title_value",40:"acc_descr",41:"acc_descr_value",42:"acc_descr_multiline_value",43:"CLASS",44:"STYLE_SEPARATOR",45:"STRUCT_START",47:"STRUCT_STOP",48:"ANNOTATION_START",49:"ANNOTATION_END",50:"MEMBER",51:"SEPARATOR",53:"STR",56:"AGGREGATION",57:"EXTENSION",58:"COMPOSITION",59:"DEPENDENCY",60:"LOLLIPOP",61:"LINE",62:"DOTTED_LINE",63:"CALLBACK",64:"LINK",65:"LINK_TARGET",66:"CLICK",67:"CALLBACK_NAME",68:"CALLBACK_ARGS",69:"HREF",70:"CSSCLASS",73:"graphCodeTokens",75:"TAGSTART",76:"TAGEND",77:"==",78:"--",79:"PCT",80:"DEFAULT",81:"SPACE",82:"MINUS",83:"keywords",84:"UNICODE_TEXT",85:"NUM",86:"ALPHA",87:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[46,1],[46,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[52,3],[52,2],[52,2],[52,1],[54,1],[54,1],[54,1],[54,1],[54,1],[55,1],[55,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[71,1],[71,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[72,1],[74,1],[74,1],[74,1],[74,1],[28,1],[28,1],[28,1],[29,1]],performAction:function(F,H,q,D,$,U,P){var K=U.length-1;switch($){case 5:D.setDirection("TB");break;case 6:D.setDirection("BT");break;case 7:D.setDirection("RL");break;case 8:D.setDirection("LR");break;case 12:D.parseDirective("%%{","open_directive");break;case 13:D.parseDirective(U[K],"type_directive");break;case 14:U[K]=U[K].trim().replace(/'/g,'"'),D.parseDirective(U[K],"arg_directive");break;case 15:D.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=U[K];break;case 22:this.$=U[K-1]+U[K];break;case 23:case 24:this.$=U[K-1]+"~"+U[K];break;case 25:D.addRelation(U[K]);break;case 26:U[K-1].title=D.cleanupLabel(U[K]),D.addRelation(U[K-1]);break;case 34:this.$=U[K].trim(),D.setAccTitle(this.$);break;case 35:case 36:this.$=U[K].trim(),D.setAccDescription(this.$);break;case 37:D.addClass(U[K]);break;case 38:D.addClass(U[K-2]),D.setCssClass(U[K-2],U[K]);break;case 39:D.addClass(U[K-3]),D.addMembers(U[K-3],U[K-1]);break;case 40:D.addClass(U[K-5]),D.setCssClass(U[K-5],U[K-3]),D.addMembers(U[K-5],U[K-1]);break;case 41:D.addAnnotation(U[K],U[K-2]);break;case 42:this.$=[U[K]];break;case 43:U[K].push(U[K-1]),this.$=U[K];break;case 44:break;case 45:D.addMember(U[K-1],D.cleanupLabel(U[K]));break;case 46:break;case 47:break;case 48:this.$={id1:U[K-2],id2:U[K],relation:U[K-1],relationTitle1:"none",relationTitle2:"none"};break;case 49:this.$={id1:U[K-3],id2:U[K],relation:U[K-1],relationTitle1:U[K-2],relationTitle2:"none"};break;case 50:this.$={id1:U[K-3],id2:U[K],relation:U[K-2],relationTitle1:"none",relationTitle2:U[K-1]};break;case 51:this.$={id1:U[K-4],id2:U[K],relation:U[K-2],relationTitle1:U[K-3],relationTitle2:U[K-1]};break;case 52:this.$={type1:U[K-2],type2:U[K],lineType:U[K-1]};break;case 53:this.$={type1:"none",type2:U[K],lineType:U[K-1]};break;case 54:this.$={type1:U[K-1],type2:"none",lineType:U[K]};break;case 55:this.$={type1:"none",type2:"none",lineType:U[K]};break;case 56:this.$=D.relationType.AGGREGATION;break;case 57:this.$=D.relationType.EXTENSION;break;case 58:this.$=D.relationType.COMPOSITION;break;case 59:this.$=D.relationType.DEPENDENCY;break;case 60:this.$=D.relationType.LOLLIPOP;break;case 61:this.$=D.lineType.LINE;break;case 62:this.$=D.lineType.DOTTED_LINE;break;case 63:case 69:this.$=U[K-2],D.setClickEvent(U[K-1],U[K]);break;case 64:case 70:this.$=U[K-3],D.setClickEvent(U[K-2],U[K-1]),D.setTooltip(U[K-2],U[K]);break;case 65:case 73:this.$=U[K-2],D.setLink(U[K-1],U[K]);break;case 66:this.$=U[K-3],D.setLink(U[K-2],U[K-1],U[K]);break;case 67:case 75:this.$=U[K-3],D.setLink(U[K-2],U[K-1]),D.setTooltip(U[K-2],U[K]);break;case 68:case 76:this.$=U[K-4],D.setLink(U[K-3],U[K-2],U[K]),D.setTooltip(U[K-3],U[K-1]);break;case 71:this.$=U[K-3],D.setClickEvent(U[K-2],U[K-1],U[K]);break;case 72:this.$=U[K-4],D.setClickEvent(U[K-3],U[K-2],U[K-1]),D.setTooltip(U[K-3],U[K]);break;case 74:this.$=U[K-3],D.setLink(U[K-2],U[K-1],U[K]);break;case 77:D.setCssClass(U[K-1],U[K]);break}},table:[{3:1,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:a,12:6,13:11,19:s,23:o},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:a,12:6,13:11,19:s,23:o},{1:[2,9]},t(l,[2,5]),t(l,[2,6]),t(l,[2,7]),t(l,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:u},t([17,22],[2,13]),{6:30,7:29,8:n,9:r,10:i,11:a,13:11,19:s,24:21,26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:h,40:d,42:f,43:p,48:y,50:m,51:b,63:x,64:k,66:T,70:S,84:L,85:R,86:A,87:I},{16:[1,49]},{18:50,21:[1,51]},{16:[2,15]},{25:[1,52]},{16:[1,53],25:[2,17]},t(C,[2,25],{32:[1,54]}),t(C,[2,27]),t(C,[2,28]),t(C,[2,29]),t(C,[2,30]),t(C,[2,31]),t(C,[2,32]),t(C,[2,33]),{39:[1,55]},{41:[1,56]},t(C,[2,36]),t(C,[2,44],{52:57,54:60,55:61,32:[1,59],53:[1,58],56:N,57:v,58:E,59:_,60:V,61:B,62:G}),{27:69,28:43,29:44,84:L,85:R,86:A,87:I},t(C,[2,46]),t(C,[2,47]),{28:70,84:L,85:R,86:A},{27:71,28:43,29:44,84:L,85:R,86:A,87:I},{27:72,28:43,29:44,84:L,85:R,86:A,87:I},{27:73,28:43,29:44,84:L,85:R,86:A,87:I},{53:[1,74]},t(tt,[2,20],{28:43,29:44,27:75,30:[1,76],84:L,85:R,86:A,87:I}),t(tt,[2,21],{30:[1,77]}),t(ut,[2,91]),t(ut,[2,92]),t(ut,[2,93]),t([16,25,30,32,44,45,53,56,57,58,59,60,61,62,67,69],[2,94]),t(X,[2,10]),{15:78,22:u},{22:[2,14]},{1:[2,16]},{6:30,7:29,8:n,9:r,10:i,11:a,13:11,19:s,24:79,25:[2,18],26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:h,40:d,42:f,43:p,48:y,50:m,51:b,63:x,64:k,66:T,70:S,84:L,85:R,86:A,87:I},t(C,[2,26]),t(C,[2,34]),t(C,[2,35]),{27:80,28:43,29:44,53:[1,81],84:L,85:R,86:A,87:I},{52:82,54:60,55:61,56:N,57:v,58:E,59:_,60:V,61:B,62:G},t(C,[2,45]),{55:83,61:B,62:G},t(z,[2,55],{54:84,56:N,57:v,58:E,59:_,60:V}),t(j,[2,56]),t(j,[2,57]),t(j,[2,58]),t(j,[2,59]),t(j,[2,60]),t(ht,[2,61]),t(ht,[2,62]),t(C,[2,37],{44:[1,85],45:[1,86]}),{49:[1,87]},{53:[1,88]},{53:[1,89]},{67:[1,90],69:[1,91]},{28:92,84:L,85:R,86:A},t(tt,[2,22]),t(tt,[2,23]),t(tt,[2,24]),{16:[1,93]},{25:[2,19]},t(it,[2,48]),{27:94,28:43,29:44,84:L,85:R,86:A,87:I},{27:95,28:43,29:44,53:[1,96],84:L,85:R,86:A,87:I},t(z,[2,54],{54:97,56:N,57:v,58:E,59:_,60:V}),t(z,[2,53]),{28:98,84:L,85:R,86:A},{46:99,50:et},{27:101,28:43,29:44,84:L,85:R,86:A,87:I},t(C,[2,63],{53:[1,102]}),t(C,[2,65],{53:[1,104],65:[1,103]}),t(C,[2,69],{53:[1,105],68:[1,106]}),t(C,[2,73],{53:[1,108],65:[1,107]}),t(C,[2,77]),t(X,[2,11]),t(it,[2,50]),t(it,[2,49]),{27:109,28:43,29:44,84:L,85:R,86:A,87:I},t(z,[2,52]),t(C,[2,38],{45:[1,110]}),{47:[1,111]},{46:112,47:[2,42],50:et},t(C,[2,41]),t(C,[2,64]),t(C,[2,66]),t(C,[2,67],{65:[1,113]}),t(C,[2,70]),t(C,[2,71],{53:[1,114]}),t(C,[2,74]),t(C,[2,75],{65:[1,115]}),t(it,[2,51]),{46:116,50:et},t(C,[2,39]),{47:[2,43]},t(C,[2,68]),t(C,[2,72]),t(C,[2,76]),{47:[1,117]},t(C,[2,40])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],51:[2,14],52:[2,16],79:[2,19],112:[2,43]},parseError:function(F,H){if(H.recoverable)this.trace(F);else{var q=new Error(F);throw q.hash=H,q}},parse:function(F){var H=this,q=[0],D=[],$=[null],U=[],P=this.table,K="",ct=0,Dt=0,Mt=2,Ot=1,Ct=U.slice.call(arguments,1),dt=Object.create(this.lexer),yt={yy:{}};for(var bt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,bt)&&(yt.yy[bt]=this.yy[bt]);dt.setInput(F,yt.yy),yt.yy.lexer=dt,yt.yy.parser=this,typeof dt.yylloc>"u"&&(dt.yylloc={});var Tt=dt.yylloc;U.push(Tt);var ot=dt.options&&dt.options.ranges;typeof yt.yy.parseError=="function"?this.parseError=yt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function le(){var Et;return Et=D.pop()||dt.lex()||Ot,typeof Et!="number"&&(Et instanceof Array&&(D=Et,Et=D.pop()),Et=H.symbols_[Et]||Et),Et}for(var It,Ht,Xt,Jt,Te={},Gt,Ft,Vt,kt;;){if(Ht=q[q.length-1],this.defaultActions[Ht]?Xt=this.defaultActions[Ht]:((It===null||typeof It>"u")&&(It=le()),Xt=P[Ht]&&P[Ht][It]),typeof Xt>"u"||!Xt.length||!Xt[0]){var mt="";kt=[];for(Gt in P[Ht])this.terminals_[Gt]&&Gt>Mt&&kt.push("'"+this.terminals_[Gt]+"'");dt.showPosition?mt="Parse error on line "+(ct+1)+`:
`+dt.showPosition()+`
Expecting `+kt.join(", ")+", got '"+(this.terminals_[It]||It)+"'":mt="Parse error on line "+(ct+1)+": Unexpected "+(It==Ot?"end of input":"'"+(this.terminals_[It]||It)+"'"),this.parseError(mt,{text:dt.match,token:this.terminals_[It]||It,line:dt.yylineno,loc:Tt,expected:kt})}if(Xt[0]instanceof Array&&Xt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ht+", token: "+It);switch(Xt[0]){case 1:q.push(It),$.push(dt.yytext),U.push(dt.yylloc),q.push(Xt[1]),It=null,Dt=dt.yyleng,K=dt.yytext,ct=dt.yylineno,Tt=dt.yylloc;break;case 2:if(Ft=this.productions_[Xt[1]][1],Te.$=$[$.length-Ft],Te._$={first_line:U[U.length-(Ft||1)].first_line,last_line:U[U.length-1].last_line,first_column:U[U.length-(Ft||1)].first_column,last_column:U[U.length-1].last_column},ot&&(Te._$.range=[U[U.length-(Ft||1)].range[0],U[U.length-1].range[1]]),Jt=this.performAction.apply(Te,[K,Dt,ct,yt.yy,Xt[1],$,U].concat(Ct)),typeof Jt<"u")return Jt;Ft&&(q=q.slice(0,-1*Ft*2),$=$.slice(0,-1*Ft),U=U.slice(0,-1*Ft)),q.push(this.productions_[Xt[1]][0]),$.push(Te.$),U.push(Te._$),Vt=P[q[q.length-2]][q[q.length-1]],q.push(Vt);break;case 3:return!0}}return!0}},st=function(){var Z={EOF:1,parseError:function(H,q){if(this.yy.parser)this.yy.parser.parseError(H,q);else throw new Error(H)},setInput:function(F,H){return this.yy=H||this.yy||{},this._input=F,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var F=this._input[0];this.yytext+=F,this.yyleng++,this.offset++,this.match+=F,this.matched+=F;var H=F.match(/(?:\r\n?|\n).*/g);return H?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),F},unput:function(F){var H=F.length,q=F.split(/(?:\r\n?|\n)/g);this._input=F+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-H),this.offset-=H;var D=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),q.length-1&&(this.yylineno-=q.length-1);var $=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:q?(q.length===D.length?this.yylloc.first_column:0)+D[D.length-q.length].length-q[0].length:this.yylloc.first_column-H},this.options.ranges&&(this.yylloc.range=[$[0],$[0]+this.yyleng-H]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(F){this.unput(this.match.slice(F))},pastInput:function(){var F=this.matched.substr(0,this.matched.length-this.match.length);return(F.length>20?"...":"")+F.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var F=this.match;return F.length<20&&(F+=this._input.substr(0,20-F.length)),(F.substr(0,20)+(F.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var F=this.pastInput(),H=new Array(F.length+1).join("-");return F+this.upcomingInput()+`
`+H+"^"},test_match:function(F,H){var q,D,$;if(this.options.backtrack_lexer&&($={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($.yylloc.range=this.yylloc.range.slice(0))),D=F[0].match(/(?:\r\n?|\n).*/g),D&&(this.yylineno+=D.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:D?D[D.length-1].length-D[D.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+F[0].length},this.yytext+=F[0],this.match+=F[0],this.matches=F,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(F[0].length),this.matched+=F[0],q=this.performAction.call(this,this.yy,this,H,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),q)return q;if(this._backtrack){for(var U in $)this[U]=$[U];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var F,H,q,D;this._more||(this.yytext="",this.match="");for(var $=this._currentRules(),U=0;U<$.length;U++)if(q=this._input.match(this.rules[$[U]]),q&&(!H||q[0].length>H[0].length)){if(H=q,D=U,this.options.backtrack_lexer){if(F=this.test_match(q,$[U]),F!==!1)return F;if(this._backtrack){H=!1;continue}else return!1}else if(!this.options.flex)break}return H?(F=this.test_match(H,$[D]),F!==!1?F:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var H=this.next();return H||this.lex()},begin:function(H){this.conditionStack.push(H)},popState:function(){var H=this.conditionStack.length-1;return H>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(H){return H=this.conditionStack.length-1-Math.abs(H||0),H>=0?this.conditionStack[H]:"INITIAL"},pushState:function(H){this.begin(H)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(H,q,D,$){switch(D){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),38;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),40;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),45;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),47;case 27:break;case 28:return"MEMBER";case 29:return 43;case 30:return 70;case 31:return 63;case 32:return 64;case 33:return 66;case 34:return 48;case 35:return 49;case 36:this.begin("generic");break;case 37:this.popState();break;case 38:return"GENERICTYPE";case 39:this.begin("string");break;case 40:this.popState();break;case 41:return"STR";case 42:this.begin("bqstring");break;case 43:this.popState();break;case 44:return"BQUOTE_STR";case 45:this.begin("href");break;case 46:this.popState();break;case 47:return 69;case 48:this.begin("callback_name");break;case 49:this.popState();break;case 50:this.popState(),this.begin("callback_args");break;case 51:return 67;case 52:this.popState();break;case 53:return 68;case 54:return 65;case 55:return 65;case 56:return 65;case 57:return 65;case 58:return 57;case 59:return 57;case 60:return 59;case 61:return 59;case 62:return 58;case 63:return 56;case 64:return 60;case 65:return 61;case 66:return 62;case 67:return 32;case 68:return 44;case 69:return 82;case 70:return"DOT";case 71:return"PLUS";case 72:return 79;case 73:return"EQUALS";case 74:return"EQUALS";case 75:return 86;case 76:return"PUNCTUATION";case 77:return 85;case 78:return 84;case 79:return 81;case 80:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[52,53],inclusive:!1},callback_name:{rules:[49,50,51],inclusive:!1},href:{rules:[46,47],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[37,38],inclusive:!1},bqstring:{rules:[43,44],inclusive:!1},string:{rules:[40,41],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,39,42,45,48,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],inclusive:!0}}};return Z}();ft.lexer=st;function wt(){this.yy={}}return wt.prototype=ft,ft.Parser=wt,new wt}();G0.parser=G0;const h1t=(t,e)=>{var n;return((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*classDiagram/)!==null},f1t=(t,e)=>{var n;return t.match(/^\s*classDiagram/)!==null&&((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:t.match(/^\s*classDiagram-v2/)!==null},M5="classid-";let L5=[],yn={},q9=0,Qu=[];const du=t=>ge.sanitizeText(t,J()),d1t=function(t,e,n){en.parseDirective(this,t,e,n)},Ju=function(t){let e="",n=t;if(t.indexOf("~")>0){let r=t.split("~");n=r[0],e=ge.sanitizeText(r[1],J())}return{className:n,type:e}},Hv=function(t){let e=Ju(t);typeof yn[e.className]<"u"||(yn[e.className]={id:e.className,type:e.type,cssClasses:[],methods:[],members:[],annotations:[],domId:M5+e.className+"-"+q9},q9++)},JI=function(t){const e=Object.keys(yn);for(let n=0;n<e.length;n++)if(yn[e[n]].id===t)return yn[e[n]].domId},p1t=function(){L5=[],yn={},Qu=[],Qu.push(eB),Si()},g1t=function(t){return yn[t]},y1t=function(){return yn},m1t=function(){return L5},b1t=function(t){Y.debug("Adding relation: "+JSON.stringify(t)),Hv(t.id1),Hv(t.id2),t.id1=Ju(t.id1).className,t.id2=Ju(t.id2).className,t.relationTitle1=ge.sanitizeText(t.relationTitle1.trim(),J()),t.relationTitle2=ge.sanitizeText(t.relationTitle2.trim(),J()),L5.push(t)},v1t=function(t,e){const n=Ju(t).className;yn[n].annotations.push(e)},tB=function(t,e){const n=Ju(t).className,r=yn[n];if(typeof e=="string"){const i=e.trim();i.startsWith("<<")&&i.endsWith(">>")?r.annotations.push(du(i.substring(2,i.length-2))):i.indexOf(")")>0?r.methods.push(du(i)):i&&r.members.push(du(i))}},_1t=function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach(n=>tB(t,n)))},x1t=function(t){return t.substring(0,1)===":"?ge.sanitizeText(t.substr(1).trim(),J()):du(t.trim())},R5=function(t,e){t.split(",").forEach(function(n){let r=n;n[0].match(/\d/)&&(r=M5+r),typeof yn[r]<"u"&&yn[r].cssClasses.push(e)})},w1t=function(t,e){const n=J();t.split(",").forEach(function(r){typeof e<"u"&&(yn[r].tooltip=ge.sanitizeText(e,n))})},k1t=function(t){return yn[t].tooltip},T1t=function(t,e,n){const r=J();t.split(",").forEach(function(i){let a=i;i[0].match(/\d/)&&(a=M5+a),typeof yn[a]<"u"&&(yn[a].link=Ae.formatUrl(e,r),r.securityLevel==="sandbox"?yn[a].linkTarget="_top":typeof n=="string"?yn[a].linkTarget=du(n):yn[a].linkTarget="_blank")}),R5(t,"clickable")},E1t=function(t,e,n){t.split(",").forEach(function(r){C1t(r,e,n),yn[r].haveCallback=!0}),R5(t,"clickable")},C1t=function(t,e,n){const r=J();let i=t,a=JI(i);if(r.securityLevel==="loose"&&!(typeof e>"u")&&typeof yn[i]<"u"){let s=[];if(typeof n=="string"){s=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let o=0;o<s.length;o++){let l=s[o].trim();l.charAt(0)==='"'&&l.charAt(l.length-1)==='"'&&(l=l.substr(1,l.length-2)),s[o]=l}}s.length===0&&s.push(a),Qu.push(function(){const o=document.querySelector(`[id="${a}"]`);o!==null&&o.addEventListener("click",function(){Ae.runFunc(e,...s)},!1)})}},S1t=function(t){Qu.forEach(function(e){e(t)})},A1t={LINE:0,DOTTED_LINE:1},M1t={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},eB=function(t){let e=Lt(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=Lt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Lt(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=Lt(this);if(i.attr("title")===null)return;const s=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),Lt(this).classed("hover",!1)})};Qu.push(eB);let nB="TB";const L1t=()=>nB,R1t=t=>{nB=t},rc={parseDirective:d1t,setAccTitle:Qr,getAccTitle:Ai,getAccDescription:Li,setAccDescription:Mi,getConfig:()=>J().class,addClass:Hv,bindFunctions:S1t,clear:p1t,getClass:g1t,getClasses:y1t,addAnnotation:v1t,getRelations:m1t,addRelation:b1t,getDirection:L1t,setDirection:R1t,addMember:tB,addMembers:_1t,cleanupLabel:x1t,lineType:A1t,relationType:M1t,setClickEvent:E1t,setCssClass:R5,setLink:T1t,getTooltip:k1t,setTooltip:w1t,lookUpDomId:JI};let V9=0;const N1t=function(t,e,n,r,i){const a=function(k){switch(k){case i.db.relationType.AGGREGATION:return"aggregation";case i.db.EXTENSION:return"extension";case i.db.COMPOSITION:return"composition";case i.db.DEPENDENCY:return"dependency";case i.db.LOLLIPOP:return"lollipop"}};e.points=e.points.filter(k=>!Number.isNaN(k.y));const s=e.points,o=hh().x(function(k){return k.x}).y(function(k){return k.y}).curve(kc),l=t.append("path").attr("d",o(s)).attr("id","edge"+V9).attr("class","relation");let u="";r.arrowMarkerAbsolute&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replace(/\(/g,"\\("),u=u.replace(/\)/g,"\\)")),n.relation.lineType==1&&l.attr("class","relation dashed-line"),n.relation.type1!=="none"&&l.attr("marker-start","url("+u+"#"+a(n.relation.type1)+"Start)"),n.relation.type2!=="none"&&l.attr("marker-end","url("+u+"#"+a(n.relation.type2)+"End)");let h,d;const f=e.points.length;let p=Ae.calcLabelPosition(e.points);h=p.x,d=p.y;let y,m,b,x;if(f%2!==0&&f>1){let k=Ae.calcCardinalityPosition(n.relation.type1!=="none",e.points,e.points[0]),T=Ae.calcCardinalityPosition(n.relation.type2!=="none",e.points,e.points[f-1]);Y.debug("cardinality_1_point "+JSON.stringify(k)),Y.debug("cardinality_2_point "+JSON.stringify(T)),y=k.x,m=k.y,b=T.x,x=T.y}if(typeof n.title<"u"){const k=t.append("g").attr("class","classLabel"),T=k.append("text").attr("class","label").attr("x",h).attr("y",d).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=T;const S=T.node().getBBox();k.insert("rect",":first-child").attr("class","box").attr("x",S.x-r.padding/2).attr("y",S.y-r.padding/2).attr("width",S.width+r.padding).attr("height",S.height+r.padding)}Y.info("Rendering relation "+JSON.stringify(n)),typeof n.relationTitle1<"u"&&n.relationTitle1!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",y).attr("y",m).attr("fill","black").attr("font-size","6").text(n.relationTitle1),typeof n.relationTitle2<"u"&&n.relationTitle2!=="none"&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",b).attr("y",x).attr("fill","black").attr("font-size","6").text(n.relationTitle2),V9++},I1t=function(t,e,n,r){Y.debug("Rendering class ",e,n);const i=e.id,a={id:i,label:e.id,width:0,height:0},s=t.append("g").attr("id",r.db.lookUpDomId(i)).attr("class","classGroup");let o;e.link?o=s.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):o=s.append("text").attr("y",n.textHeight+n.padding).attr("x",0);let l=!0;e.annotations.forEach(function(L){const R=o.append("tspan").text("\xAB"+L+"\xBB");l||R.attr("dy",n.textHeight),l=!1});let u=e.id;e.type!==void 0&&e.type!==""&&(u+="<"+e.type+">");const h=o.append("tspan").text(u).attr("class","title");l||h.attr("dy",n.textHeight);const d=o.node().getBBox().height,f=s.append("line").attr("x1",0).attr("y1",n.padding+d+n.dividerMargin/2).attr("y2",n.padding+d+n.dividerMargin/2),p=s.append("text").attr("x",n.padding).attr("y",d+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.members.forEach(function(L){Y9(p,L,l,n),l=!1});const y=p.node().getBBox(),m=s.append("line").attr("x1",0).attr("y1",n.padding+d+n.dividerMargin+y.height).attr("y2",n.padding+d+n.dividerMargin+y.height),b=s.append("text").attr("x",n.padding).attr("y",d+2*n.dividerMargin+y.height+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.methods.forEach(function(L){Y9(b,L,l,n),l=!1});const x=s.node().getBBox();var k=" ";e.cssClasses.length>0&&(k=k+e.cssClasses.join(" "));const S=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",x.width+2*n.padding).attr("height",x.height+n.padding+.5*n.dividerMargin).attr("class",k).node().getBBox().width;return o.node().childNodes.forEach(function(L){L.setAttribute("x",(S-L.getBBox().width)/2)}),e.tooltip&&o.insert("title").text(e.tooltip),f.attr("x2",S),m.attr("x2",S),a.width=S,a.height=x.height+n.padding+.5*n.dividerMargin,a},j0=function(t){const e=/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/,n=/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/;let r=t.match(e),i=t.match(n);return r&&!i?B1t(r):i?D1t(i):O1t(t)},B1t=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",a=t[3]?hs(t[3].trim()):"",s=t[4]?t[4].trim():"",o=t[5]?t[5].trim():"";n=r+i+a+" "+s,e=N5(o)}catch{n=t}return{displayText:n,cssStyle:e}},D1t=function(t){let e="",n="";try{let r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",a=t[3]?hs(t[3].trim()):"",s=t[4]?t[4].trim():"",o=t[5]?" : "+hs(t[5]).trim():"";n=r+i+"("+a+")"+o,e=N5(s)}catch{n=t}return{displayText:n,cssStyle:e}},O1t=function(t){let e="",n="",r="",i=t.indexOf("("),a=t.indexOf(")");if(i>1&&a>i&&a<=t.length){let s="",o="",l=t.substring(0,1);l.match(/\w/)?o=t.substring(0,i).trim():(l.match(/\+|-|~|#/)&&(s=l),o=t.substring(1,i).trim());const u=t.substring(i+1,a);t.substring(a+1,1),n=N5(t.substring(a+1,a+2)),e=s+o+"("+hs(u.trim())+")",a<t.length&&(r=t.substring(a+2).trim(),r!==""&&(r=" : "+hs(r),e+=r))}else e=hs(t);return{displayText:e,cssStyle:n}},Y9=function(t,e,n,r){let i=j0(e);const a=t.append("tspan").attr("x",r.padding).text(i.displayText);i.cssStyle!==""&&a.attr("style",i.cssStyle),n||a.attr("dy",r.textHeight)},N5=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},z9={drawClass:I1t,drawEdge:N1t,parseMember:j0};let Gv={};const Ef=20,Cf=function(t){const e=Object.entries(Gv).find(n=>n[1].label===t);if(e)return e[0]},F1t=function(t){t.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),t.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},P1t=function(t,e,n,r){const i=J().class;Gv={},Y.info("Rendering diagram "+t);const a=J().securityLevel;let s;a==="sandbox"&&(s=Lt("#i"+e));const o=Lt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=o.select(`[id='${e}']`);F1t(l);const u=new gn.Graph({multigraph:!0});u.setGraph({isMultiGraph:!0}),u.setDefaultEdgeLabel(function(){return{}});const h=r.db.getClasses(),d=Object.keys(h);for(let x=0;x<d.length;x++){const k=h[d[x]],T=z9.drawClass(l,k,i,r);Gv[T.id]=T,u.setNode(T.id,T),Y.info("Org height: "+T.height)}r.db.getRelations().forEach(function(x){Y.info("tjoho"+Cf(x.id1)+Cf(x.id2)+JSON.stringify(x)),u.setEdge(Cf(x.id1),Cf(x.id2),{relation:x},x.title||"DEFAULT")}),Gc.layout(u),u.nodes().forEach(function(x){typeof x<"u"&&typeof u.node(x)<"u"&&(Y.debug("Node "+x+": "+JSON.stringify(u.node(x))),o.select("#"+r.db.lookUpDomId(x)).attr("transform","translate("+(u.node(x).x-u.node(x).width/2)+","+(u.node(x).y-u.node(x).height/2)+" )"))}),u.edges().forEach(function(x){typeof x<"u"&&typeof u.edge(x)<"u"&&(Y.debug("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(u.edge(x))),z9.drawEdge(l,u.edge(x),u.edge(x).relation,i,r))});const p=l.node().getBBox(),y=p.width+Ef*2,m=p.height+Ef*2;Ci(l,m,y,i.useMaxWidth);const b=`${p.x-Ef} ${p.y-Ef} ${y} ${m}`;Y.debug(`viewBox ${b}`),l.attr("viewBox",b),kr(r.db,l,e)},$1t={draw:P1t},q1t=(t,e,n,r)=>{e.forEach(i=>{K1t[i](t,n,r)})},V1t=(t,e,n)=>{Y.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",e+"-extensionStart").attr("class","marker extension "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},Y1t=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-compositionStart").attr("class","marker composition "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},z1t=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},U1t=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},W1t=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},H1t=(t,e)=>{t.append("marker").attr("id",e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},G1t=(t,e)=>{t.append("marker").attr("id",e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},j1t=(t,e)=>{t.append("marker").attr("id",e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},X1t=(t,e)=>{t.append("defs").append("marker").attr("id",e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},K1t={extension:V1t,composition:Y1t,aggregation:z1t,dependency:U1t,lollipop:W1t,point:H1t,circle:G1t,cross:j1t,barb:X1t};function Z1t(t,e){e&&t.attr("style",e)}function Q1t(t){const e=Lt(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div"),r=t.label,i=t.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+r+"</span>"),Z1t(n,t.labelStyle),n.style("display","inline-block"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}const vr=(t,e,n,r)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),In(J().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),Y.info("vertexText"+i);const a={isNode:r,label:O2(i).replace(/fa[lrsb]?:fa-[\w-]+/g,o=>`<i class='${o.replace(":"," ")}'></i>`),labelStyle:e.replace("fill:","color:")};return Q1t(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let s=[];typeof i=="string"?s=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?s=i:s=[];for(let o=0;o<s.length;o++){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),n?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=s[o].trim(),a.appendChild(l)}return a}},Zn=(t,e,n,r)=>{let i;n?i=n:i="node default";const a=t.insert("g").attr("class",i).attr("id",e.domId||e.id),s=a.insert("g").attr("class","label").attr("style",e.labelStyle);let o;typeof e.labelText>"u"?o="":o=typeof e.labelText=="string"?e.labelText:e.labelText[0];const l=s.node().appendChild(vr(_i(O2(o),J()),e.labelStyle,!1,r));let u=l.getBBox();if(In(J().flowchart.htmlLabels)){const d=l.children[0],f=Lt(l);u=d.getBoundingClientRect(),f.attr("width",u.width),f.attr("height",u.height)}const h=e.padding/2;return s.attr("transform","translate("+-u.width/2+", "+-u.height/2+")"),{shapeSvg:a,bbox:u,halfPadding:h,label:s}},mn=(t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height};function Wa(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}let Be={},fi={},rB={};const J1t=()=>{fi={},rB={},Be={}},X0=(t,e)=>(Y.trace("In isDecendant",e," ",t," = ",fi[e].indexOf(t)>=0),fi[e].indexOf(t)>=0),t0t=(t,e)=>(Y.info("Decendants of ",e," is ",fi[e]),Y.info("Edge is ",t),t.v===e||t.w===e?!1:fi[e]?!!(fi[e].indexOf(t.v)>=0||X0(t.v,e)||X0(t.w,e)||fi[e].indexOf(t.w)>=0):(Y.debug("Tilt, ",e,",not in decendants"),!1)),iB=(t,e,n,r)=>{Y.warn("Copying children of ",t,"root",r,"data",e.node(t),r);const i=e.children(t)||[];t!==r&&i.push(t),Y.warn("Copying (nodes) clusterId",t,"nodes",i),i.forEach(a=>{if(e.children(a).length>0)iB(a,e,n,r);else{const s=e.node(a);Y.info("cp ",a," to ",r," with parent ",t),n.setNode(a,s),r!==e.parent(a)&&(Y.warn("Setting parent",a,e.parent(a)),n.setParent(a,e.parent(a))),t!==r&&a!==t?(Y.debug("Setting parent",a,t),n.setParent(a,t)):(Y.info("In copy ",t,"root",r,"data",e.node(t),r),Y.debug("Not Setting parent for node=",a,"cluster!==rootId",t!==r,"node!==clusterId",a!==t));const o=e.edges(a);Y.debug("Copying Edges",o),o.forEach(l=>{Y.info("Edge",l);const u=e.edge(l.v,l.w,l.name);Y.info("Edge data",u,r);try{t0t(l,r)?(Y.info("Copying as ",l.v,l.w,u,l.name),n.setEdge(l.v,l.w,u,l.name),Y.info("newGraph edges ",n.edges(),n.edge(n.edges()[0]))):Y.info("Skipping copy of edge ",l.v,"-->",l.w," rootId: ",r," clusterId:",t)}catch(h){Y.error(h)}})}Y.debug("Removing node",a),e.removeNode(a)})},aB=(t,e)=>{const n=e.children(t);let r=[].concat(n);for(let i=0;i<n.length;i++)rB[n[i]]=t,r=r.concat(aB(n[i],e));return r},th=(t,e)=>{Y.trace("Searching",t);const n=e.children(t);if(Y.trace("Searching children of id ",t,n),n.length<1)return Y.trace("This is a valid node",t),t;for(let r=0;r<n.length;r++){const i=th(n[r],e);if(i)return Y.trace("Found replacement for",t," => ",i),i}},Sf=t=>!Be[t]||!Be[t].externalConnections?t:Be[t]?Be[t].id:t,e0t=(t,e)=>{if(!t||e>10){Y.debug("Opting out, no graph ");return}else Y.debug("Opting in, graph ");t.nodes().forEach(function(n){t.children(n).length>0&&(Y.warn("Cluster identified",n," Replacement id in edges: ",th(n,t)),fi[n]=aB(n,t),Be[n]={id:th(n,t),clusterData:t.node(n)})}),t.nodes().forEach(function(n){const r=t.children(n),i=t.edges();r.length>0?(Y.debug("Cluster identified",n,fi),i.forEach(a=>{if(a.v!==n&&a.w!==n){const s=X0(a.v,n),o=X0(a.w,n);s^o&&(Y.warn("Edge: ",a," leaves cluster ",n),Y.warn("Decendants of XXX ",n,": ",fi[n]),Be[n].externalConnections=!0)}})):Y.debug("Not a cluster ",n,fi)}),t.edges().forEach(function(n){const r=t.edge(n);Y.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(n)),Y.warn("Edge "+n.v+" -> "+n.w+": "+JSON.stringify(t.edge(n)));let i=n.v,a=n.w;if(Y.warn("Fix XXX",Be,"ids:",n.v,n.w,"Translateing: ",Be[n.v]," --- ",Be[n.w]),Be[n.v]&&Be[n.w]&&Be[n.v]===Be[n.w]){Y.warn("Fixing and trixing link to self - removing XXX",n.v,n.w,n.name),Y.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),i=Sf(n.v),a=Sf(n.w),t.removeEdge(n.v,n.w,n.name);const s=n.w+"---"+n.v;t.setNode(s,{domId:s,id:s,labelStyle:"",labelText:r.label,padding:0,shape:"labelRect",style:""});const o=JSON.parse(JSON.stringify(r)),l=JSON.parse(JSON.stringify(r));o.label="",o.arrowTypeEnd="none",l.label="",o.fromCluster=n.v,l.toCluster=n.v,t.setEdge(i,s,o,n.name+"-cyclic-special"),t.setEdge(s,a,l,n.name+"-cyclic-special")}else(Be[n.v]||Be[n.w])&&(Y.warn("Fixing and trixing - removing XXX",n.v,n.w,n.name),i=Sf(n.v),a=Sf(n.w),t.removeEdge(n.v,n.w,n.name),i!==n.v&&(r.fromCluster=n.v),a!==n.w&&(r.toCluster=n.w),Y.warn("Fix Replacing with XXX",i,a,n.name),t.setEdge(i,a,r,n.name))}),Y.warn("Adjusted Graph",gn.json.write(t)),sB(t,0),Y.trace(Be)},sB=(t,e)=>{if(Y.warn("extractor - ",e,gn.json.write(t),t.children("D")),e>10){Y.error("Bailing out");return}let n=t.nodes(),r=!1;for(let i=0;i<n.length;i++){const a=n[i],s=t.children(a);r=r||s.length>0}if(!r){Y.debug("Done, no node has children",t.nodes());return}Y.debug("Nodes = ",n,e);for(let i=0;i<n.length;i++){const a=n[i];if(Y.debug("Extracting node",a,Be,Be[a]&&!Be[a].externalConnections,!t.parent(a),t.node(a),t.children("D")," Depth ",e),!Be[a])Y.debug("Not a cluster",a,e);else if(!Be[a].externalConnections&&t.children(a)&&t.children(a).length>0){Y.warn("Cluster without external connections, without a parent and with children",a,e);let o=t.graph().rankdir==="TB"?"LR":"TB";Be[a]&&Be[a].clusterData&&Be[a].clusterData.dir&&(o=Be[a].clusterData.dir,Y.warn("Fixing dir",Be[a].clusterData.dir,o));const l=new gn.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:o,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});Y.warn("Old graph before copy",gn.json.write(t)),iB(a,t,l,a),t.setNode(a,{clusterNode:!0,id:a,clusterData:Be[a].clusterData,labelText:Be[a].labelText,graph:l}),Y.warn("New graph after copy node: (",a,")",gn.json.write(l)),Y.debug("Old graph after copy",gn.json.write(t))}else Y.warn("Cluster ** ",a," **not meeting the criteria !externalConnections:",!Be[a].externalConnections," no parent: ",!t.parent(a)," children ",t.children(a)&&t.children(a).length>0,t.children("D"),e),Y.debug(Be)}n=t.nodes(),Y.warn("New list of nodes",n);for(let i=0;i<n.length;i++){const a=n[i],s=t.node(a);Y.warn(" Now next level",a,s),s.clusterNode&&sB(s.graph,e+1)}},oB=(t,e)=>{if(e.length===0)return[];let n=Object.assign(e);return e.forEach(r=>{const i=t.children(r),a=oB(t,i);n=n.concat(a)}),n},n0t=t=>oB(t,t.children());function r0t(t,e){return t.intersect(e)}function cB(t,e,n,r){var i=t.x,a=t.y,s=i-r.x,o=a-r.y,l=Math.sqrt(e*e*o*o+n*n*s*s),u=Math.abs(e*n*s/l);r.x<i&&(u=-u);var h=Math.abs(e*n*o/l);return r.y<a&&(h=-h),{x:i+u,y:a+h}}function i0t(t,e,n){return cB(t,e,e,n)}function a0t(t,e,n,r){var i,a,s,o,l,u,h,d,f,p,y,m,b,x,k;if(i=e.y-t.y,s=t.x-e.x,l=e.x*t.y-t.x*e.y,f=i*n.x+s*n.y+l,p=i*r.x+s*r.y+l,!(f!==0&&p!==0&&U9(f,p))&&(a=r.y-n.y,o=n.x-r.x,u=r.x*n.y-n.x*r.y,h=a*t.x+o*t.y+u,d=a*e.x+o*e.y+u,!(h!==0&&d!==0&&U9(h,d))&&(y=i*o-a*s,y!==0)))return m=Math.abs(y/2),b=s*u-o*l,x=b<0?(b-m)/y:(b+m)/y,b=a*l-i*u,k=b<0?(b-m)/y:(b+m)/y,{x,y:k}}function U9(t,e){return t*e>0}function s0t(t,e,n){var r=t.x,i=t.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(y){s=Math.min(s,y.x),o=Math.min(o,y.y)}):(s=Math.min(s,e.x),o=Math.min(o,e.y));for(var l=r-t.width/2-s,u=i-t.height/2-o,h=0;h<e.length;h++){var d=e[h],f=e[h<e.length-1?h+1:0],p=a0t(t,n,{x:l+d.x,y:u+d.y},{x:l+f.x,y:u+f.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort(function(y,m){var b=y.x-n.x,x=y.y-n.y,k=Math.sqrt(b*b+x*x),T=m.x-n.x,S=m.y-n.y,L=Math.sqrt(T*T+S*S);return k<L?-1:k===L?0:1}),a[0]):t}const Th=(t,e)=>{var n=t.x,r=t.y,i=e.x-n,a=e.y-r,s=t.width/2,o=t.height/2,l,u;return Math.abs(a)*s>Math.abs(i)*o?(a<0&&(o=-o),l=a===0?0:o*i/a,u=o):(i<0&&(s=-s),l=s,u=i===0?0:s*a/i),{x:n+l,y:r+u}},fn={node:r0t,circle:i0t,ellipse:cB,polygon:s0t,rect:Th},o0t=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Zn(t,e,"node "+e.classes,!0);Y.info("Classes = ",e.classes);const a=n.insert("rect",":first-child");return a.attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-i).attr("y",-r.height/2-i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),mn(e,a),e.intersect=function(s){return fn.rect(e,s)},n},c0t=(t,e)=>{const{shapeSvg:n,bbox:r}=Zn(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=i+a,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];Y.info("Question main (Circle)");const l=Wa(n,s,s,o);return l.attr("style",e.style),mn(e,l),e.intersect=function(u){return Y.warn("Intersect called"),fn.polygon(e,o,u)},n},l0t=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=28,i=[{x:0,y:r/2},{x:r/2,y:0},{x:0,y:-r/2},{x:-r/2,y:0}];return n.insert("polygon",":first-child").attr("points",i.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(s){return fn.circle(e,14,s)},n},u0t=(t,e)=>{const{shapeSvg:n,bbox:r}=Zn(t,e,void 0,!0),i=4,a=r.height+e.padding,s=a/i,o=r.width+2*s+e.padding,l=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}],u=Wa(n,o,a,l);return u.attr("style",e.style),mn(e,u),e.intersect=function(h){return fn.polygon(e,l,h)},n},h0t=(t,e)=>{const{shapeSvg:n,bbox:r}=Zn(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return Wa(n,i,a,s).attr("style",e.style),e.width=i+a,e.height=a,e.intersect=function(l){return fn.polygon(e,s,l)},n},f0t=(t,e)=>{const{shapeSvg:n,bbox:r}=Zn(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],o=Wa(n,i,a,s);return o.attr("style",e.style),mn(e,o),e.intersect=function(l){return fn.polygon(e,s,l)},n},d0t=(t,e)=>{const{shapeSvg:n,bbox:r}=Zn(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],o=Wa(n,i,a,s);return o.attr("style",e.style),mn(e,o),e.intersect=function(l){return fn.polygon(e,s,l)},n},p0t=(t,e)=>{const{shapeSvg:n,bbox:r}=Zn(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],o=Wa(n,i,a,s);return o.attr("style",e.style),mn(e,o),e.intersect=function(l){return fn.polygon(e,s,l)},n},g0t=(t,e)=>{const{shapeSvg:n,bbox:r}=Zn(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],o=Wa(n,i,a,s);return o.attr("style",e.style),mn(e,o),e.intersect=function(l){return fn.polygon(e,s,l)},n},y0t=(t,e)=>{const{shapeSvg:n,bbox:r}=Zn(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],o=Wa(n,i,a,s);return o.attr("style",e.style),mn(e,o),e.intersect=function(l){return fn.polygon(e,s,l)},n},m0t=(t,e)=>{const{shapeSvg:n,bbox:r}=Zn(t,e,void 0,!0),i=r.width+e.padding,a=i/2,s=a/(2.5+i/50),o=r.height+s+e.padding,l="M 0,"+s+" a "+a+","+s+" 0,0,0 "+i+" 0 a "+a+","+s+" 0,0,0 "+-i+" 0 l 0,"+o+" a "+a+","+s+" 0,0,0 "+i+" 0 l 0,"+-o,u=n.attr("label-offset-y",s).insert("path",":first-child").attr("style",e.style).attr("d",l).attr("transform","translate("+-i/2+","+-(o/2+s)+")");return mn(e,u),e.intersect=function(h){const d=fn.rect(e,h),f=d.x-e.x;if(a!=0&&(Math.abs(f)<e.width/2||Math.abs(f)==e.width/2&&Math.abs(d.y-e.y)>e.height/2-s)){let p=s*s*(1-f*f/(a*a));p!=0&&(p=Math.sqrt(p)),p=s-p,h.y-e.y>0&&(p=-p),d.y+=p}return d},n},b0t=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Zn(t,e,"node "+e.classes,!0);Y.trace("Classes = ",e.classes);const a=n.insert("rect",":first-child"),s=r.width+e.padding,o=r.height+e.padding;if(a.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-r.width/2-i).attr("y",-r.height/2-i).attr("width",s).attr("height",o),e.props){const l=new Set(Object.keys(e.props));e.props.borders&&(lB(a,e.props.borders,s,o),l.delete("borders")),l.forEach(u=>{Y.warn(`Unknown node property ${u}`)})}return mn(e,a),e.intersect=function(l){return fn.rect(e,l)},n},v0t=(t,e)=>{const{shapeSvg:n}=Zn(t,e,"label",!0);Y.trace("Classes = ",e.classes);const r=n.insert("rect",":first-child"),i=0,a=0;if(r.attr("width",i).attr("height",a),n.attr("class","label edgeLabel"),e.props){const s=new Set(Object.keys(e.props));e.props.borders&&(lB(r,e.props.borders,i,a),s.delete("borders")),s.forEach(o=>{Y.warn(`Unknown node property ${o}`)})}return mn(e,r),e.intersect=function(s){return fn.rect(e,s)},n};function lB(t,e,n,r){const i=[],a=o=>{i.push(o),i.push(0)},s=o=>{i.push(0),i.push(o)};e.includes("t")?(Y.debug("add top border"),a(n)):s(n),e.includes("r")?(Y.debug("add right border"),a(r)):s(r),e.includes("b")?(Y.debug("add bottom border"),a(n)):s(n),e.includes("l")?(Y.debug("add left border"),a(r)):s(r),t.attr("stroke-dasharray",i.join(" "))}const _0t=(t,e)=>{let n;e.classes?n="node "+e.classes:n="node default";const r=t.insert("g").attr("class",n).attr("id",e.domId||e.id),i=r.insert("rect",":first-child"),a=r.insert("line"),s=r.insert("g").attr("class","label"),o=e.labelText.flat?e.labelText.flat():e.labelText;let l="";typeof o=="object"?l=o[0]:l=o,Y.info("Label text abc79",l,o,typeof o=="object");const u=s.node().appendChild(vr(l,e.labelStyle,!0,!0));let h={width:0,height:0};if(In(J().flowchart.htmlLabels)){const m=u.children[0],b=Lt(u);h=m.getBoundingClientRect(),b.attr("width",h.width),b.attr("height",h.height)}Y.info("Text 2",o);const d=o.slice(1,o.length);let f=u.getBBox();const p=s.node().appendChild(vr(d.join?d.join("<br/>"):d,e.labelStyle,!0,!0));if(In(J().flowchart.htmlLabels)){const m=p.children[0],b=Lt(p);h=m.getBoundingClientRect(),b.attr("width",h.width),b.attr("height",h.height)}const y=e.padding/2;return Lt(p).attr("transform","translate( "+(h.width>f.width?0:(f.width-h.width)/2)+", "+(f.height+y+5)+")"),Lt(u).attr("transform","translate( "+(h.width<f.width?0:-(f.width-h.width)/2)+", "+0+")"),h=s.node().getBBox(),s.attr("transform","translate("+-h.width/2+", "+(-h.height/2-y+3)+")"),i.attr("class","outer title-state").attr("x",-h.width/2-y).attr("y",-h.height/2-y).attr("width",h.width+e.padding).attr("height",h.height+e.padding),a.attr("class","divider").attr("x1",-h.width/2-y).attr("x2",h.width/2+y).attr("y1",-h.height/2-y+f.height+y).attr("y2",-h.height/2-y+f.height+y),mn(e,i),e.intersect=function(m){return fn.rect(e,m)},r},x0t=(t,e)=>{const{shapeSvg:n,bbox:r}=Zn(t,e,void 0,!0),i=r.height+e.padding,a=r.width+i/4+e.padding,s=n.insert("rect",":first-child").attr("style",e.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return mn(e,s),e.intersect=function(o){return fn.rect(e,o)},n},w0t=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Zn(t,e,void 0,!0),a=n.insert("circle",":first-child");return a.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),Y.info("Circle main"),mn(e,a),e.intersect=function(s){return Y.info("Circle intersect",e,r.width/2+i,s),fn.circle(e,r.width/2+i,s)},n},k0t=(t,e)=>{const{shapeSvg:n,bbox:r,halfPadding:i}=Zn(t,e,void 0,!0),a=5,s=n.insert("g",":first-child"),o=s.insert("circle"),l=s.insert("circle");return o.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i+a).attr("width",r.width+e.padding+a*2).attr("height",r.height+e.padding+a*2),l.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",r.width/2+i).attr("width",r.width+e.padding).attr("height",r.height+e.padding),Y.info("DoubleCircle main"),mn(e,o),e.intersect=function(u){return Y.info("DoubleCircle intersect",e,r.width/2+i+a,u),fn.circle(e,r.width/2+i+a,u)},n},T0t=(t,e)=>{const{shapeSvg:n,bbox:r}=Zn(t,e,void 0,!0),i=r.width+e.padding,a=r.height+e.padding,s=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],o=Wa(n,i,a,s);return o.attr("style",e.style),mn(e,o),e.intersect=function(l){return fn.polygon(e,s,l)},n},E0t=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),mn(e,r),e.intersect=function(i){return fn.circle(e,7,i)},n},W9=(t,e,n)=>{const r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let i=70,a=10;n==="LR"&&(i=10,a=70);const s=r.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join");return mn(e,s),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(o){return fn.rect(e,o)},r},C0t=(t,e)=>{const n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child"),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),r.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),mn(e,i),e.intersect=function(a){return fn.circle(e,7,a)},n},S0t=(t,e)=>{const n=e.padding/2,r=4,i=8;let a;e.classes?a="node "+e.classes:a="node default";const s=t.insert("g").attr("class",a).attr("id",e.domId||e.id),o=s.insert("rect",":first-child"),l=s.insert("line"),u=s.insert("line");let h=0,d=r;const f=s.insert("g").attr("class","label");let p=0;const y=e.classData.annotations&&e.classData.annotations[0],m=e.classData.annotations[0]?"\xAB"+e.classData.annotations[0]+"\xBB":"",b=f.node().appendChild(vr(m,e.labelStyle,!0,!0));let x=b.getBBox();if(In(J().flowchart.htmlLabels)){const I=b.children[0],C=Lt(b);x=I.getBoundingClientRect(),C.attr("width",x.width),C.attr("height",x.height)}e.classData.annotations[0]&&(d+=x.height+r,h+=x.width);let k=e.classData.id;e.classData.type!==void 0&&e.classData.type!==""&&(J().flowchart.htmlLabels?k+="&lt;"+e.classData.type+"&gt;":k+="<"+e.classData.type+">");const T=f.node().appendChild(vr(k,e.labelStyle,!0,!0));Lt(T).attr("class","classTitle");let S=T.getBBox();if(In(J().flowchart.htmlLabels)){const I=T.children[0],C=Lt(T);S=I.getBoundingClientRect(),C.attr("width",S.width),C.attr("height",S.height)}d+=S.height+r,S.width>h&&(h=S.width);const L=[];e.classData.members.forEach(I=>{const C=j0(I);let N=C.displayText;J().flowchart.htmlLabels&&(N=N.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const v=f.node().appendChild(vr(N,C.cssStyle?C.cssStyle:e.labelStyle,!0,!0));let E=v.getBBox();if(In(J().flowchart.htmlLabels)){const _=v.children[0],V=Lt(v);E=_.getBoundingClientRect(),V.attr("width",E.width),V.attr("height",E.height)}E.width>h&&(h=E.width),d+=E.height+r,L.push(v)}),d+=i;const R=[];if(e.classData.methods.forEach(I=>{const C=j0(I);let N=C.displayText;J().flowchart.htmlLabels&&(N=N.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const v=f.node().appendChild(vr(N,C.cssStyle?C.cssStyle:e.labelStyle,!0,!0));let E=v.getBBox();if(In(J().flowchart.htmlLabels)){const _=v.children[0],V=Lt(v);E=_.getBoundingClientRect(),V.attr("width",E.width),V.attr("height",E.height)}E.width>h&&(h=E.width),d+=E.height+r,R.push(v)}),d+=i,y){let I=(h-x.width)/2;Lt(b).attr("transform","translate( "+(-1*h/2+I)+", "+-1*d/2+")"),p=x.height+r}let A=(h-S.width)/2;return Lt(T).attr("transform","translate( "+(-1*h/2+A)+", "+(-1*d/2+p)+")"),p+=S.height+r,l.attr("class","divider").attr("x1",-h/2-n).attr("x2",h/2+n).attr("y1",-d/2-n+i+p).attr("y2",-d/2-n+i+p),p+=i,L.forEach(I=>{Lt(I).attr("transform","translate( "+-h/2+", "+(-1*d/2+p+i/2)+")"),p+=S.height+r}),p+=i,u.attr("class","divider").attr("x1",-h/2-n).attr("x2",h/2+n).attr("y1",-d/2-n+i+p).attr("y2",-d/2-n+i+p),p+=i,R.forEach(I=>{Lt(I).attr("transform","translate( "+-h/2+", "+(-1*d/2+p)+")"),p+=S.height+r}),o.attr("class","outer title-state").attr("x",-h/2-n).attr("y",-(d/2)-n).attr("width",h+e.padding).attr("height",d+e.padding),mn(e,o),e.intersect=function(I){return fn.rect(e,I)},s},H9={question:c0t,rect:b0t,labelRect:v0t,rectWithTitle:_0t,choice:l0t,circle:w0t,doublecircle:k0t,stadium:x0t,hexagon:u0t,rect_left_inv_arrow:h0t,lean_right:f0t,lean_left:d0t,trapezoid:p0t,inv_trapezoid:g0t,rect_right_inv_arrow:y0t,cylinder:m0t,start:E0t,end:C0t,note:o0t,subroutine:T0t,fork:W9,join:W9,class_box:S0t};let pc={};const A0t=(t,e,n)=>{let r,i;if(e.link){let a;J().securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a),i=H9[e.shape](r,e,n)}else i=H9[e.shape](t,e,n),r=i;e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),pc[e.id]=r,e.haveCallback&&pc[e.id].attr("class",pc[e.id].attr("class")+" clickable")},M0t=(t,e)=>{pc[e.id]=t},L0t=()=>{pc={}},G9=t=>{const e=pc[t.id];Y.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},R0t=(t,e)=>{Y.trace("Creating subgraph rect for ",e.id,e);const n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),a=i.node().appendChild(vr(e.labelText,e.labelStyle,void 0,!0));let s=a.getBBox();if(In(J().flowchart.htmlLabels)){const d=a.children[0],f=Lt(a);s=d.getBoundingClientRect(),f.attr("width",s.width),f.attr("height",s.height)}const o=0*e.padding,l=o/2,u=e.width<=s.width+o?s.width+o:e.width;e.width<=s.width+o?e.diff=(s.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,Y.trace("Data ",e,JSON.stringify(e)),r.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-u/2).attr("y",e.y-e.height/2-l).attr("width",u).attr("height",e.height+o),i.attr("transform","translate("+(e.x-s.width/2)+", "+(e.y-e.height/2+e.padding/3)+")");const h=r.node().getBBox();return e.width=h.width,e.height=h.height,e.intersect=function(d){return Th(e,d)},n},N0t=(t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,a=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const s=r.node().getBBox();return e.width=s.width,e.height=s.height,e.intersect=function(o){return Th(e,o)},n},I0t=(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),a=n.append("rect"),s=i.node().appendChild(vr(e.labelText,e.labelStyle,void 0,!0));let o=s.getBBox();if(In(J().flowchart.htmlLabels)){const f=s.children[0],p=Lt(s);o=f.getBoundingClientRect(),p.attr("width",o.width),p.attr("height",o.height)}o=s.getBBox();const l=0*e.padding,u=l/2,h=e.width<=o.width+e.padding?o.width+e.padding:e.width;e.width<=o.width+e.padding?e.diff=(o.width+e.padding*0-e.width)/2:e.diff=-e.padding/2,r.attr("class","outer").attr("x",e.x-h/2-u).attr("y",e.y-e.height/2-u).attr("width",h+l).attr("height",e.height+l),a.attr("class","inner").attr("x",e.x-h/2-u).attr("y",e.y-e.height/2-u+o.height-1).attr("width",h+l).attr("height",e.height+l-o.height-3),i.attr("transform","translate("+(e.x-o.width/2)+", "+(e.y-e.height/2-e.padding/3+(In(J().flowchart.htmlLabels)?5:3))+")");const d=r.node().getBBox();return e.height=d.height,e.intersect=function(f){return Th(e,f)},n},B0t=(t,e)=>{const n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,a=i/2;r.attr("class","divider").attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2).attr("width",e.width+i).attr("height",e.height+i);const s=r.node().getBBox();return e.width=s.width,e.height=s.height,e.diff=-e.padding/2,e.intersect=function(o){return Th(e,o)},n},D0t={rect:R0t,roundedWithTitle:I0t,noteGroup:N0t,divider:B0t};let uB={};const O0t=(t,e)=>{Y.trace("Inserting cluster");const n=e.shape||"rect";uB[e.id]=D0t[n](t,e)},F0t=()=>{uB={}};let K0={},Pn={};const P0t=()=>{K0={},Pn={}},$0t=(t,e)=>{const n=vr(e.label,e.labelStyle),r=t.insert("g").attr("class","edgeLabel"),i=r.insert("g").attr("class","label");i.node().appendChild(n);let a=n.getBBox();if(In(J().flowchart.htmlLabels)){const o=n.children[0],l=Lt(n);a=o.getBoundingClientRect(),l.attr("width",a.width),l.attr("height",a.height)}i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),K0[e.id]=r,e.width=a.width,e.height=a.height;let s;if(e.startLabelLeft){const o=vr(e.startLabelLeft,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");s=u.node().appendChild(o);const h=o.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),Pn[e.id]||(Pn[e.id]={}),Pn[e.id].startLeft=l,Af(s,e.startLabelLeft)}if(e.startLabelRight){const o=vr(e.startLabelRight,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");s=l.node().appendChild(o),u.node().appendChild(o);const h=o.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),Pn[e.id]||(Pn[e.id]={}),Pn[e.id].startRight=l,Af(s,e.startLabelRight)}if(e.endLabelLeft){const o=vr(e.endLabelLeft,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");s=u.node().appendChild(o);const h=o.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.node().appendChild(o),Pn[e.id]||(Pn[e.id]={}),Pn[e.id].endLeft=l,Af(s,e.endLabelLeft)}if(e.endLabelRight){const o=vr(e.endLabelRight,e.labelStyle),l=t.insert("g").attr("class","edgeTerminals"),u=l.insert("g").attr("class","inner");s=u.node().appendChild(o);const h=o.getBBox();u.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),l.node().appendChild(o),Pn[e.id]||(Pn[e.id]={}),Pn[e.id].endRight=l,Af(s,e.endLabelRight)}};function Af(t,e){J().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}const q0t=(t,e)=>{Y.info("Moving label abc78 ",t.id,t.label,K0[t.id]);let n=e.updatedPath?e.updatedPath:e.originalPath;if(t.label){const r=K0[t.id];let i=t.x,a=t.y;if(n){const s=Ae.calcLabelPosition(n);Y.info("Moving label from (",i,",",a,") to (",s.x,",",s.y,") abc78")}r.attr("transform","translate("+i+", "+a+")")}if(t.startLabelLeft){const r=Pn[t.id].startLeft;let i=t.x,a=t.y;if(n){const s=Ae.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);i=s.x,a=s.y}r.attr("transform","translate("+i+", "+a+")")}if(t.startLabelRight){const r=Pn[t.id].startRight;let i=t.x,a=t.y;if(n){const s=Ae.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);i=s.x,a=s.y}r.attr("transform","translate("+i+", "+a+")")}if(t.endLabelLeft){const r=Pn[t.id].endLeft;let i=t.x,a=t.y;if(n){const s=Ae.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);i=s.x,a=s.y}r.attr("transform","translate("+i+", "+a+")")}if(t.endLabelRight){const r=Pn[t.id].endRight;let i=t.x,a=t.y;if(n){const s=Ae.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);i=s.x,a=s.y}r.attr("transform","translate("+i+", "+a+")")}},V0t=(t,e)=>{const n=t.x,r=t.y,i=Math.abs(e.x-n),a=Math.abs(e.y-r),s=t.width/2,o=t.height/2;return i>=s||a>=o},Y0t=(t,e,n)=>{Y.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,i=t.y,a=Math.abs(r-n.x),s=t.width/2;let o=n.x<e.x?s-a:s+a;const l=t.height/2,u=Math.abs(e.y-n.y),h=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*s>Math.abs(r-e.x)*l){let d=n.y<e.y?e.y-l-i:i-l-e.y;o=h*d/u;const f={x:n.x<e.x?n.x+o:n.x-h+o,y:n.y<e.y?n.y+u-d:n.y-u+d};return o===0&&(f.x=e.x,f.y=e.y),h===0&&(f.x=e.x),u===0&&(f.y=e.y),Y.warn(`abc89 topp/bott calc, Q ${u}, q ${d}, R ${h}, r ${o}`,f),f}else{n.x<e.x?o=e.x-s-r:o=r-s-e.x;let d=u*o/h,f=n.x<e.x?n.x+h-o:n.x-h+o,p=n.y<e.y?n.y+d:n.y-d;return Y.warn(`sides calc abc89, Q ${u}, q ${d}, R ${h}, r ${o}`,{_x:f,_y:p}),o===0&&(f=e.x,p=e.y),h===0&&(f=e.x),u===0&&(p=e.y),{x:f,y:p}}},j9=(t,e)=>{Y.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],i=!1;return t.forEach(a=>{if(Y.info("abc88 checking point",a,e),!V0t(e,a)&&!i){const s=Y0t(e,r,a);Y.warn("abc88 inside",a,r,s),Y.warn("abc88 intersection",s);let o=!1;n.forEach(l=>{o=o||l.x===s.x&&l.y===s.y}),n.find(l=>l.x===s.x&&l.y===s.y)?Y.warn("abc88 no intersect",s,n):n.push(s),i=!0}else Y.warn("abc88 outside",a,r),r=a,i||n.push(a)}),Y.warn("abc88 returning points",n),n},z0t=function(t,e,n,r,i,a){let s=n.points,o=!1;const l=a.node(e.v);var u=a.node(e.w);Y.info("abc88 InsertEdge: ",n),u.intersect&&l.intersect&&(s=s.slice(1,n.points.length-1),s.unshift(l.intersect(s[0])),Y.info("Last point",s[s.length-1],u,u.intersect(s[s.length-1])),s.push(u.intersect(s[s.length-1]))),n.toCluster&&(Y.info("to cluster abc88",r[n.toCluster]),s=j9(n.points,r[n.toCluster].node),o=!0),n.fromCluster&&(Y.info("from cluster abc88",r[n.fromCluster]),s=j9(s.reverse(),r[n.fromCluster].node).reverse(),o=!0);const h=s.filter(x=>!Number.isNaN(x.y));let d;i==="graph"||i==="flowchart"?d=n.curve||kc:d=kc;const f=hh().x(function(x){return x.x}).y(function(x){return x.y}).curve(d);let p;switch(n.thickness){case"normal":p="edge-thickness-normal";break;case"thick":p="edge-thickness-thick";break;case"invisible":p="edge-thickness-thick";break;default:p=""}switch(n.pattern){case"solid":p+=" edge-pattern-solid";break;case"dotted":p+=" edge-pattern-dotted";break;case"dashed":p+=" edge-pattern-dashed";break}const y=t.append("path").attr("d",f(h)).attr("id",n.id).attr("class"," "+p+(n.classes?" "+n.classes:"")).attr("style",n.style);let m="";switch((J().flowchart.arrowMarkerAbsolute||J().state.arrowMarkerAbsolute)&&(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,m=m.replace(/\(/g,"\\("),m=m.replace(/\)/g,"\\)")),Y.info("arrowTypeStart",n.arrowTypeStart),Y.info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":y.attr("marker-start","url("+m+"#"+i+"-crossStart)");break;case"arrow_point":y.attr("marker-start","url("+m+"#"+i+"-pointStart)");break;case"arrow_barb":y.attr("marker-start","url("+m+"#"+i+"-barbStart)");break;case"arrow_circle":y.attr("marker-start","url("+m+"#"+i+"-circleStart)");break;case"aggregation":y.attr("marker-start","url("+m+"#"+i+"-aggregationStart)");break;case"extension":y.attr("marker-start","url("+m+"#"+i+"-extensionStart)");break;case"composition":y.attr("marker-start","url("+m+"#"+i+"-compositionStart)");break;case"dependency":y.attr("marker-start","url("+m+"#"+i+"-dependencyStart)");break;case"lollipop":y.attr("marker-start","url("+m+"#"+i+"-lollipopStart)");break}switch(n.arrowTypeEnd){case"arrow_cross":y.attr("marker-end","url("+m+"#"+i+"-crossEnd)");break;case"arrow_point":y.attr("marker-end","url("+m+"#"+i+"-pointEnd)");break;case"arrow_barb":y.attr("marker-end","url("+m+"#"+i+"-barbEnd)");break;case"arrow_circle":y.attr("marker-end","url("+m+"#"+i+"-circleEnd)");break;case"aggregation":y.attr("marker-end","url("+m+"#"+i+"-aggregationEnd)");break;case"extension":y.attr("marker-end","url("+m+"#"+i+"-extensionEnd)");break;case"composition":y.attr("marker-end","url("+m+"#"+i+"-compositionEnd)");break;case"dependency":y.attr("marker-end","url("+m+"#"+i+"-dependencyEnd)");break;case"lollipop":y.attr("marker-end","url("+m+"#"+i+"-lollipopEnd)");break}let b={};return o&&(b.updatedPath=s),b.originalPath=n.points,b},hB=(t,e,n,r)=>{Y.info("Graph in recursive render: XXX",gn.json.write(e),r);const i=e.graph().rankdir;Y.trace("Dir in recursive render - dir:",i);const a=t.insert("g").attr("class","root");e.nodes()?Y.info("Recursive render XXX",e.nodes()):Y.info("No nodes found for",e),e.edges().length>0&&Y.trace("Recursive edges",e.edge(e.edges()[0]));const s=a.insert("g").attr("class","clusters"),o=a.insert("g").attr("class","edgePaths"),l=a.insert("g").attr("class","edgeLabels"),u=a.insert("g").attr("class","nodes");e.nodes().forEach(function(d){const f=e.node(d);if(typeof r<"u"){const p=JSON.parse(JSON.stringify(r.clusterData));Y.info("Setting data for cluster XXX (",d,") ",p,r),e.setNode(r.id,p),e.parent(d)||(Y.trace("Setting parent",d,r.id),e.setParent(d,r.id,p))}if(Y.info("(Insert) Node XXX"+d+": "+JSON.stringify(e.node(d))),f&&f.clusterNode){Y.info("Cluster identified",d,f.width,e.node(d));const p=hB(u,f.graph,n,e.node(d)),y=p.elem;mn(f,y),f.diff=p.diff||0,Y.info("Node bounds (abc123)",d,f,f.width,f.x,f.y),M0t(y,f),Y.warn("Recursive render complete ",y,f)}else e.children(d).length>0?(Y.info("Cluster - the non recursive path XXX",d,f.id,f,e),Y.info(th(f.id,e)),Be[f.id]={id:th(f.id,e),node:f}):(Y.info("Node - the non recursive path",d,f.id,f),A0t(u,e.node(d),i))}),e.edges().forEach(function(d){const f=e.edge(d.v,d.w,d.name);Y.info("Edge "+d.v+" -> "+d.w+": "+JSON.stringify(d)),Y.info("Edge "+d.v+" -> "+d.w+": ",d," ",JSON.stringify(e.edge(d))),Y.info("Fix",Be,"ids:",d.v,d.w,"Translateing: ",Be[d.v],Be[d.w]),$0t(l,f)}),e.edges().forEach(function(d){Y.info("Edge "+d.v+" -> "+d.w+": "+JSON.stringify(d))}),Y.info("#############################################"),Y.info("###                Layout                 ###"),Y.info("#############################################"),Y.info(e),Gc.layout(e),Y.info("Graph after layout:",gn.json.write(e));let h=0;return n0t(e).forEach(function(d){const f=e.node(d);Y.info("Position "+d+": "+JSON.stringify(e.node(d))),Y.info("Position "+d+": ("+f.x,","+f.y,") width: ",f.width," height: ",f.height),f&&f.clusterNode?G9(f):e.children(d).length>0?(O0t(s,f),Be[f.id].node=f):G9(f)}),e.edges().forEach(function(d){const f=e.edge(d);Y.info("Edge "+d.v+" -> "+d.w+": "+JSON.stringify(f),f);const p=z0t(o,d,f,Be,n,e);q0t(f,p)}),e.nodes().forEach(function(d){const f=e.node(d);Y.info(d,f.type,f.diff),f.type==="group"&&(h=f.diff)}),{elem:a,diff:h}},I5=(t,e,n,r,i)=>{q1t(t,n,r,i),L0t(),P0t(),F0t(),J1t(),Y.warn("Graph at first:",gn.json.write(e)),e0t(e),Y.warn("Graph after:",gn.json.write(e)),hB(t,e,r)},U0t=t=>ge.sanitizeText(t,J()),W0t=function(t,e,n,r){const i=Object.keys(t);Y.info("keys:",i),Y.info(t),i.forEach(function(a){const s=t[a];let o="";s.cssClasses.length>0&&(o=o+" "+s.cssClasses.join(" "));const l={labelStyle:""};let u=s.text!==void 0?s.text:s.id,h=0,d="";switch(s.type){case"class":d="class_box";break;default:d="class_box"}e.setNode(s.id,{labelStyle:l.labelStyle,shape:d,labelText:U0t(u),classData:s,rx:h,ry:h,class:o,style:l.style,id:s.id,domId:s.domId,tooltip:r.db.getTooltip(s.id)||"",haveCallback:s.haveCallback,link:s.link,width:s.type==="group"?500:void 0,type:s.type,padding:J().flowchart.padding}),Y.info("setNode",{labelStyle:l.labelStyle,shape:d,labelText:u,rx:h,ry:h,class:o,style:l.style,id:s.id,width:s.type==="group"?500:void 0,type:s.type,padding:J().flowchart.padding})})},H0t=function(t,e){const n=J().flowchart;let r=0;t.forEach(function(i){r++;const a={};a.classes="relation",a.pattern=i.relation.lineType==1?"dashed":"solid",a.id="id"+r,i.type==="arrow_open"?a.arrowhead="none":a.arrowhead="normal",Y.info(a,i),a.startLabelRight=i.relationTitle1==="none"?"":i.relationTitle1,a.endLabelLeft=i.relationTitle2==="none"?"":i.relationTitle2,a.arrowTypeStart=X9(i.relation.type1),a.arrowTypeEnd=X9(i.relation.type2);let s="",o="";if(typeof i.style<"u"){const l=ws(i.style);s=l.style,o=l.labelStyle}else s="fill:none";a.style=s,a.labelStyle=o,typeof i.interpolate<"u"?a.curve=Zi(i.interpolate,di):typeof t.defaultInterpolate<"u"?a.curve=Zi(t.defaultInterpolate,di):a.curve=Zi(n.curve,di),i.text=i.title,typeof i.text>"u"?typeof i.style<"u"&&(a.arrowheadStyle="fill: #333"):(a.arrowheadStyle="fill: #333",a.labelpos="c",J().flowchart.htmlLabels?(a.labelType="html",a.label='<span class="edgeLabel">'+i.text+"</span>"):(a.labelType="text",a.label=i.text.replace(ge.lineBreakRegex,`
`),typeof i.style>"u"&&(a.style=a.style||"stroke: #333; stroke-width: 1.5px;fill:none"),a.labelStyle=a.labelStyle.replace("color:","fill:"))),e.setEdge(i.id1,i.id2,a,r)})},G0t=function(t){Object.keys(t).forEach(function(n){t[n]})},j0t=function(t,e,n,r){Y.info("Drawing class - ",e);const i=J().flowchart,a=J().securityLevel;Y.info("config:",i);const s=i.nodeSpacing||50,o=i.rankSpacing||50,l=new gn.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:r.db.getDirection(),nodesep:s,ranksep:o,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),u=r.db.getClasses(),h=r.db.getRelations();Y.info(h),W0t(u,l,e,r),H0t(h,l);let d;a==="sandbox"&&(d=Lt("#i"+e));const f=Lt(a==="sandbox"?d.nodes()[0].contentDocument.body:"body"),p=f.select(`[id="${e}"]`),y=f.select("#"+e+" g");if(I5(y,l,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",e),b2(l,p,i.diagramPadding,i.useMaxWidth),!i.htmlLabels){const m=a==="sandbox"?d.nodes()[0].contentDocument:document,b=m.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(let x=0;x<b.length;x++){const k=b[x],T=k.getBBox(),S=m.createElementNS("http://www.w3.org/2000/svg","rect");S.setAttribute("rx",0),S.setAttribute("ry",0),S.setAttribute("width",T.width),S.setAttribute("height",T.height),k.insertBefore(S,k.firstChild)}}kr(r.db,p,e)};function X9(t){let e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;case 4:e="lollipop";break;default:e="none"}return e}const X0t={setConf:G0t,draw:j0t};var jv=function(){var t=function(C,N,v,E){for(v=v||{},E=C.length;E--;v[C[E]]=N);return v},e=[1,2],n=[1,5],r=[6,9,11,23,25,27,29,30,31,49],i=[1,17],a=[1,18],s=[1,19],o=[1,20],l=[1,21],u=[1,22],h=[1,25],d=[1,30],f=[1,31],p=[1,32],y=[1,33],m=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],b=[1,45],x=[30,31,46,47],k=[4,6,9,11,23,25,27,29,30,31,49],T=[42,43,44,45],S=[22,37],L=[1,64],R={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(N,v,E,_,V,B,G){var tt=B.length-1;switch(V){case 1:break;case 3:this.$=[];break;case 4:B[tt-1].push(B[tt]),this.$=B[tt-1];break;case 5:case 6:this.$=B[tt];break;case 7:case 8:this.$=[];break;case 12:_.addEntity(B[tt-4]),_.addEntity(B[tt-2]),_.addRelationship(B[tt-4],B[tt],B[tt-2],B[tt-3]);break;case 13:_.addEntity(B[tt-3]),_.addAttributes(B[tt-3],B[tt-1]);break;case 14:_.addEntity(B[tt-2]);break;case 15:_.addEntity(B[tt]);break;case 16:case 17:this.$=B[tt].trim(),_.setAccTitle(this.$);break;case 18:case 19:this.$=B[tt].trim(),_.setAccDescription(this.$);break;case 20:case 41:this.$=B[tt];break;case 21:case 39:case 40:this.$=B[tt].replace(/"/g,"");break;case 22:this.$=[B[tt]];break;case 23:B[tt].push(B[tt-1]),this.$=B[tt];break;case 24:this.$={attributeType:B[tt-1],attributeName:B[tt]};break;case 25:this.$={attributeType:B[tt-2],attributeName:B[tt-1],attributeKeyType:B[tt]};break;case 26:this.$={attributeType:B[tt-2],attributeName:B[tt-1],attributeComment:B[tt]};break;case 27:this.$={attributeType:B[tt-3],attributeName:B[tt-2],attributeKeyType:B[tt-1],attributeComment:B[tt]};break;case 28:case 29:case 30:this.$=B[tt];break;case 31:this.$=B[tt].replace(/"/g,"");break;case 32:this.$={cardA:B[tt],relType:B[tt-1],cardB:B[tt-2]};break;case 33:this.$=_.Cardinality.ZERO_OR_ONE;break;case 34:this.$=_.Cardinality.ZERO_OR_MORE;break;case 35:this.$=_.Cardinality.ONE_OR_MORE;break;case 36:this.$=_.Cardinality.ONLY_ONE;break;case 37:this.$=_.Identification.NON_IDENTIFYING;break;case 38:this.$=_.Identification.IDENTIFYING;break;case 42:_.parseDirective("%%{","open_directive");break;case 43:_.parseDirective(B[tt],"type_directive");break;case 44:B[tt]=B[tt].trim().replace(/'/g,'"'),_.parseDirective(B[tt],"arg_directive");break;case 45:_.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:e,7:3,12:4,49:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,49:n},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:i,25:a,27:s,29:o,30:l,31:u,49:n},{1:[2,2]},{14:23,15:[1,24],52:h},t([15,52],[2,43]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:15,10:26,12:4,17:16,23:i,25:a,27:s,29:o,30:l,31:u,49:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),t(r,[2,15],{18:27,40:29,20:[1,28],42:d,43:f,44:p,45:y}),{24:[1,34]},{26:[1,35]},{28:[1,36]},t(r,[2,19]),t(m,[2,20]),t(m,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},t(r,[2,5]),{17:40,30:l,31:u},{21:41,22:[1,42],32:43,33:44,37:b},{41:46,46:[1,47],47:[1,48]},t(x,[2,33]),t(x,[2,34]),t(x,[2,35]),t(x,[2,36]),t(r,[2,16]),t(r,[2,17]),t(r,[2,18]),t(k,[2,9]),{14:49,52:h},{52:[2,44]},{15:[1,50]},{22:[1,51]},t(r,[2,14]),{21:52,22:[2,22],32:43,33:44,37:b},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:d,43:f,44:p,45:y},t(T,[2,37]),t(T,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},t(r,[2,13]),{22:[2,23]},t(S,[2,24],{35:61,36:62,38:[1,63],39:L}),t([22,37,38,39],[2,29]),t([30,31],[2,32]),t(k,[2,10]),t(r,[2,12]),t(r,[2,39]),t(r,[2,40]),t(r,[2,41]),t(S,[2,25],{36:65,39:L}),t(S,[2,26]),t([22,37,39],[2,30]),t(S,[2,31]),t(S,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:function(N,v){if(v.recoverable)this.trace(N);else{var E=new Error(N);throw E.hash=v,E}},parse:function(N){var v=this,E=[0],_=[],V=[null],B=[],G=this.table,tt="",ut=0,X=0,z=2,j=1,ht=B.slice.call(arguments,1),it=Object.create(this.lexer),et={yy:{}};for(var ft in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ft)&&(et.yy[ft]=this.yy[ft]);it.setInput(N,et.yy),et.yy.lexer=it,et.yy.parser=this,typeof it.yylloc>"u"&&(it.yylloc={});var st=it.yylloc;B.push(st);var wt=it.options&&it.options.ranges;typeof et.yy.parseError=="function"?this.parseError=et.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Z(){var Mt;return Mt=_.pop()||it.lex()||j,typeof Mt!="number"&&(Mt instanceof Array&&(_=Mt,Mt=_.pop()),Mt=v.symbols_[Mt]||Mt),Mt}for(var F,H,q,D,$={},U,P,K,ct;;){if(H=E[E.length-1],this.defaultActions[H]?q=this.defaultActions[H]:((F===null||typeof F>"u")&&(F=Z()),q=G[H]&&G[H][F]),typeof q>"u"||!q.length||!q[0]){var Dt="";ct=[];for(U in G[H])this.terminals_[U]&&U>z&&ct.push("'"+this.terminals_[U]+"'");it.showPosition?Dt="Parse error on line "+(ut+1)+`:
`+it.showPosition()+`
Expecting `+ct.join(", ")+", got '"+(this.terminals_[F]||F)+"'":Dt="Parse error on line "+(ut+1)+": Unexpected "+(F==j?"end of input":"'"+(this.terminals_[F]||F)+"'"),this.parseError(Dt,{text:it.match,token:this.terminals_[F]||F,line:it.yylineno,loc:st,expected:ct})}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+H+", token: "+F);switch(q[0]){case 1:E.push(F),V.push(it.yytext),B.push(it.yylloc),E.push(q[1]),F=null,X=it.yyleng,tt=it.yytext,ut=it.yylineno,st=it.yylloc;break;case 2:if(P=this.productions_[q[1]][1],$.$=V[V.length-P],$._$={first_line:B[B.length-(P||1)].first_line,last_line:B[B.length-1].last_line,first_column:B[B.length-(P||1)].first_column,last_column:B[B.length-1].last_column},wt&&($._$.range=[B[B.length-(P||1)].range[0],B[B.length-1].range[1]]),D=this.performAction.apply($,[tt,X,ut,et.yy,q[1],V,B].concat(ht)),typeof D<"u")return D;P&&(E=E.slice(0,-1*P*2),V=V.slice(0,-1*P),B=B.slice(0,-1*P)),E.push(this.productions_[q[1]][0]),V.push($.$),B.push($._$),K=G[E[E.length-2]][E[E.length-1]],E.push(K);break;case 3:return!0}}return!0}},A=function(){var C={EOF:1,parseError:function(v,E){if(this.yy.parser)this.yy.parser.parseError(v,E);else throw new Error(v)},setInput:function(N,v){return this.yy=v||this.yy||{},this._input=N,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var N=this._input[0];this.yytext+=N,this.yyleng++,this.offset++,this.match+=N,this.matched+=N;var v=N.match(/(?:\r\n?|\n).*/g);return v?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),N},unput:function(N){var v=N.length,E=N.split(/(?:\r\n?|\n)/g);this._input=N+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-v),this.offset-=v;var _=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),E.length-1&&(this.yylineno-=E.length-1);var V=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:E?(E.length===_.length?this.yylloc.first_column:0)+_[_.length-E.length].length-E[0].length:this.yylloc.first_column-v},this.options.ranges&&(this.yylloc.range=[V[0],V[0]+this.yyleng-v]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(N){this.unput(this.match.slice(N))},pastInput:function(){var N=this.matched.substr(0,this.matched.length-this.match.length);return(N.length>20?"...":"")+N.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var N=this.match;return N.length<20&&(N+=this._input.substr(0,20-N.length)),(N.substr(0,20)+(N.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var N=this.pastInput(),v=new Array(N.length+1).join("-");return N+this.upcomingInput()+`
`+v+"^"},test_match:function(N,v){var E,_,V;if(this.options.backtrack_lexer&&(V={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(V.yylloc.range=this.yylloc.range.slice(0))),_=N[0].match(/(?:\r\n?|\n).*/g),_&&(this.yylineno+=_.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:_?_[_.length-1].length-_[_.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+N[0].length},this.yytext+=N[0],this.match+=N[0],this.matches=N,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(N[0].length),this.matched+=N[0],E=this.performAction.call(this,this.yy,this,v,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),E)return E;if(this._backtrack){for(var B in V)this[B]=V[B];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var N,v,E,_;this._more||(this.yytext="",this.match="");for(var V=this._currentRules(),B=0;B<V.length;B++)if(E=this._input.match(this.rules[V[B]]),E&&(!v||E[0].length>v[0].length)){if(v=E,_=B,this.options.backtrack_lexer){if(N=this.test_match(E,V[B]),N!==!1)return N;if(this._backtrack){v=!1;continue}else return!1}else if(!this.options.flex)break}return v?(N=this.test_match(v,V[_]),N!==!1?N:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var v=this.next();return v||this.lex()},begin:function(v){this.conditionStack.push(v)},popState:function(){var v=this.conditionStack.length-1;return v>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(v){return v=this.conditionStack.length-1-Math.abs(v||0),v>=0?this.conditionStack[v]:"INITIAL"},pushState:function(v){this.begin(v)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(v,E,_,V){switch(_){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 21:break;case 22:return 38;case 23:return 37;case 24:return 37;case 25:return 39;case 26:break;case 27:return this.popState(),22;case 28:return E.yytext[0];case 29:return 42;case 30:return 43;case 31:return 44;case 32:return 45;case 33:return 42;case 34:return 43;case 35:return 44;case 36:return 46;case 37:return 47;case 38:return 46;case 39:return 46;case 40:return 30;case 41:return E.yytext[0];case 42:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:!0}}};return C}();R.lexer=A;function I(){this.yy={}}return I.prototype=R,R.Parser=I,new I}();jv.parser=jv;const K0t=t=>t.match(/^\s*erDiagram/)!==null;let pu={},B5=[];const Z0t={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Q0t={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},J0t=function(t,e,n){en.parseDirective(this,t,e,n)},fB=function(t){return typeof pu[t]>"u"&&(pu[t]={attributes:[]},Y.info("Added new entity :",t)),pu[t]},tdt=()=>pu,edt=function(t,e){let n=fB(t),r;for(r=e.length-1;r>=0;r--)n.attributes.push(e[r]),Y.debug("Added attribute ",e[r].attributeName)},ndt=function(t,e,n,r){let i={entityA:t,roleA:e,entityB:n,relSpec:r};B5.push(i),Y.debug("Added new relationship :",i)},rdt=()=>B5,idt=function(){pu={},B5=[],Si()},adt={Cardinality:Z0t,Identification:Q0t,parseDirective:J0t,getConfig:()=>J().er,addEntity:fB,addAttributes:edt,getEntities:tdt,addRelationship:ndt,getRelationships:rdt,clear:idt,setAccTitle:Qr,getAccTitle:Ai,setAccDescription:Mi,getAccDescription:Li},ka={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},sdt=function(t,e){let n;t.append("defs").append("marker").attr("id",ka.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",ka.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",ka.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),n=t.append("defs").append("marker").attr("id",ka.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",ka.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",ka.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),n=t.append("defs").append("marker").attr("id",ka.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),n=t.append("defs").append("marker").attr("id",ka.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),n.append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},Ta={ERMarkers:ka,insertMarkers:sdt},odt=/[^A-Za-z0-9]([\W])*/g;let Ge={},eh=new Map;const cdt=function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)Ge[e[n]]=t[e[n]]},ldt=(t,e,n)=>{const r=Ge.entityPadding/3,i=Ge.entityPadding/3,a=Ge.fontSize*.85,s=e.node().getBBox(),o=[];let l=!1,u=!1,h=0,d=0,f=0,p=0,y=s.height+r*2,m=1;n.forEach(T=>{T.attributeKeyType!==void 0&&(l=!0),T.attributeComment!==void 0&&(u=!0)}),n.forEach(T=>{const S=`${e.node().id}-attr-${m}`;let L=0;const R=hs(T.attributeType),A=t.append("text").attr("class","er entityLabel").attr("id",`${S}-type`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+J().fontFamily+"; font-size: "+a+"px").text(R),I=t.append("text").attr("class","er entityLabel").attr("id",`${S}-name`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+J().fontFamily+"; font-size: "+a+"px").text(T.attributeName),C={};C.tn=A,C.nn=I;const N=A.node().getBBox(),v=I.node().getBBox();if(h=Math.max(h,N.width),d=Math.max(d,v.width),L=Math.max(N.height,v.height),l){const E=t.append("text").attr("class","er entityLabel").attr("id",`${S}-key`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+J().fontFamily+"; font-size: "+a+"px").text(T.attributeKeyType||"");C.kn=E;const _=E.node().getBBox();f=Math.max(f,_.width),L=Math.max(L,_.height)}if(u){const E=t.append("text").attr("class","er entityLabel").attr("id",`${S}-comment`).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+J().fontFamily+"; font-size: "+a+"px").text(T.attributeComment||"");C.cn=E;const _=E.node().getBBox();p=Math.max(p,_.width),L=Math.max(L,_.height)}C.height=L,o.push(C),y+=L+r*2,m+=1});let b=4;l&&(b+=2),u&&(b+=2);const x=h+d+f+p,k={width:Math.max(Ge.minEntityWidth,Math.max(s.width+Ge.entityPadding*2,x+i*b)),height:n.length>0?y:Math.max(Ge.minEntityHeight,s.height+Ge.entityPadding*2)};if(n.length>0){const T=Math.max(0,(k.width-x-i*b)/(b/2));e.attr("transform","translate("+k.width/2+","+(r+s.height/2)+")");let S=s.height+r*2,L="attributeBoxOdd";o.forEach(R=>{const A=S+r+R.height/2;R.tn.attr("transform","translate("+i+","+A+")");const I=t.insert("rect","#"+R.tn.node().id).attr("class",`er ${L}`).attr("fill",Ge.fill).attr("fill-opacity","100%").attr("stroke",Ge.stroke).attr("x",0).attr("y",S).attr("width",h+i*2+T).attr("height",R.height+r*2),C=parseFloat(I.attr("x"))+parseFloat(I.attr("width"));R.nn.attr("transform","translate("+(C+i)+","+A+")");const N=t.insert("rect","#"+R.nn.node().id).attr("class",`er ${L}`).attr("fill",Ge.fill).attr("fill-opacity","100%").attr("stroke",Ge.stroke).attr("x",C).attr("y",S).attr("width",d+i*2+T).attr("height",R.height+r*2);let v=parseFloat(N.attr("x"))+parseFloat(N.attr("width"));if(l){R.kn.attr("transform","translate("+(v+i)+","+A+")");const E=t.insert("rect","#"+R.kn.node().id).attr("class",`er ${L}`).attr("fill",Ge.fill).attr("fill-opacity","100%").attr("stroke",Ge.stroke).attr("x",v).attr("y",S).attr("width",f+i*2+T).attr("height",R.height+r*2);v=parseFloat(E.attr("x"))+parseFloat(E.attr("width"))}u&&(R.cn.attr("transform","translate("+(v+i)+","+A+")"),t.insert("rect","#"+R.cn.node().id).attr("class",`er ${L}`).attr("fill",Ge.fill).attr("fill-opacity","100%").attr("stroke",Ge.stroke).attr("x",v).attr("y",S).attr("width",p+i*2+T).attr("height",R.height+r*2)),S+=R.height+r*2,L=L==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else k.height=Math.max(Ge.minEntityHeight,y),e.attr("transform","translate("+k.width/2+","+k.height/2+")");return k},udt=function(t,e,n){const r=Object.keys(e);let i;return r.forEach(function(a){const s=gdt(a,"entity");eh.set(a,s);const o=t.append("g").attr("id",s);i=i===void 0?s:i;const l="text-"+s,u=o.append("text").attr("class","er entityLabel").attr("id",l).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+J().fontFamily+"; font-size: "+Ge.fontSize+"px").text(a),{width:h,height:d}=ldt(o,u,e[a].attributes),p=o.insert("rect","#"+l).attr("class","er entityBox").attr("fill",Ge.fill).attr("fill-opacity","100%").attr("stroke",Ge.stroke).attr("x",0).attr("y",0).attr("width",h).attr("height",d).node().getBBox();n.setNode(s,{width:p.width,height:p.height,shape:"rect",id:s})}),i},hdt=function(t,e){e.nodes().forEach(function(n){typeof n<"u"&&typeof e.node(n)<"u"&&t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )")})},dB=function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},fdt=function(t,e){return t.forEach(function(n){e.setEdge(eh.get(n.entityA),eh.get(n.entityB),{relationship:n},dB(n))}),t};let K9=0;const ddt=function(t,e,n,r,i){K9++;const a=n.edge(eh.get(e.entityA),eh.get(e.entityB),dB(e)),s=hh().x(function(y){return y.x}).y(function(y){return y.y}).curve(kc),o=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",s(a.points)).attr("stroke",Ge.stroke).attr("fill","none");e.relSpec.relType===i.db.Identification.NON_IDENTIFYING&&o.attr("stroke-dasharray","8,8");let l="";switch(Ge.arrowMarkerAbsolute&&(l=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,l=l.replace(/\(/g,"\\("),l=l.replace(/\)/g,"\\)")),e.relSpec.cardA){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-end","url("+l+"#"+Ta.ERMarkers.ZERO_OR_ONE_END+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-end","url("+l+"#"+Ta.ERMarkers.ZERO_OR_MORE_END+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-end","url("+l+"#"+Ta.ERMarkers.ONE_OR_MORE_END+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-end","url("+l+"#"+Ta.ERMarkers.ONLY_ONE_END+")");break}switch(e.relSpec.cardB){case i.db.Cardinality.ZERO_OR_ONE:o.attr("marker-start","url("+l+"#"+Ta.ERMarkers.ZERO_OR_ONE_START+")");break;case i.db.Cardinality.ZERO_OR_MORE:o.attr("marker-start","url("+l+"#"+Ta.ERMarkers.ZERO_OR_MORE_START+")");break;case i.db.Cardinality.ONE_OR_MORE:o.attr("marker-start","url("+l+"#"+Ta.ERMarkers.ONE_OR_MORE_START+")");break;case i.db.Cardinality.ONLY_ONE:o.attr("marker-start","url("+l+"#"+Ta.ERMarkers.ONLY_ONE_START+")");break}const u=o.node().getTotalLength(),h=o.node().getPointAtLength(u*.5),d="rel"+K9,p=t.append("text").attr("class","er relationshipLabel").attr("id",d).attr("x",h.x).attr("y",h.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+J().fontFamily+"; font-size: "+Ge.fontSize+"px").text(e.roleA).node().getBBox();t.insert("rect","#"+d).attr("class","er relationshipLabelBox").attr("x",h.x-p.width/2).attr("y",h.y-p.height/2).attr("width",p.width).attr("height",p.height).attr("fill","white").attr("fill-opacity","85%")},pdt=function(t,e,n,r){Ge=J().er,Y.info("Drawing ER diagram");const i=J().securityLevel;let a;i==="sandbox"&&(a=Lt("#i"+e));const o=Lt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);Ta.insertMarkers(o,Ge);let l;l=new gn.Graph({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:Ge.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const u=udt(o,r.db.getEntities(),l),h=fdt(r.db.getRelationships(),l);Gc.layout(l),hdt(o,l),h.forEach(function(m){ddt(o,m,l,u,r)});const d=Ge.diagramPadding,f=o.node().getBBox(),p=f.width+d*2,y=f.height+d*2;Ci(o,y,p,Ge.useMaxWidth),o.attr("viewBox",`${f.x-d} ${f.y-d} ${p} ${y}`),kr(r.db,o,e)};function gdt(t="",e=""){const n=t.replace(odt,"");return`${Z9(e)}${Z9(n)}${BO()}`}function Z9(t=""){return t.length>0?`${t}-`:""}const ydt={setConf:cdt,draw:pdt};var Z0=function(){var t=function(Tr,Kt,ne,ue){for(ne=ne||{},ue=Tr.length;ue--;ne[Tr[ue]]=Kt);return ne},e=[1,9],n=[1,7],r=[1,6],i=[1,8],a=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],s=[2,10],o=[1,20],l=[1,21],u=[1,22],h=[1,23],d=[1,30],f=[1,32],p=[1,33],y=[1,34],m=[1,62],b=[1,48],x=[1,52],k=[1,36],T=[1,37],S=[1,38],L=[1,39],R=[1,40],A=[1,56],I=[1,63],C=[1,51],N=[1,53],v=[1,55],E=[1,59],_=[1,60],V=[1,41],B=[1,42],G=[1,43],tt=[1,44],ut=[1,61],X=[1,50],z=[1,54],j=[1,57],ht=[1,58],it=[1,49],et=[1,66],ft=[1,71],st=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],wt=[1,75],Z=[1,74],F=[1,76],H=[20,21,23,81,82],q=[1,99],D=[1,104],$=[1,107],U=[1,108],P=[1,101],K=[1,106],ct=[1,109],Dt=[1,102],Mt=[1,114],Ot=[1,113],Ct=[1,103],dt=[1,105],yt=[1,110],bt=[1,111],Tt=[1,112],ot=[1,115],le=[20,21,22,23,81,82],It=[20,21,22,23,53,81,82],Ht=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Xt=[20,21,23],Jt=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Te=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Gt=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],Ft=[1,149],Vt=[1,157],kt=[1,158],mt=[1,159],Et=[1,160],xt=[1,144],zt=[1,145],pt=[1,141],fe=[1,152],gt=[1,153],re=[1,154],_e=[1,155],ye=[1,156],ve=[1,161],Ee=[1,162],Wt=[1,147],se=[1,150],me=[1,146],he=[1,143],oa=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Vn=[1,165],De=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],oe=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],Je=[12,21,22,24],En=[22,106],Ze=[1,250],tn=[1,245],$t=[1,246],nt=[1,254],St=[1,251],Rt=[1,248],te=[1,247],He=[1,249],$e=[1,252],qe=[1,253],Cn=[1,255],Ue=[1,273],ca=[20,21,23,106],Ce=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],Ri={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(Kt,ne,ue,Pt,Qe,Q,Is){var rt=Q.length-1;switch(Qe){case 5:Pt.parseDirective("%%{","open_directive");break;case 6:Pt.parseDirective(Q[rt],"type_directive");break;case 7:Q[rt]=Q[rt].trim().replace(/'/g,'"'),Pt.parseDirective(Q[rt],"arg_directive");break;case 8:Pt.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(Q[rt])||Q[rt].length>0)&&Q[rt-1].push(Q[rt]),this.$=Q[rt-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=Q[rt];break;case 19:Pt.setDirection("TB"),this.$="TB";break;case 20:Pt.setDirection(Q[rt-1]),this.$=Q[rt-1];break;case 35:this.$=Q[rt-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=Pt.addSubGraph(Q[rt-6],Q[rt-1],Q[rt-4]);break;case 42:this.$=Pt.addSubGraph(Q[rt-3],Q[rt-1],Q[rt-3]);break;case 43:this.$=Pt.addSubGraph(void 0,Q[rt-1],void 0);break;case 45:this.$=Q[rt].trim(),Pt.setAccTitle(this.$);break;case 46:case 47:this.$=Q[rt].trim(),Pt.setAccDescription(this.$);break;case 51:Pt.addLink(Q[rt-2].stmt,Q[rt],Q[rt-1]),this.$={stmt:Q[rt],nodes:Q[rt].concat(Q[rt-2].nodes)};break;case 52:Pt.addLink(Q[rt-3].stmt,Q[rt-1],Q[rt-2]),this.$={stmt:Q[rt-1],nodes:Q[rt-1].concat(Q[rt-3].nodes)};break;case 53:this.$={stmt:Q[rt-1],nodes:Q[rt-1]};break;case 54:this.$={stmt:Q[rt],nodes:Q[rt]};break;case 55:this.$=[Q[rt]];break;case 56:this.$=Q[rt-4].concat(Q[rt]);break;case 57:this.$=[Q[rt-2]],Pt.setClass(Q[rt-2],Q[rt]);break;case 58:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"square");break;case 59:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"doublecircle");break;case 60:this.$=Q[rt-5],Pt.addVertex(Q[rt-5],Q[rt-2],"circle");break;case 61:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"ellipse");break;case 62:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"stadium");break;case 63:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"subroutine");break;case 64:this.$=Q[rt-7],Pt.addVertex(Q[rt-7],Q[rt-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Q[rt-5],Q[rt-3]]]));break;case 65:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"cylinder");break;case 66:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"round");break;case 67:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"diamond");break;case 68:this.$=Q[rt-5],Pt.addVertex(Q[rt-5],Q[rt-2],"hexagon");break;case 69:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"odd");break;case 70:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"trapezoid");break;case 71:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"inv_trapezoid");break;case 72:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"lean_right");break;case 73:this.$=Q[rt-3],Pt.addVertex(Q[rt-3],Q[rt-1],"lean_left");break;case 74:this.$=Q[rt],Pt.addVertex(Q[rt]);break;case 75:Q[rt-1].text=Q[rt],this.$=Q[rt-1];break;case 76:case 77:Q[rt-2].text=Q[rt-1],this.$=Q[rt-2];break;case 78:this.$=Q[rt];break;case 79:var Yn=Pt.destructLink(Q[rt],Q[rt-2]);this.$={type:Yn.type,stroke:Yn.stroke,length:Yn.length,text:Q[rt-1]};break;case 80:var Yn=Pt.destructLink(Q[rt]);this.$={type:Yn.type,stroke:Yn.stroke,length:Yn.length};break;case 81:this.$=Q[rt-1];break;case 83:case 97:case 153:this.$=Q[rt-1]+""+Q[rt];break;case 98:case 99:this.$=Q[rt-4],Pt.addClass(Q[rt-2],Q[rt]);break;case 100:this.$=Q[rt-4],Pt.setClass(Q[rt-2],Q[rt]);break;case 101:case 109:this.$=Q[rt-1],Pt.setClickEvent(Q[rt-1],Q[rt]);break;case 102:case 110:this.$=Q[rt-3],Pt.setClickEvent(Q[rt-3],Q[rt-2]),Pt.setTooltip(Q[rt-3],Q[rt]);break;case 103:this.$=Q[rt-2],Pt.setClickEvent(Q[rt-2],Q[rt-1],Q[rt]);break;case 104:this.$=Q[rt-4],Pt.setClickEvent(Q[rt-4],Q[rt-3],Q[rt-2]),Pt.setTooltip(Q[rt-4],Q[rt]);break;case 105:case 111:this.$=Q[rt-1],Pt.setLink(Q[rt-1],Q[rt]);break;case 106:case 112:this.$=Q[rt-3],Pt.setLink(Q[rt-3],Q[rt-2]),Pt.setTooltip(Q[rt-3],Q[rt]);break;case 107:case 113:this.$=Q[rt-3],Pt.setLink(Q[rt-3],Q[rt-2],Q[rt]);break;case 108:case 114:this.$=Q[rt-5],Pt.setLink(Q[rt-5],Q[rt-4],Q[rt]),Pt.setTooltip(Q[rt-5],Q[rt-2]);break;case 115:this.$=Q[rt-4],Pt.addVertex(Q[rt-2],void 0,void 0,Q[rt]);break;case 116:case 118:this.$=Q[rt-4],Pt.updateLink(Q[rt-2],Q[rt]);break;case 117:this.$=Q[rt-4],Pt.updateLink([Q[rt-2]],Q[rt]);break;case 119:this.$=Q[rt-8],Pt.updateLinkInterpolate([Q[rt-6]],Q[rt-2]),Pt.updateLink([Q[rt-6]],Q[rt]);break;case 120:this.$=Q[rt-8],Pt.updateLinkInterpolate(Q[rt-6],Q[rt-2]),Pt.updateLink(Q[rt-6],Q[rt]);break;case 121:this.$=Q[rt-6],Pt.updateLinkInterpolate([Q[rt-4]],Q[rt]);break;case 122:this.$=Q[rt-6],Pt.updateLinkInterpolate(Q[rt-4],Q[rt]);break;case 123:case 125:this.$=[Q[rt]];break;case 124:case 126:Q[rt-2].push(Q[rt]),this.$=Q[rt-2];break;case 128:this.$=Q[rt-1]+Q[rt];break;case 150:this.$=Q[rt];break;case 151:this.$=Q[rt-1]+""+Q[rt];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},t(a,s,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:r,24:i},{16:15,21:n,22:r,24:i},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:o,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,43:31,44:f,46:p,48:y,50:35,51:45,52:m,54:46,66:b,67:x,86:k,87:T,88:S,89:L,90:R,91:A,95:I,105:C,106:N,109:v,111:E,112:_,116:47,118:V,119:B,120:G,121:tt,122:ut,123:X,124:z,125:j,126:ht,127:it},{8:64,10:[1,65],15:et},t([10,15],[2,6]),t(a,[2,17]),t(a,[2,18]),t(a,[2,19]),{20:[1,68],21:[1,69],22:ft,27:67,30:70},t(st,[2,11]),t(st,[2,12]),t(st,[2,13]),t(st,[2,14]),t(st,[2,15]),t(st,[2,16]),{9:72,20:wt,21:Z,23:F,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:wt,21:Z,23:F},{9:81,20:wt,21:Z,23:F},{9:82,20:wt,21:Z,23:F},{9:83,20:wt,21:Z,23:F},{9:84,20:wt,21:Z,23:F},{9:86,20:wt,21:Z,22:[1,85],23:F},t(st,[2,44]),{45:[1,87]},{47:[1,88]},t(st,[2,47]),t(H,[2,54],{30:89,22:ft}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:q,52:D,66:$,67:U,84:[1,97],91:P,97:96,98:[1,94],100:[1,95],105:K,106:ct,109:Dt,111:Mt,112:Ot,115:100,117:98,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(st,[2,158]),t(st,[2,159]),t(st,[2,160]),t(st,[2,161]),t(le,[2,55],{53:[1,116]}),t(It,[2,74],{116:129,40:[1,117],52:m,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:b,67:x,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:A,95:I,105:C,106:N,109:v,111:E,112:_,122:ut,123:X,124:z,125:j,126:ht,127:it}),t(Ht,[2,150]),t(Ht,[2,175]),t(Ht,[2,176]),t(Ht,[2,177]),t(Ht,[2,178]),t(Ht,[2,179]),t(Ht,[2,180]),t(Ht,[2,181]),t(Ht,[2,182]),t(Ht,[2,183]),t(Ht,[2,184]),t(Ht,[2,185]),t(Ht,[2,186]),t(Ht,[2,187]),t(Ht,[2,188]),t(Ht,[2,189]),t(Ht,[2,190]),{9:130,20:wt,21:Z,23:F},{11:131,14:[1,132]},t(Xt,[2,8]),t(a,[2,20]),t(a,[2,26]),t(a,[2,27]),{21:[1,133]},t(Jt,[2,34],{30:134,22:ft}),t(st,[2,35]),{50:135,51:45,52:m,54:46,66:b,67:x,91:A,95:I,105:C,106:N,109:v,111:E,112:_,116:47,122:ut,123:X,124:z,125:j,126:ht,127:it},t(Te,[2,48]),t(Te,[2,49]),t(Te,[2,50]),t(Gt,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:Ft,24:Vt,26:kt,38:mt,39:139,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),t(st,[2,36]),t(st,[2,37]),t(st,[2,38]),t(st,[2,39]),t(st,[2,40]),{22:Ft,24:Vt,26:kt,38:mt,39:163,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(oa,s,{17:164}),t(st,[2,45]),t(st,[2,46]),t(H,[2,53],{52:Vn}),{26:q,52:D,66:$,67:U,91:P,97:166,102:[1,167],105:K,106:ct,109:Dt,111:Mt,112:Ot,115:100,117:98,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{95:[1,168],103:169,105:[1,170]},{26:q,52:D,66:$,67:U,91:P,95:[1,171],97:172,105:K,106:ct,109:Dt,111:Mt,112:Ot,115:100,117:98,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{26:q,52:D,66:$,67:U,91:P,97:173,105:K,106:ct,109:Dt,111:Mt,112:Ot,115:100,117:98,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(Xt,[2,101],{22:[1,174],99:[1,175]}),t(Xt,[2,105],{22:[1,176]}),t(Xt,[2,109],{115:100,117:178,22:[1,177],26:q,52:D,66:$,67:U,91:P,105:K,106:ct,109:Dt,111:Mt,112:Ot,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot}),t(Xt,[2,111],{22:[1,179]}),t(De,[2,152]),t(De,[2,154]),t(De,[2,155]),t(De,[2,156]),t(De,[2,157]),t(oe,[2,162]),t(oe,[2,163]),t(oe,[2,164]),t(oe,[2,165]),t(oe,[2,166]),t(oe,[2,167]),t(oe,[2,168]),t(oe,[2,169]),t(oe,[2,170]),t(oe,[2,171]),t(oe,[2,172]),t(oe,[2,173]),t(oe,[2,174]),{52:m,54:180,66:b,67:x,91:A,95:I,105:C,106:N,109:v,111:E,112:_,116:47,122:ut,123:X,124:z,125:j,126:ht,127:it},{22:Ft,24:Vt,26:kt,38:mt,39:181,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,39:182,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,39:184,42:Et,52:D,57:[1,183],66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,39:185,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,39:186,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,39:187,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{66:[1,188]},{22:Ft,24:Vt,26:kt,38:mt,39:189,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,39:190,42:Et,52:D,66:$,67:U,71:[1,191],73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,39:192,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,39:193,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,39:194,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(Ht,[2,151]),t(Je,[2,3]),{8:195,15:et},{15:[2,7]},t(a,[2,28]),t(Jt,[2,33]),t(H,[2,51],{30:196,22:ft}),t(Gt,[2,75],{22:[1,197]}),{22:[1,198]},{22:Ft,24:Vt,26:kt,38:mt,39:199,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,66:$,67:U,73:xt,81:zt,82:[1,200],83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(oe,[2,82]),t(oe,[2,84]),t(oe,[2,140]),t(oe,[2,141]),t(oe,[2,142]),t(oe,[2,143]),t(oe,[2,144]),t(oe,[2,145]),t(oe,[2,146]),t(oe,[2,147]),t(oe,[2,148]),t(oe,[2,149]),t(oe,[2,85]),t(oe,[2,86]),t(oe,[2,87]),t(oe,[2,88]),t(oe,[2,89]),t(oe,[2,90]),t(oe,[2,91]),t(oe,[2,92]),t(oe,[2,93]),t(oe,[2,94]),t(oe,[2,95]),{9:203,20:wt,21:Z,22:Ft,23:F,24:Vt,26:kt,38:mt,40:[1,202],42:Et,52:D,66:$,67:U,73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{18:18,19:19,20:o,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,42:[1,204],43:31,44:f,46:p,48:y,50:35,51:45,52:m,54:46,66:b,67:x,86:k,87:T,88:S,89:L,90:R,91:A,95:I,105:C,106:N,109:v,111:E,112:_,116:47,118:V,119:B,120:G,121:tt,122:ut,123:X,124:z,125:j,126:ht,127:it},{22:ft,30:205},{22:[1,206],26:q,52:D,66:$,67:U,91:P,105:K,106:ct,109:Dt,111:Mt,112:Ot,115:100,117:178,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},t(En,[2,123]),{22:[1,211]},{22:[1,212],26:q,52:D,66:$,67:U,91:P,105:K,106:ct,109:Dt,111:Mt,112:Ot,115:100,117:178,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:[1,213],26:q,52:D,66:$,67:U,91:P,105:K,106:ct,109:Dt,111:Mt,112:Ot,115:100,117:178,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{84:[1,214]},t(Xt,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},t(De,[2,153]),{84:[1,219],101:[1,220]},t(le,[2,57],{116:129,52:m,66:b,67:x,91:A,95:I,105:C,106:N,109:v,111:E,112:_,122:ut,123:X,124:z,125:j,126:ht,127:it}),{22:Ft,24:Vt,26:kt,38:mt,41:[1,221],42:Et,52:D,66:$,67:U,73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,56:[1,222],66:$,67:U,73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,39:223,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,58:[1,224],66:$,67:U,73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,60:[1,225],66:$,67:U,73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,62:[1,226],66:$,67:U,73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,64:[1,227],66:$,67:U,73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{67:[1,228]},{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,66:$,67:U,70:[1,229],73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,66:$,67:U,72:[1,230],73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,39:231,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,41:[1,232],42:Et,52:D,66:$,67:U,73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,66:$,67:U,73:xt,75:[1,233],77:[1,234],81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,66:$,67:U,73:xt,75:[1,236],77:[1,235],81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{9:237,20:wt,21:Z,23:F},t(H,[2,52],{52:Vn}),t(Gt,[2,77]),t(Gt,[2,76]),{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,66:$,67:U,68:[1,238],73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(Gt,[2,79]),t(oe,[2,83]),{22:Ft,24:Vt,26:kt,38:mt,39:239,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(oa,s,{17:240}),t(st,[2,43]),{51:241,52:m,54:46,66:b,67:x,91:A,95:I,105:C,106:N,109:v,111:E,112:_,116:47,122:ut,123:X,124:z,125:j,126:ht,127:it},{22:Ze,66:tn,67:$t,86:nt,96:242,102:St,105:Rt,107:243,108:244,109:te,110:He,111:$e,112:qe,113:Cn},{22:Ze,66:tn,67:$t,86:nt,96:256,102:St,105:Rt,107:243,108:244,109:te,110:He,111:$e,112:qe,113:Cn},{22:Ze,66:tn,67:$t,86:nt,96:257,102:St,104:[1,258],105:Rt,107:243,108:244,109:te,110:He,111:$e,112:qe,113:Cn},{22:Ze,66:tn,67:$t,86:nt,96:259,102:St,104:[1,260],105:Rt,107:243,108:244,109:te,110:He,111:$e,112:qe,113:Cn},{105:[1,261]},{22:Ze,66:tn,67:$t,86:nt,96:262,102:St,105:Rt,107:243,108:244,109:te,110:He,111:$e,112:qe,113:Cn},{22:Ze,66:tn,67:$t,86:nt,96:263,102:St,105:Rt,107:243,108:244,109:te,110:He,111:$e,112:qe,113:Cn},{26:q,52:D,66:$,67:U,91:P,97:264,105:K,106:ct,109:Dt,111:Mt,112:Ot,115:100,117:98,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(Xt,[2,102]),{84:[1,265]},t(Xt,[2,106],{22:[1,266]}),t(Xt,[2,107]),t(Xt,[2,110]),t(Xt,[2,112],{22:[1,267]}),t(Xt,[2,113]),t(It,[2,58]),t(It,[2,59]),{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,58:[1,268],66:$,67:U,73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(It,[2,66]),t(It,[2,61]),t(It,[2,62]),t(It,[2,63]),{66:[1,269]},t(It,[2,65]),t(It,[2,67]),{22:Ft,24:Vt,26:kt,38:mt,42:Et,52:D,66:$,67:U,72:[1,270],73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(It,[2,69]),t(It,[2,70]),t(It,[2,72]),t(It,[2,71]),t(It,[2,73]),t(Je,[2,4]),t([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:Ft,24:Vt,26:kt,38:mt,41:[1,271],42:Et,52:D,66:$,67:U,73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{18:18,19:19,20:o,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,42:[1,272],43:31,44:f,46:p,48:y,50:35,51:45,52:m,54:46,66:b,67:x,86:k,87:T,88:S,89:L,90:R,91:A,95:I,105:C,106:N,109:v,111:E,112:_,116:47,118:V,119:B,120:G,121:tt,122:ut,123:X,124:z,125:j,126:ht,127:it},t(le,[2,56]),t(Xt,[2,115],{106:Ue}),t(ca,[2,125],{108:274,22:Ze,66:tn,67:$t,86:nt,102:St,105:Rt,109:te,110:He,111:$e,112:qe,113:Cn}),t(Ce,[2,127]),t(Ce,[2,129]),t(Ce,[2,130]),t(Ce,[2,131]),t(Ce,[2,132]),t(Ce,[2,133]),t(Ce,[2,134]),t(Ce,[2,135]),t(Ce,[2,136]),t(Ce,[2,137]),t(Ce,[2,138]),t(Ce,[2,139]),t(Xt,[2,116],{106:Ue}),t(Xt,[2,117],{106:Ue}),{22:[1,275]},t(Xt,[2,118],{106:Ue}),{22:[1,276]},t(En,[2,124]),t(Xt,[2,98],{106:Ue}),t(Xt,[2,99],{106:Ue}),t(Xt,[2,100],{115:100,117:178,26:q,52:D,66:$,67:U,91:P,105:K,106:ct,109:Dt,111:Mt,112:Ot,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot}),t(Xt,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:wt,21:Z,23:F},t(st,[2,42]),{22:Ze,66:tn,67:$t,86:nt,102:St,105:Rt,107:283,108:244,109:te,110:He,111:$e,112:qe,113:Cn},t(Ce,[2,128]),{26:q,52:D,66:$,67:U,91:P,97:284,105:K,106:ct,109:Dt,111:Mt,112:Ot,115:100,117:98,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{26:q,52:D,66:$,67:U,91:P,97:285,105:K,106:ct,109:Dt,111:Mt,112:Ot,115:100,117:98,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(Xt,[2,108]),t(Xt,[2,114]),t(It,[2,60]),{22:Ft,24:Vt,26:kt,38:mt,39:286,42:Et,52:D,66:$,67:U,73:xt,81:zt,83:140,84:pt,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},t(It,[2,68]),t(oa,s,{17:287}),t(ca,[2,126],{108:274,22:Ze,66:tn,67:$t,86:nt,102:St,105:Rt,109:te,110:He,111:$e,112:qe,113:Cn}),t(Xt,[2,121],{115:100,117:178,22:[1,288],26:q,52:D,66:$,67:U,91:P,105:K,106:ct,109:Dt,111:Mt,112:Ot,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot}),t(Xt,[2,122],{115:100,117:178,22:[1,289],26:q,52:D,66:$,67:U,91:P,105:K,106:ct,109:Dt,111:Mt,112:Ot,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot}),{22:Ft,24:Vt,26:kt,38:mt,41:[1,290],42:Et,52:D,66:$,67:U,73:xt,81:zt,83:201,85:151,86:fe,87:gt,88:re,89:_e,90:ye,91:ve,92:Ee,94:142,95:Wt,105:K,106:ct,109:se,111:Mt,112:Ot,113:me,114:he,115:148,122:Ct,123:dt,124:yt,125:bt,126:Tt,127:ot},{18:18,19:19,20:o,21:l,22:u,23:h,32:24,33:25,34:26,35:27,36:28,37:29,38:d,42:[1,291],43:31,44:f,46:p,48:y,50:35,51:45,52:m,54:46,66:b,67:x,86:k,87:T,88:S,89:L,90:R,91:A,95:I,105:C,106:N,109:v,111:E,112:_,116:47,118:V,119:B,120:G,121:tt,122:ut,123:X,124:z,125:j,126:ht,127:it},{22:Ze,66:tn,67:$t,86:nt,96:292,102:St,105:Rt,107:243,108:244,109:te,110:He,111:$e,112:qe,113:Cn},{22:Ze,66:tn,67:$t,86:nt,96:293,102:St,105:Rt,107:243,108:244,109:te,110:He,111:$e,112:qe,113:Cn},t(It,[2,64]),t(st,[2,41]),t(Xt,[2,119],{106:Ue}),t(Xt,[2,120],{106:Ue})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(Kt,ne){if(ne.recoverable)this.trace(Kt);else{var ue=new Error(Kt);throw ue.hash=ne,ue}},parse:function(Kt){var ne=this,ue=[0],Pt=[],Qe=[null],Q=[],Is=this.table,rt="",Yn=0,Nh=0,F2=2,Ih=1,Bh=Q.slice.call(arguments,1),bn=Object.create(this.lexer),Ni={yy:{}};for(var Ii in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ii)&&(Ni.yy[Ii]=this.yy[Ii]);bn.setInput(Kt,Ni.yy),Ni.yy.lexer=bn,Ni.yy.parser=this,typeof bn.yylloc>"u"&&(bn.yylloc={});var Bs=bn.yylloc;Q.push(Bs);var al=bn.options&&bn.options.ranges;typeof Ni.yy.parseError=="function"?this.parseError=Ni.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Dh(){var Cr;return Cr=Pt.pop()||bn.lex()||Ih,typeof Cr!="number"&&(Cr instanceof Array&&(Pt=Cr,Cr=Pt.pop()),Cr=ne.symbols_[Cr]||Cr),Cr}for(var Fn,Pe,Qn,la,Jr={},ua,Er,sl,Fo;;){if(Pe=ue[ue.length-1],this.defaultActions[Pe]?Qn=this.defaultActions[Pe]:((Fn===null||typeof Fn>"u")&&(Fn=Dh()),Qn=Is[Pe]&&Is[Pe][Fn]),typeof Qn>"u"||!Qn.length||!Qn[0]){var Ds="";Fo=[];for(ua in Is[Pe])this.terminals_[ua]&&ua>F2&&Fo.push("'"+this.terminals_[ua]+"'");bn.showPosition?Ds="Parse error on line "+(Yn+1)+`:
`+bn.showPosition()+`
Expecting `+Fo.join(", ")+", got '"+(this.terminals_[Fn]||Fn)+"'":Ds="Parse error on line "+(Yn+1)+": Unexpected "+(Fn==Ih?"end of input":"'"+(this.terminals_[Fn]||Fn)+"'"),this.parseError(Ds,{text:bn.match,token:this.terminals_[Fn]||Fn,line:bn.yylineno,loc:Bs,expected:Fo})}if(Qn[0]instanceof Array&&Qn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Pe+", token: "+Fn);switch(Qn[0]){case 1:ue.push(Fn),Qe.push(bn.yytext),Q.push(bn.yylloc),ue.push(Qn[1]),Fn=null,Nh=bn.yyleng,rt=bn.yytext,Yn=bn.yylineno,Bs=bn.yylloc;break;case 2:if(Er=this.productions_[Qn[1]][1],Jr.$=Qe[Qe.length-Er],Jr._$={first_line:Q[Q.length-(Er||1)].first_line,last_line:Q[Q.length-1].last_line,first_column:Q[Q.length-(Er||1)].first_column,last_column:Q[Q.length-1].last_column},al&&(Jr._$.range=[Q[Q.length-(Er||1)].range[0],Q[Q.length-1].range[1]]),la=this.performAction.apply(Jr,[rt,Nh,Yn,Ni.yy,Qn[1],Qe,Q].concat(Bh)),typeof la<"u")return la;Er&&(ue=ue.slice(0,-1*Er*2),Qe=Qe.slice(0,-1*Er),Q=Q.slice(0,-1*Er)),ue.push(this.productions_[Qn[1]][0]),Qe.push(Jr.$),Q.push(Jr._$),sl=Is[ue[ue.length-2]][ue[ue.length-1]],ue.push(sl);break;case 3:return!0}}return!0}},Rh=function(){var Tr={EOF:1,parseError:function(ne,ue){if(this.yy.parser)this.yy.parser.parseError(ne,ue);else throw new Error(ne)},setInput:function(Kt,ne){return this.yy=ne||this.yy||{},this._input=Kt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Kt=this._input[0];this.yytext+=Kt,this.yyleng++,this.offset++,this.match+=Kt,this.matched+=Kt;var ne=Kt.match(/(?:\r\n?|\n).*/g);return ne?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Kt},unput:function(Kt){var ne=Kt.length,ue=Kt.split(/(?:\r\n?|\n)/g);this._input=Kt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ne),this.offset-=ne;var Pt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ue.length-1&&(this.yylineno-=ue.length-1);var Qe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ue?(ue.length===Pt.length?this.yylloc.first_column:0)+Pt[Pt.length-ue.length].length-ue[0].length:this.yylloc.first_column-ne},this.options.ranges&&(this.yylloc.range=[Qe[0],Qe[0]+this.yyleng-ne]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Kt){this.unput(this.match.slice(Kt))},pastInput:function(){var Kt=this.matched.substr(0,this.matched.length-this.match.length);return(Kt.length>20?"...":"")+Kt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Kt=this.match;return Kt.length<20&&(Kt+=this._input.substr(0,20-Kt.length)),(Kt.substr(0,20)+(Kt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Kt=this.pastInput(),ne=new Array(Kt.length+1).join("-");return Kt+this.upcomingInput()+`
`+ne+"^"},test_match:function(Kt,ne){var ue,Pt,Qe;if(this.options.backtrack_lexer&&(Qe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Qe.yylloc.range=this.yylloc.range.slice(0))),Pt=Kt[0].match(/(?:\r\n?|\n).*/g),Pt&&(this.yylineno+=Pt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Pt?Pt[Pt.length-1].length-Pt[Pt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Kt[0].length},this.yytext+=Kt[0],this.match+=Kt[0],this.matches=Kt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Kt[0].length),this.matched+=Kt[0],ue=this.performAction.call(this,this.yy,this,ne,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ue)return ue;if(this._backtrack){for(var Q in Qe)this[Q]=Qe[Q];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Kt,ne,ue,Pt;this._more||(this.yytext="",this.match="");for(var Qe=this._currentRules(),Q=0;Q<Qe.length;Q++)if(ue=this._input.match(this.rules[Qe[Q]]),ue&&(!ne||ue[0].length>ne[0].length)){if(ne=ue,Pt=Q,this.options.backtrack_lexer){if(Kt=this.test_match(ue,Qe[Q]),Kt!==!1)return Kt;if(this._backtrack){ne=!1;continue}else return!1}else if(!this.options.flex)break}return ne?(Kt=this.test_match(ne,Qe[Pt]),Kt!==!1?Kt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ne=this.next();return ne||this.lex()},begin:function(ne){this.conditionStack.push(ne)},popState:function(){var ne=this.conditionStack.length-1;return ne>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ne){return ne=this.conditionStack.length-1-Math.abs(ne||0),ne>=0?this.conditionStack[ne]:"INITIAL"},pushState:function(ne){this.begin(ne)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(ne,ue,Pt,Qe){switch(Pt){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return ne.lex.firstGraph()&&this.begin("dir"),24;case 36:return ne.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:return 101;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return this.popState(),25;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:return 82;case 67:return 82;case 68:return 82;case 69:return 82;case 70:return 81;case 71:return 81;case 72:return 81;case 73:return 59;case 74:return 60;case 75:return 61;case 76:return 62;case 77:return 63;case 78:return 64;case 79:return 65;case 80:return 69;case 81:return 70;case 82:return 55;case 83:return 56;case 84:return 109;case 85:return 112;case 86:return 127;case 87:return 124;case 88:return 113;case 89:return 125;case 90:return 125;case 91:return 114;case 92:return 73;case 93:return 92;case 94:return"SEP";case 95:return 91;case 96:return 66;case 97:return 75;case 98:return 74;case 99:return 77;case 100:return 76;case 101:return 122;case 102:return 123;case 103:return 68;case 104:return 57;case 105:return 58;case 106:return 40;case 107:return 41;case 108:return 71;case 109:return 72;case 110:return 133;case 111:return 21;case 112:return 22;case 113:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113],inclusive:!0}}};return Tr}();Ri.lexer=Rh;function il(){this.yy={}}return il.prototype=Ri,Ri.Parser=il,new il}();Z0.parser=Z0;const mdt=(t,e)=>{var n;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*graph/)!==null},bdt=(t,e)=>{var n;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"&&t.match(/^\s*graph/)!==null?!0:t.match(/^\s*flowchart/)!==null},vdt="flowchart-";let Q9=0,D5=J(),ln={},ko=[],ic=[],ra=[],Q0={},O5={},a1=0,Xv=!0,Pi,w2,k2=[];const T2=t=>ge.sanitizeText(t,D5),_dt=function(t,e,n){en.parseDirective(this,t,e,n)},E2=function(t){const e=Object.keys(ln);for(let n=0;n<e.length;n++)if(ln[e[n]].id===t)return ln[e[n]].domId;return t},xdt=function(t,e,n,r,i,a,s={}){let o,l=t;typeof l>"u"||l.trim().length!==0&&(typeof ln[l]>"u"&&(ln[l]={id:l,domId:vdt+l+"-"+Q9,styles:[],classes:[]}),Q9++,typeof e<"u"?(D5=J(),o=T2(e.trim()),o[0]==='"'&&o[o.length-1]==='"'&&(o=o.substring(1,o.length-1)),ln[l].text=o):typeof ln[l].text>"u"&&(ln[l].text=t),typeof n<"u"&&(ln[l].type=n),typeof r<"u"&&r!==null&&r.forEach(function(u){ln[l].styles.push(u)}),typeof i<"u"&&i!==null&&i.forEach(function(u){ln[l].classes.push(u)}),typeof a<"u"&&(ln[l].dir=a),ln[l].props=s)},wdt=function(t,e,n,r){const s={start:t,end:e,type:void 0,text:""};r=n.text,typeof r<"u"&&(s.text=T2(r.trim()),s.text[0]==='"'&&s.text[s.text.length-1]==='"'&&(s.text=s.text.substring(1,s.text.length-1))),typeof n<"u"&&(s.type=n.type,s.stroke=n.stroke,s.length=n.length),ko.push(s)},kdt=function(t,e,n,r){let i,a;for(i=0;i<t.length;i++)for(a=0;a<e.length;a++)wdt(t[i],e[a],n,r)},Tdt=function(t,e){t.forEach(function(n){n==="default"?ko.defaultInterpolate=e:ko[n].interpolate=e})},Edt=function(t,e){t.forEach(function(n){n==="default"?ko.defaultStyle=e:(Ae.isSubstringInArray("fill",e)===-1&&e.push("fill:none"),ko[n].style=e)})},Cdt=function(t,e){typeof ic[t]>"u"&&(ic[t]={id:t,styles:[],textStyles:[]}),typeof e<"u"&&e!==null&&e.forEach(function(n){if(n.match("color")){const i=n.replace("fill","bgFill").replace("color","fill");ic[t].textStyles.push(i)}ic[t].styles.push(n)})},Sdt=function(t){Pi=t,Pi.match(/.*</)&&(Pi="RL"),Pi.match(/.*\^/)&&(Pi="BT"),Pi.match(/.*>/)&&(Pi="LR"),Pi.match(/.*v/)&&(Pi="TB")},F5=function(t,e){t.split(",").forEach(function(n){let r=n;typeof ln[r]<"u"&&ln[r].classes.push(e),typeof Q0[r]<"u"&&Q0[r].classes.push(e)})},Adt=function(t,e){t.split(",").forEach(function(n){typeof e<"u"&&(O5[w2==="gen-1"?E2(n):n]=T2(e))})},Mdt=function(t,e,n){let r=E2(t);if(J().securityLevel!=="loose"||typeof e>"u")return;let i=[];if(typeof n=="string"){i=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<i.length;a++){let s=i[a].trim();s.charAt(0)==='"'&&s.charAt(s.length-1)==='"'&&(s=s.substr(1,s.length-2)),i[a]=s}}i.length===0&&i.push(t),typeof ln[t]<"u"&&(ln[t].haveCallback=!0,k2.push(function(){const a=document.querySelector(`[id="${r}"]`);a!==null&&a.addEventListener("click",function(){Ae.runFunc(e,...i)},!1)}))},Ldt=function(t,e,n){t.split(",").forEach(function(r){typeof ln[r]<"u"&&(ln[r].link=Ae.formatUrl(e,D5),ln[r].linkTarget=n)}),F5(t,"clickable")},Rdt=function(t){return O5[t]},Ndt=function(t,e,n){t.split(",").forEach(function(r){Mdt(r,e,n)}),F5(t,"clickable")},Idt=function(t){k2.forEach(function(e){e(t)})},Bdt=function(){return Pi.trim()},Ddt=function(){return ln},Odt=function(){return ko},Fdt=function(){return ic},pB=function(t){let e=Lt(".mermaidTooltip");(e._groups||e)[0][0]===null&&(e=Lt("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Lt(t).select("svg").selectAll("g.node").on("mouseover",function(){const i=Lt(this);if(i.attr("title")===null)return;const s=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(i.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.top-14+document.body.scrollTop+"px"),e.html(e.html().replace(/&lt;br\/&gt;/g,"<br/>")),i.classed("hover",!0)}).on("mouseout",function(){e.transition().duration(500).style("opacity",0),Lt(this).classed("hover",!1)})};k2.push(pB);const Pdt=function(t="gen-1"){ln={},ic={},ko=[],k2=[pB],ra=[],Q0={},a1=0,O5=[],Xv=!0,w2=t,Si()},$dt=t=>{w2=t||"gen-1"},qdt=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},Vdt=function(t,e,n){let r=t.trim(),i=n.trim();r===i&&i.match(/\s/)&&(r=void 0);function a(h){const d={boolean:{},number:{},string:{}},f=[];let p;return{nodeList:h.filter(function(m){const b=typeof m;return m.stmt&&m.stmt==="dir"?(p=m.value,!1):m.trim()===""?!1:b in d?d[b].hasOwnProperty(m)?!1:d[b][m]=!0:f.indexOf(m)>=0?!1:f.push(m)}),dir:p}}let s=[];const{nodeList:o,dir:l}=a(s.concat.apply(s,e));if(s=o,w2==="gen-1")for(let h=0;h<s.length;h++)s[h]=E2(s[h]);r=r||"subGraph"+a1,i=i||"",i=T2(i),a1=a1+1;const u={id:r,nodes:s,title:i.trim(),classes:[],dir:l};return Y.info("Adding",u.id,u.nodes,u.dir),u.nodes=bB(u,ra).nodes,ra.push(u),Q0[r]=u,r},Ydt=function(t){for(let e=0;e<ra.length;e++)if(ra[e].id===t)return e;return-1};let tu=-1;const gB=[],yB=function(t,e){const n=ra[e].nodes;if(tu=tu+1,tu>2e3)return;if(gB[tu]=e,ra[e].id===t)return{result:!0,count:0};let r=0,i=1;for(;r<n.length;){const a=Ydt(n[r]);if(a>=0){const s=yB(t,a);if(s.result)return{result:!0,count:i+s.count};i=i+s.count}r=r+1}return{result:!1,count:i}},zdt=function(t){return gB[t]},Udt=function(){tu=-1,ra.length>0&&yB("none",ra.length-1)},Wdt=function(){return ra},Hdt=()=>Xv?(Xv=!1,!0):!1,Gdt=t=>{let e=t.trim(),n="arrow_open";switch(e[0]){case"<":n="arrow_point",e=e.slice(1);break;case"x":n="arrow_cross",e=e.slice(1);break;case"o":n="arrow_circle",e=e.slice(1);break}let r="normal";return e.indexOf("=")!==-1&&(r="thick"),e.indexOf(".")!==-1&&(r="dotted"),{type:n,stroke:r}},jdt=(t,e)=>{const n=e.length;let r=0;for(let i=0;i<n;++i)e[i]===t&&++r;return r},Xdt=t=>{const e=t.trim();let n=e.slice(0,-1),r="arrow_open";switch(e.slice(-1)){case"x":r="arrow_cross",e[0]==="x"&&(r="double_"+r,n=n.slice(1));break;case">":r="arrow_point",e[0]==="<"&&(r="double_"+r,n=n.slice(1));break;case"o":r="arrow_circle",e[0]==="o"&&(r="double_"+r,n=n.slice(1));break}let i="normal",a=n.length-1;n[0]==="="&&(i="thick"),n[0]==="~"&&(i="invisible");let s=jdt(".",n);return s&&(i="dotted",a=s),{type:r,stroke:i,length:a}},Kdt=(t,e)=>{const n=Xdt(t);let r;if(e){if(r=Gdt(e),r.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if(r.type==="arrow_open")r.type=n.type;else{if(r.type!==n.type)return{type:"INVALID",stroke:"INVALID"};r.type="double_"+r.type}return r.type==="double_arrow"&&(r.type="double_arrow_point"),r.length=n.length,r}return n},mB=(t,e)=>{let n=!1;return t.forEach(r=>{r.nodes.indexOf(e)>=0&&(n=!0)}),n},bB=(t,e)=>{const n=[];return t.nodes.forEach((r,i)=>{mB(e,r)||n.push(t.nodes[i])}),{nodes:n}},Ca={parseDirective:_dt,defaultConfig:()=>Oc.flowchart,setAccTitle:Qr,getAccTitle:Ai,getAccDescription:Li,setAccDescription:Mi,addVertex:xdt,lookUpDomId:E2,addLink:kdt,updateLinkInterpolate:Tdt,updateLink:Edt,addClass:Cdt,setDirection:Sdt,setClass:F5,setTooltip:Adt,getTooltip:Rdt,setClickEvent:Ndt,setLink:Ldt,bindFunctions:Idt,getDirection:Bdt,getVertices:Ddt,getEdges:Odt,getClasses:Fdt,clear:Pdt,setGen:$dt,defaultStyle:qdt,addSubGraph:Vdt,getDepthFirstPos:zdt,indexNodes:Udt,getSubGraphs:Wdt,destructLink:Kdt,lex:{firstGraph:Hdt},exists:mB,makeUniq:bB};function Zdt(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zm,J9;function P5(){if(J9)return zm;J9=1;function t(e){return e}return zm=t,zm}var Um,tT;function Qdt(){if(tT)return Um;tT=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Um=t,Um}var Wm,eT;function vB(){if(eT)return Wm;eT=1;var t=Qdt(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,o=-1,l=e(s.length-i,0),u=Array(l);++o<l;)u[o]=s[i+o];o=-1;for(var h=Array(i+1);++o<i;)h[o]=s[o];return h[i]=a(u),t(r,this,h)}}return Wm=n,Wm}var Hm,nT;function Jdt(){if(nT)return Hm;nT=1;function t(e){return function(){return e}}return Hm=t,Hm}var Gm,rT;function _B(){if(rT)return Gm;rT=1;var t=m5(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Gm=e,Gm}var jm,iT;function t2t(){if(iT)return jm;iT=1;var t=Jdt(),e=_B(),n=P5(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return jm=r,jm}var Xm,aT;function e2t(){if(aT)return Xm;aT=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var o=n(),l=e-(o-s);if(s=o,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Xm=r,Xm}var Km,sT;function xB(){if(sT)return Km;sT=1;var t=t2t(),e=e2t(),n=e(t);return Km=n,Km}var Zm,oT;function n2t(){if(oT)return Zm;oT=1;var t=P5(),e=vB(),n=xB();function r(i,a){return n(e(i,a,t),i+"")}return Zm=r,Zm}var Qm,cT;function $5(){if(cT)return Qm;cT=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Qm=e,Qm}var Jm,lT;function C2(){if(lT)return Jm;lT=1;var t=y5(),e=$5();function n(r){return r!=null&&e(r.length)&&!t(r)}return Jm=n,Jm}var tb,uT;function S2(){if(uT)return tb;uT=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i==null?t:i,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return tb=n,tb}var eb,hT;function wB(){if(hT)return eb;hT=1;var t=d2(),e=C2(),n=S2(),r=Jc();function i(a,s,o){if(!r(o))return!1;var l=typeof s;return(l=="number"?e(o)&&n(s,o.length):l=="string"&&s in o)?t(o[s],a):!1}return eb=i,eb}var nb,fT;function r2t(){if(fT)return nb;fT=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return nb=t,nb}var rb,dT;function Eh(){if(dT)return rb;dT=1;function t(e){return e!=null&&typeof e=="object"}return rb=t,rb}var ib,pT;function i2t(){if(pT)return ib;pT=1;var t=kh(),e=Eh(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return ib=r,ib}var ab,gT;function q5(){if(gT)return ab;gT=1;var t=i2t(),e=Eh(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return ab=a,ab}var sb,yT;function Oo(){if(yT)return sb;yT=1;var t=Array.isArray;return sb=t,sb}var Mf={exports:{}},ob,mT;function a2t(){if(mT)return ob;mT=1;function t(){return!1}return ob=t,ob}var bT;function s2t(){return bT||(bT=1,function(t,e){var n=u2(),r=a2t(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u}(Mf,Mf.exports)),Mf.exports}var cb,vT;function o2t(){if(vT)return cb;vT=1;var t=kh(),e=$5(),n=Eh(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",h="[object Number]",d="[object Object]",f="[object RegExp]",p="[object Set]",y="[object String]",m="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",k="[object Float32Array]",T="[object Float64Array]",S="[object Int8Array]",L="[object Int16Array]",R="[object Int32Array]",A="[object Uint8Array]",I="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]",v={};v[k]=v[T]=v[S]=v[L]=v[R]=v[A]=v[I]=v[C]=v[N]=!0,v[r]=v[i]=v[b]=v[a]=v[x]=v[s]=v[o]=v[l]=v[u]=v[h]=v[d]=v[f]=v[p]=v[y]=v[m]=!1;function E(_){return n(_)&&e(_.length)&&!!v[t(_)]}return cb=E,cb}var lb,_T;function c2t(){if(_T)return lb;_T=1;function t(e){return function(n){return e(n)}}return lb=t,lb}var Lf={exports:{}},xT;function l2t(){return xT||(xT=1,function(t,e){var n=fI(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(Lf,Lf.exports)),Lf.exports}var ub,wT;function u2t(){if(wT)return ub;wT=1;var t=o2t(),e=c2t(),n=l2t(),r=n&&n.isTypedArray,i=r?e(r):t;return ub=i,ub}var hb,kT;function kB(){if(kT)return hb;kT=1;var t=r2t(),e=q5(),n=Oo(),r=s2t(),i=S2(),a=u2t(),s=Object.prototype,o=s.hasOwnProperty;function l(u,h){var d=n(u),f=!d&&e(u),p=!d&&!f&&r(u),y=!d&&!f&&!p&&a(u),m=d||f||p||y,b=m?t(u.length,String):[],x=b.length;for(var k in u)(h||o.call(u,k))&&!(m&&(k=="length"||p&&(k=="offset"||k=="parent")||y&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,x)))&&b.push(k);return b}return hb=l,hb}var fb,TT;function TB(){if(TT)return fb;TT=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return fb=e,fb}var db,ET;function h2t(){if(ET)return db;ET=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return db=t,db}var pb,CT;function f2t(){if(CT)return pb;CT=1;var t=Jc(),e=TB(),n=h2t(),r=Object.prototype,i=r.hasOwnProperty;function a(s){if(!t(s))return n(s);var o=e(s),l=[];for(var u in s)u=="constructor"&&(o||!i.call(s,u))||l.push(u);return l}return pb=a,pb}var gb,ST;function d2t(){if(ST)return gb;ST=1;var t=kB(),e=f2t(),n=C2();function r(i){return n(i)?t(i,!0):e(i)}return gb=r,gb}var yb,AT;function p2t(){if(AT)return yb;AT=1;var t=n2t(),e=d2(),n=wB(),r=d2t(),i=Object.prototype,a=i.hasOwnProperty,s=t(function(o,l){o=Object(o);var u=-1,h=l.length,d=h>2?l[2]:void 0;for(d&&n(l[0],l[1],d)&&(h=1);++u<h;)for(var f=l[u],p=r(f),y=-1,m=p.length;++y<m;){var b=p[y],x=o[b];(x===void 0||e(x,i[b])&&!a.call(o,b))&&(o[b]=f[b])}return o});return yb=s,yb}var mb={exports:{}},bb,MT;function g2t(){if(MT)return bb;MT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return bb=t,bb}var vb,LT;function y2t(){if(LT)return vb;LT=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),o=i(n),l=o.length;l--;){var u=o[e?l:++a];if(r(s[u],u,s)===!1)break}return n}}return vb=t,vb}var _b,RT;function m2t(){if(RT)return _b;RT=1;var t=y2t(),e=t();return _b=e,_b}var xb,NT;function EB(){if(NT)return xb;NT=1;function t(e,n){return function(r){return e(n(r))}}return xb=t,xb}var wb,IT;function b2t(){if(IT)return wb;IT=1;var t=EB(),e=t(Object.keys,Object);return wb=e,wb}var kb,BT;function v2t(){if(BT)return kb;BT=1;var t=TB(),e=b2t(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))r.call(a,o)&&o!="constructor"&&s.push(o);return s}return kb=i,kb}var Tb,DT;function _2t(){if(DT)return Tb;DT=1;var t=kB(),e=v2t(),n=C2();function r(i){return n(i)?t(i):e(i)}return Tb=r,Tb}var Eb,OT;function x2t(){if(OT)return Eb;OT=1;var t=m2t(),e=_2t();function n(r,i){return r&&t(r,i,e)}return Eb=n,Eb}var Cb,FT;function w2t(){if(FT)return Cb;FT=1;var t=C2();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var s=i.length,o=r?s:-1,l=Object(i);(r?o--:++o<s)&&a(l[o],o,l)!==!1;);return i}}return Cb=e,Cb}var Sb,PT;function k2t(){if(PT)return Sb;PT=1;var t=x2t(),e=w2t(),n=e(t);return Sb=n,Sb}var Ab,$T;function T2t(){if($T)return Ab;$T=1;var t=P5();function e(n){return typeof n=="function"?n:t}return Ab=e,Ab}var Mb,qT;function E2t(){if(qT)return Mb;qT=1;var t=g2t(),e=k2t(),n=T2t(),r=Oo();function i(a,s){var o=r(a)?t:e;return o(a,n(s))}return Mb=i,Mb}var VT;function C2t(){return VT||(VT=1,function(t){t.exports=E2t()}(mb)),mb.exports}var Lb,YT;function S2t(){if(YT)return Lb;YT=1;var t=EB(),e=t(Object.getPrototypeOf,Object);return Lb=e,Lb}var Rb,zT;function A2t(){if(zT)return Rb;zT=1;var t=kh(),e=S2t(),n=Eh(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function u(h){if(!n(h)||t(h)!=r)return!1;var d=e(h);if(d===null)return!0;var f=o.call(d,"constructor")&&d.constructor;return typeof f=="function"&&f instanceof f&&s.call(f)==l}return Rb=u,Rb}var Nb,UT;function A2(){if(UT)return Nb;UT=1;var t=kh(),e=Eh(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Nb=r,Nb}var Ib,WT;function M2t(){if(WT)return Ib;WT=1;var t=Oo(),e=A2(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return Ib=i,Ib}var Bb,HT;function L2t(){if(HT)return Bb;HT=1;var t=y2,e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Bb=n,Bb}var Db,GT;function R2t(){if(GT)return Db;GT=1;var t=L2t(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,l,u){a.push(l?u.replace(n,"$1"):o||s)}),a});return Db=r,Db}var Ob,jT;function N2t(){if(jT)return Ob;jT=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return Ob=t,Ob}var Fb,XT;function I2t(){if(XT)return Fb;XT=1;var t=h2(),e=N2t(),n=Oo(),r=A2(),i=1/0,a=t?t.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return s?s.call(l):"";var u=l+"";return u=="0"&&1/l==-i?"-0":u}return Fb=o,Fb}var Pb,KT;function CB(){if(KT)return Pb;KT=1;var t=I2t();function e(n){return n==null?"":t(n)}return Pb=e,Pb}var $b,ZT;function M2(){if(ZT)return $b;ZT=1;var t=Oo(),e=M2t(),n=R2t(),r=CB();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return $b=i,$b}var qb,QT;function V5(){if(QT)return qb;QT=1;var t=A2(),e=1/0;function n(r){if(typeof r=="string"||t(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}return qb=n,qb}var Vb,JT;function B2t(){if(JT)return Vb;JT=1;var t=M2(),e=V5();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return Vb=n,Vb}var Yb,tE;function D2t(){if(tE)return Yb;tE=1;var t=_B();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Yb=e,Yb}var zb,eE;function O2t(){if(eE)return zb;eE=1;var t=D2t(),e=d2(),n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o){var l=a[s];(!(r.call(a,s)&&e(l,o))||o===void 0&&!(s in a))&&t(a,s,o)}return zb=i,zb}var Ub,nE;function F2t(){if(nE)return Ub;nE=1;var t=O2t(),e=M2(),n=S2(),r=Jc(),i=V5();function a(s,o,l,u){if(!r(s))return s;o=e(o,s);for(var h=-1,d=o.length,f=d-1,p=s;p!=null&&++h<d;){var y=i(o[h]),m=l;if(y==="__proto__"||y==="constructor"||y==="prototype")return s;if(h!=f){var b=p[y];m=u?u(b,y,p):void 0,m===void 0&&(m=r(b)?b:n(o[h+1])?[]:{})}t(p,y,m),p=p[y]}return s}return Ub=a,Ub}var Wb,rE;function P2t(){if(rE)return Wb;rE=1;var t=B2t(),e=F2t(),n=M2();function r(i,a,s){for(var o=-1,l=a.length,u={};++o<l;){var h=a[o],d=t(i,h);s(d,h)&&e(u,n(h,i),d)}return u}return Wb=r,Wb}var Hb,iE;function $2t(){if(iE)return Hb;iE=1;function t(e,n){return e!=null&&n in Object(e)}return Hb=t,Hb}var Gb,aE;function SB(){if(aE)return Gb;aE=1;var t=M2(),e=q5(),n=Oo(),r=S2(),i=$5(),a=V5();function s(o,l,u){l=t(l,o);for(var h=-1,d=l.length,f=!1;++h<d;){var p=a(l[h]);if(!(f=o!=null&&u(o,p)))break;o=o[p]}return f||++h!=d?f:(d=o==null?0:o.length,!!d&&i(d)&&r(p,d)&&(n(o)||e(o)))}return Gb=s,Gb}var jb,sE;function q2t(){if(sE)return jb;sE=1;var t=$2t(),e=SB();function n(r,i){return r!=null&&e(r,i,t)}return jb=n,jb}var Xb,oE;function V2t(){if(oE)return Xb;oE=1;var t=P2t(),e=q2t();function n(r,i){return t(r,i,function(a,s){return e(r,s)})}return Xb=n,Xb}var Kb,cE;function Y2t(){if(cE)return Kb;cE=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Kb=t,Kb}var Zb,lE;function z2t(){if(lE)return Zb;lE=1;var t=h2(),e=q5(),n=Oo(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return Zb=i,Zb}var Qb,uE;function U2t(){if(uE)return Qb;uE=1;var t=Y2t(),e=z2t();function n(r,i,a,s,o){var l=-1,u=r.length;for(a||(a=e),o||(o=[]);++l<u;){var h=r[l];i>0&&a(h)?i>1?n(h,i-1,a,s,o):t(o,h):s||(o[o.length]=h)}return o}return Qb=n,Qb}var Jb,hE;function W2t(){if(hE)return Jb;hE=1;var t=U2t();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return Jb=e,Jb}var t3,fE;function H2t(){if(fE)return t3;fE=1;var t=W2t(),e=vB(),n=xB();function r(i){return n(e(i,void 0,t),i+"")}return t3=r,t3}var e3,dE;function G2t(){if(dE)return e3;dE=1;var t=V2t(),e=H2t(),n=e(function(r,i){return r==null?{}:t(r,i)});return e3=n,e3}var n3,pE;function j2t(){if(pE)return n3;pE=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,i){return r!=null&&e.call(r,i)}return n3=n,n3}var r3,gE;function X2t(){if(gE)return r3;gE=1;var t=j2t(),e=SB();function n(r,i){return r!=null&&e(r,i,t)}return r3=n,r3}var i3,yE;function K2t(){if(yE)return i3;yE=1;var t=Math.ceil,e=Math.max;function n(r,i,a,s){for(var o=-1,l=e(t((i-r)/(a||1)),0),u=Array(l);l--;)u[s?l:++o]=r,r+=a;return u}return i3=n,i3}var a3,mE;function Z2t(){if(mE)return a3;mE=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return a3=e,a3}var s3,bE;function Q2t(){if(bE)return s3;bE=1;var t=Z2t(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return s3=n,s3}var o3,vE;function J2t(){if(vE)return o3;vE=1;var t=Q2t(),e=Jc(),n=A2(),r=0/0,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=e(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=t(u);var d=a.test(u);return d||s.test(u)?o(u.slice(2),d?2:8):i.test(u)?r:+u}return o3=l,o3}var c3,_E;function tpt(){if(_E)return c3;_E=1;var t=J2t(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return c3=r,c3}var l3,xE;function ept(){if(xE)return l3;xE=1;var t=K2t(),e=wB(),n=tpt();function r(i){return function(a,s,o){return o&&typeof o!="number"&&e(a,s,o)&&(s=o=void 0),a=n(a),s===void 0?(s=a,a=0):s=n(s),o=o===void 0?a<s?1:-1:n(o),t(a,s,o,i)}}return l3=r,l3}var u3,wE;function npt(){if(wE)return u3;wE=1;var t=ept(),e=t();return u3=e,u3}var h3,kE;function rpt(){if(kE)return h3;kE=1;var t=CB(),e=0;function n(r){var i=++e;return t(r)+i}return h3=n,h3}var J0;if(typeof Zdt=="function")try{J0={defaults:p2t(),each:C2t(),isFunction:y5(),isPlainObject:A2t(),pick:G2t(),has:X2t(),range:npt(),uniqueId:rpt()}}catch{}J0||(J0=window._);var ipt=J0,TE=ipt,apt={isSubgraph:spt,edgeToId:opt,applyStyle:lpt,applyClass:upt,applyTransition:hpt};function spt(t,e){return!!t.children(e).length}function opt(t){return f3(t.v)+":"+f3(t.w)+":"+f3(t.name)}var cpt=/:/g;function f3(t){return t?String(t).replace(cpt,"\\:"):""}function lpt(t,e){e&&t.attr("style",e)}function upt(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))}function hpt(t,e){var n=e.graph();if(TE.isPlainObject(n)){var r=n.transition;if(TE.isFunction(r))return r(t)}return t}var fpt=apt,AB=dpt;function dpt(t,e){var n=t.append("foreignObject").attr("width","100000"),r=n.append("xhtml:div");r.attr("xmlns","http://www.w3.org/1999/xhtml");var i=e.label;switch(typeof i){case"function":r.insert(i);break;case"object":r.insert(function(){return i});break;default:r.html(i)}fpt.applyStyle(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap");var a=r.node().getBoundingClientRect();return n.attr("width",a.width).attr("height",a.height),n}function MB(t,e,n){const r=e.width,i=e.height,a=(r+i)*.9,s=[{x:a/2,y:0},{x:a,y:-a/2},{x:a/2,y:-a},{x:0,y:-a/2}],o=Ha(t,a,a,s);return n.intersect=function(l){return Or.intersect.polygon(n,s,l)},o}function LB(t,e,n){const i=e.height,a=i/4,s=e.width+2*a,o=[{x:a,y:0},{x:s-a,y:0},{x:s,y:-i/2},{x:s-a,y:-i},{x:a,y:-i},{x:0,y:-i/2}],l=Ha(t,s,i,o);return n.intersect=function(u){return Or.intersect.polygon(n,o,u)},l}function RB(t,e,n){const r=e.width,i=e.height,a=[{x:-i/2,y:0},{x:r,y:0},{x:r,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}],s=Ha(t,r,i,a);return n.intersect=function(o){return Or.intersect.polygon(n,a,o)},s}function NB(t,e,n){const r=e.width,i=e.height,a=[{x:-2*i/6,y:0},{x:r-i/6,y:0},{x:r+2*i/6,y:-i},{x:i/6,y:-i}],s=Ha(t,r,i,a);return n.intersect=function(o){return Or.intersect.polygon(n,a,o)},s}function IB(t,e,n){const r=e.width,i=e.height,a=[{x:2*i/6,y:0},{x:r+i/6,y:0},{x:r-2*i/6,y:-i},{x:-i/6,y:-i}],s=Ha(t,r,i,a);return n.intersect=function(o){return Or.intersect.polygon(n,a,o)},s}function BB(t,e,n){const r=e.width,i=e.height,a=[{x:-2*i/6,y:0},{x:r+2*i/6,y:0},{x:r-i/6,y:-i},{x:i/6,y:-i}],s=Ha(t,r,i,a);return n.intersect=function(o){return Or.intersect.polygon(n,a,o)},s}function DB(t,e,n){const r=e.width,i=e.height,a=[{x:i/6,y:0},{x:r-i/6,y:0},{x:r+2*i/6,y:-i},{x:-2*i/6,y:-i}],s=Ha(t,r,i,a);return n.intersect=function(o){return Or.intersect.polygon(n,a,o)},s}function OB(t,e,n){const r=e.width,i=e.height,a=[{x:0,y:0},{x:r+i/2,y:0},{x:r,y:-i/2},{x:r+i/2,y:-i},{x:0,y:-i}],s=Ha(t,r,i,a);return n.intersect=function(o){return Or.intersect.polygon(n,a,o)},s}function FB(t,e,n){const r=e.height,i=e.width+r/4,a=t.insert("rect",":first-child").attr("rx",r/2).attr("ry",r/2).attr("x",-i/2).attr("y",-r/2).attr("width",i).attr("height",r);return n.intersect=function(s){return Or.intersect.rect(n,s)},a}function PB(t,e,n){const r=e.width,i=e.height,a=[{x:0,y:0},{x:r,y:0},{x:r,y:-i},{x:0,y:-i},{x:0,y:0},{x:-8,y:0},{x:r+8,y:0},{x:r+8,y:-i},{x:-8,y:-i},{x:-8,y:0}],s=Ha(t,r,i,a);return n.intersect=function(o){return Or.intersect.polygon(n,a,o)},s}function $B(t,e,n){const r=e.width,i=r/2,a=i/(2.5+r/50),s=e.height+a,o="M 0,"+a+" a "+i+","+a+" 0,0,0 "+r+" 0 a "+i+","+a+" 0,0,0 "+-r+" 0 l 0,"+s+" a "+i+","+a+" 0,0,0 "+r+" 0 l 0,"+-s,l=t.attr("label-offset-y",a).insert("path",":first-child").attr("d",o).attr("transform","translate("+-r/2+","+-(s/2+a)+")");return n.intersect=function(u){const h=Or.intersect.rect(n,u),d=h.x-n.x;if(i!=0&&(Math.abs(d)<n.width/2||Math.abs(d)==n.width/2&&Math.abs(h.y-n.y)>n.height/2-a)){let f=a*a*(1-d*d/(i*i));f!=0&&(f=Math.sqrt(f)),f=a-f,u.y-n.y>0&&(f=-f),h.y+=f}return h},l}function ppt(t){t.shapes().question=MB,t.shapes().hexagon=LB,t.shapes().stadium=FB,t.shapes().subroutine=PB,t.shapes().cylinder=$B,t.shapes().rect_left_inv_arrow=RB,t.shapes().lean_right=NB,t.shapes().lean_left=IB,t.shapes().trapezoid=BB,t.shapes().inv_trapezoid=DB,t.shapes().rect_right_inv_arrow=OB}function gpt(t){t({question:MB}),t({hexagon:LB}),t({stadium:FB}),t({subroutine:PB}),t({cylinder:$B}),t({rect_left_inv_arrow:RB}),t({lean_right:NB}),t({lean_left:IB}),t({trapezoid:BB}),t({inv_trapezoid:DB}),t({rect_right_inv_arrow:OB})}function Ha(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("transform","translate("+-e/2+","+n/2+")")}const ypt={addToRender:ppt,addToRenderV2:gpt},qB={},mpt=function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)qB[e[n]]=t[e[n]]},VB=function(t,e,n,r,i,a){const s=r?r.select(`[id="${n}"]`):Lt(`[id="${n}"]`),o=i||document;Object.keys(t).forEach(function(u){const h=t[u];let d="default";h.classes.length>0&&(d=h.classes.join(" "));const f=ws(h.styles);let p=h.text!==void 0?h.text:h.id,y;if(In(J().flowchart.htmlLabels)){const x={label:p.replace(/fa[lrsb]?:fa-[\w-]+/g,k=>`<i class='${k.replace(":"," ")}'></i>`)};y=AB(s,x).node(),y.parentNode.removeChild(y)}else{const x=o.createElementNS("http://www.w3.org/2000/svg","text");x.setAttribute("style",f.labelStyle.replace("color:","fill:"));const k=p.split(ge.lineBreakRegex);for(let T=0;T<k.length;T++){const S=o.createElementNS("http://www.w3.org/2000/svg","tspan");S.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),S.setAttribute("dy","1em"),S.setAttribute("x","1"),S.textContent=k[T],x.appendChild(S)}y=x}let m=0,b="";switch(h.type){case"round":m=5,b="rect";break;case"square":b="rect";break;case"diamond":b="question";break;case"hexagon":b="hexagon";break;case"odd":b="rect_left_inv_arrow";break;case"lean_right":b="lean_right";break;case"lean_left":b="lean_left";break;case"trapezoid":b="trapezoid";break;case"inv_trapezoid":b="inv_trapezoid";break;case"odd_right":b="rect_left_inv_arrow";break;case"circle":b="circle";break;case"ellipse":b="ellipse";break;case"stadium":b="stadium";break;case"subroutine":b="subroutine";break;case"cylinder":b="cylinder";break;case"group":b="rect";break;default:b="rect"}Y.warn("Adding node",h.id,h.domId),e.setNode(a.db.lookUpDomId(h.id),{labelType:"svg",labelStyle:f.labelStyle,shape:b,label:y,rx:m,ry:m,class:d,style:f.style,id:a.db.lookUpDomId(h.id)})})},YB=function(t,e,n){let r=0,i,a;if(typeof t.defaultStyle<"u"){const s=ws(t.defaultStyle);i=s.style,a=s.labelStyle}t.forEach(function(s){r++;var o="L-"+s.start+"-"+s.end,l="LS-"+s.start,u="LE-"+s.end;const h={};s.type==="arrow_open"?h.arrowhead="none":h.arrowhead="normal";let d="",f="";if(typeof s.style<"u"){const p=ws(s.style);d=p.style,f=p.labelStyle}else switch(s.stroke){case"normal":d="fill:none",typeof i<"u"&&(d=i),typeof a<"u"&&(f=a);break;case"dotted":d="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":d=" stroke-width: 3.5px;fill:none";break}h.style=d,h.labelStyle=f,typeof s.interpolate<"u"?h.curve=Zi(s.interpolate,di):typeof t.defaultInterpolate<"u"?h.curve=Zi(t.defaultInterpolate,di):h.curve=Zi(qB.curve,di),typeof s.text>"u"?typeof s.style<"u"&&(h.arrowheadStyle="fill: #333"):(h.arrowheadStyle="fill: #333",h.labelpos="c",In(J().flowchart.htmlLabels)?(h.labelType="html",h.label=`<span id="L-${o}" class="edgeLabel L-${l}' L-${u}" style="${h.labelStyle}">${s.text.replace(/fa[lrsb]?:fa-[\w-]+/g,p=>`<i class='${p.replace(":"," ")}'></i>`)}</span>`):(h.labelType="text",h.label=s.text.replace(ge.lineBreakRegex,`
`),typeof s.style>"u"&&(h.style=h.style||"stroke: #333; stroke-width: 1.5px;fill:none"),h.labelStyle=h.labelStyle.replace("color:","fill:"))),h.id=o,h.class=l+" "+u,h.minlen=s.length||1,e.setEdge(n.db.lookUpDomId(s.start),n.db.lookUpDomId(s.end),h,r)})},bpt=function(t,e){Y.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch{return}},vpt=function(t,e,n,r){Y.info("Drawing flowchart"),r.db.clear();const{securityLevel:i,flowchart:a}=J();let s;i==="sandbox"&&(s=Lt("#i"+e));const o=Lt(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?s.nodes()[0].contentDocument:document;try{r.parser.parse(t)}catch{Y.debug("Parsing failed")}let u=r.db.getDirection();typeof u>"u"&&(u="TD");const h=a.nodeSpacing||50,d=a.rankSpacing||50,f=new gn.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:u,nodesep:h,ranksep:d,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let p;const y=r.db.getSubGraphs();for(let A=y.length-1;A>=0;A--)p=y[A],r.db.addVertex(p.id,p.title,"group",void 0,p.classes);const m=r.db.getVertices();Y.warn("Get vertices",m);const b=r.db.getEdges();let x=0;for(x=y.length-1;x>=0;x--){p=y[x],C_("cluster").append("text");for(let A=0;A<p.nodes.length;A++)Y.warn("Setting subgraph",p.nodes[A],r.db.lookUpDomId(p.nodes[A]),r.db.lookUpDomId(p.id)),f.setParent(r.db.lookUpDomId(p.nodes[A]),r.db.lookUpDomId(p.id))}VB(m,f,e,o,l,r),YB(b,f,r);const k=Or.render,T=new k;ypt.addToRender(T),T.arrows().none=function(I,C,N,v){const _=I.append("marker").attr("id",C).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");Or.util.applyStyle(_,N[v+"Style"])},T.arrows().normal=function(I,C){I.append("marker").attr("id",C).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const S=o.select(`[id="${e}"]`);kr(r.db,S,e);const L=o.select("#"+e+" g");for(T(L,f),L.selectAll("g.node").attr("title",function(){return r.db.getTooltip(this.id)}),r.db.indexNodes("subGraph"+x),x=0;x<y.length;x++)if(p=y[x],p.title!=="undefined"){const A=l.querySelectorAll("#"+e+' [id="'+r.db.lookUpDomId(p.id)+'"] rect'),I=l.querySelectorAll("#"+e+' [id="'+r.db.lookUpDomId(p.id)+'"]'),C=A[0].x.baseVal.value,N=A[0].y.baseVal.value,v=A[0].width.baseVal.value,_=Lt(I[0]).select(".label");_.attr("transform",`translate(${C+v/2}, ${N+14})`),_.attr("id",e+"Text");for(let V=0;V<p.classes.length;V++)I[0].classList.add(p.classes[V])}if(!a.htmlLabels){const A=l.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(let I=0;I<A.length;I++){const C=A[I],N=C.getBBox(),v=l.createElementNS("http://www.w3.org/2000/svg","rect");v.setAttribute("rx",0),v.setAttribute("ry",0),v.setAttribute("width",N.width),v.setAttribute("height",N.height),C.insertBefore(v,C.firstChild)}}b2(f,S,a.diagramPadding,a.useMaxWidth),Object.keys(m).forEach(function(A){const I=m[A];if(I.link){const C=o.select("#"+e+' [id="'+r.db.lookUpDomId(A)+'"]');if(C){const N=l.createElementNS("http://www.w3.org/2000/svg","a");N.setAttributeNS("http://www.w3.org/2000/svg","class",I.classes.join(" ")),N.setAttributeNS("http://www.w3.org/2000/svg","href",I.link),N.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),i==="sandbox"?N.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):I.linkTarget&&N.setAttributeNS("http://www.w3.org/2000/svg","target",I.linkTarget);const v=C.insert(function(){return N},":first-child"),E=C.select(".label-container");E&&v.append(function(){return E.node()});const _=C.select(".label");_&&v.append(function(){return _.node()})}}})},Y5={setConf:mpt,addVertices:VB,addEdges:YB,getClasses:bpt,draw:vpt},zB={},_pt=function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)zB[e[n]]=t[e[n]]},UB=function(t,e,n,r,i,a){const s=r.select(`[id="${n}"]`);Object.keys(t).forEach(function(l){const u=t[l];let h="default";u.classes.length>0&&(h=u.classes.join(" "));const d=ws(u.styles);let f=u.text!==void 0?u.text:u.id,p;if(In(J().flowchart.htmlLabels)){const b={label:f.replace(/fa[lrsb]?:fa-[\w-]+/g,x=>`<i class='${x.replace(":"," ")}'></i>`)};p=AB(s,b).node(),p.parentNode.removeChild(p)}else{const b=i.createElementNS("http://www.w3.org/2000/svg","text");b.setAttribute("style",d.labelStyle.replace("color:","fill:"));const x=f.split(ge.lineBreakRegex);for(let k=0;k<x.length;k++){const T=i.createElementNS("http://www.w3.org/2000/svg","tspan");T.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),T.setAttribute("dy","1em"),T.setAttribute("x","1"),T.textContent=x[k],b.appendChild(T)}p=b}let y=0,m="";switch(u.type){case"round":y=5,m="rect";break;case"square":m="rect";break;case"diamond":m="question";break;case"hexagon":m="hexagon";break;case"odd":m="rect_left_inv_arrow";break;case"lean_right":m="lean_right";break;case"lean_left":m="lean_left";break;case"trapezoid":m="trapezoid";break;case"inv_trapezoid":m="inv_trapezoid";break;case"odd_right":m="rect_left_inv_arrow";break;case"circle":m="circle";break;case"ellipse":m="ellipse";break;case"stadium":m="stadium";break;case"subroutine":m="subroutine";break;case"cylinder":m="cylinder";break;case"group":m="rect";break;case"doublecircle":m="doublecircle";break;default:m="rect"}e.setNode(u.id,{labelStyle:d.labelStyle,shape:m,labelText:f,rx:y,ry:y,class:h,style:d.style,id:u.id,link:u.link,linkTarget:u.linkTarget,tooltip:a.db.getTooltip(u.id)||"",domId:a.db.lookUpDomId(u.id),haveCallback:u.haveCallback,width:u.type==="group"?500:void 0,dir:u.dir,type:u.type,props:u.props,padding:J().flowchart.padding}),Y.info("setNode",{labelStyle:d.labelStyle,shape:m,labelText:f,rx:y,ry:y,class:h,style:d.style,id:u.id,domId:a.db.lookUpDomId(u.id),width:u.type==="group"?500:void 0,type:u.type,dir:u.dir,props:u.props,padding:J().flowchart.padding})})},WB=function(t,e,n){Y.info("abc78 edges = ",t);let r=0,i={},a,s;if(typeof t.defaultStyle<"u"){const o=ws(t.defaultStyle);a=o.style,s=o.labelStyle}t.forEach(function(o){r++;var l="L-"+o.start+"-"+o.end;typeof i[l]>"u"?(i[l]=0,Y.info("abc78 new entry",l,i[l])):(i[l]++,Y.info("abc78 new entry",l,i[l]));let u=l+"-"+i[l];Y.info("abc78 new link id to be used is",l,u,i[l]);var h="LS-"+o.start,d="LE-"+o.end;const f={style:"",labelStyle:""};switch(f.minlen=o.length||1,o.type==="arrow_open"?f.arrowhead="none":f.arrowhead="normal",f.arrowTypeStart="arrow_open",f.arrowTypeEnd="arrow_open",o.type){case"double_arrow_cross":f.arrowTypeStart="arrow_cross";case"arrow_cross":f.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":f.arrowTypeStart="arrow_point";case"arrow_point":f.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":f.arrowTypeStart="arrow_circle";case"arrow_circle":f.arrowTypeEnd="arrow_circle";break}let p="",y="";switch(o.stroke){case"normal":p="fill:none;",typeof a<"u"&&(p=a),typeof s<"u"&&(y=s),f.thickness="normal",f.pattern="solid";break;case"dotted":f.thickness="normal",f.pattern="dotted",f.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":f.thickness="thick",f.pattern="solid",f.style="stroke-width: 3.5px;fill:none;";break;case"invisible":f.thickness="invisible",f.pattern="solid",f.style="stroke-width: 0;fill:none;";break}if(typeof o.style<"u"){const m=ws(o.style);p=m.style,y=m.labelStyle}f.style=f.style+=p,f.labelStyle=f.labelStyle+=y,typeof o.interpolate<"u"?f.curve=Zi(o.interpolate,di):typeof t.defaultInterpolate<"u"?f.curve=Zi(t.defaultInterpolate,di):f.curve=Zi(zB.curve,di),typeof o.text>"u"?typeof o.style<"u"&&(f.arrowheadStyle="fill: #333"):(f.arrowheadStyle="fill: #333",f.labelpos="c"),f.labelType="text",f.label=o.text.replace(ge.lineBreakRegex,`
`),typeof o.style>"u"&&(f.style=f.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),f.labelStyle=f.labelStyle.replace("color:","fill:"),f.id=u,f.classes="flowchart-link "+h+" "+d,e.setEdge(o.start,o.end,f,r)})},xpt=function(t,e){Y.info("Extracting classes"),e.db.clear();try{return e.parse(t),e.db.getClasses()}catch{return}},wpt=function(t,e,n,r){Y.info("Drawing flowchart"),r.db.clear(),Ca.setGen("gen-2"),r.parser.parse(t);let i=r.db.getDirection();typeof i>"u"&&(i="TD");const{securityLevel:a,flowchart:s}=J(),o=s.nodeSpacing||50,l=s.rankSpacing||50;let u;a==="sandbox"&&(u=Lt("#i"+e));const h=Lt(a==="sandbox"?u.nodes()[0].contentDocument.body:"body"),d=a==="sandbox"?u.nodes()[0].contentDocument:document,f=new gn.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:i,nodesep:o,ranksep:l,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let p;const y=r.db.getSubGraphs();Y.info("Subgraphs - ",y);for(let L=y.length-1;L>=0;L--)p=y[L],Y.info("Subgraph - ",p),r.db.addVertex(p.id,p.title,"group",void 0,p.classes,p.dir);const m=r.db.getVertices(),b=r.db.getEdges();Y.info(b);let x=0;for(x=y.length-1;x>=0;x--){p=y[x],C_("cluster").append("text");for(let L=0;L<p.nodes.length;L++)Y.info("Setting up subgraphs",p.nodes[L],p.id),f.setParent(p.nodes[L],p.id)}UB(m,f,e,h,d,r),WB(b,f);const k=h.select(`[id="${e}"]`);kr(r.db,k,e);const T=h.select("#"+e+" g");if(I5(T,f,["point","circle","cross"],"flowchart",e),b2(f,k,s.diagramPadding,s.useMaxWidth),r.db.indexNodes("subGraph"+x),!s.htmlLabels){const L=d.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(let R=0;R<L.length;R++){const A=L[R],I=A.getBBox(),C=d.createElementNS("http://www.w3.org/2000/svg","rect");C.setAttribute("rx",0),C.setAttribute("ry",0),C.setAttribute("width",I.width),C.setAttribute("height",I.height),A.insertBefore(C,A.firstChild)}}Object.keys(m).forEach(function(L){const R=m[L];if(R.link){const A=Lt("#"+e+' [id="'+L+'"]');if(A){const I=d.createElementNS("http://www.w3.org/2000/svg","a");I.setAttributeNS("http://www.w3.org/2000/svg","class",R.classes.join(" ")),I.setAttributeNS("http://www.w3.org/2000/svg","href",R.link),I.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),a==="sandbox"?I.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):R.linkTarget&&I.setAttributeNS("http://www.w3.org/2000/svg","target",R.linkTarget);const C=A.insert(function(){return I},":first-child"),N=A.select(".label-container");N&&C.append(function(){return N.node()});const v=A.select(".label");v&&C.append(function(){return v.node()})}}})},d3={setConf:_pt,addVertices:UB,addEdges:WB,getClasses:xpt,draw:wpt};var Kv=function(){var t=function(A,I,C,N){for(C=C||{},N=A.length;N--;C[A[N]]=I);return C},e=[1,3],n=[1,5],r=[7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],i=[1,15],a=[1,16],s=[1,17],o=[1,18],l=[1,19],u=[1,20],h=[1,21],d=[1,22],f=[1,23],p=[1,24],y=[1,25],m=[1,26],b=[1,28],x=[1,30],k=[1,33],T=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],S={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,includes:17,todayMarker:18,title:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,clickStatement:26,taskTxt:27,taskData:28,openDirective:29,typeDirective:30,closeDirective:31,":":32,argDirective:33,click:34,callbackname:35,callbackargs:36,href:37,clickStatementDebug:38,open_directive:39,type_directive:40,arg_directive:41,close_directive:42,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"includes",18:"todayMarker",19:"title",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"taskTxt",28:"taskData",32:":",34:"click",35:"callbackname",36:"callbackargs",37:"href",39:"open_directive",40:"type_directive",41:"arg_directive",42:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[26,2],[26,3],[26,3],[26,4],[26,3],[26,4],[26,2],[38,2],[38,3],[38,3],[38,4],[38,3],[38,4],[38,2],[29,1],[30,1],[33,1],[31,1]],performAction:function(I,C,N,v,E,_,V){var B=_.length-1;switch(E){case 2:return _[B-1];case 3:this.$=[];break;case 4:_[B-1].push(_[B]),this.$=_[B-1];break;case 5:case 6:this.$=_[B];break;case 7:case 8:this.$=[];break;case 9:v.setDateFormat(_[B].substr(11)),this.$=_[B].substr(11);break;case 10:v.enableInclusiveEndDates(),this.$=_[B].substr(18);break;case 11:v.TopAxis(),this.$=_[B].substr(8);break;case 12:v.setAxisFormat(_[B].substr(11)),this.$=_[B].substr(11);break;case 13:v.setExcludes(_[B].substr(9)),this.$=_[B].substr(9);break;case 14:v.setIncludes(_[B].substr(9)),this.$=_[B].substr(9);break;case 15:v.setTodayMarker(_[B].substr(12)),this.$=_[B].substr(12);break;case 16:v.setDiagramTitle(_[B].substr(6)),this.$=_[B].substr(6);break;case 17:this.$=_[B].trim(),v.setAccTitle(this.$);break;case 18:case 19:this.$=_[B].trim(),v.setAccDescription(this.$);break;case 20:v.addSection(_[B].substr(8)),this.$=_[B].substr(8);break;case 22:v.addTask(_[B-1],_[B]),this.$="task";break;case 26:this.$=_[B-1],v.setClickEvent(_[B-1],_[B],null);break;case 27:this.$=_[B-2],v.setClickEvent(_[B-2],_[B-1],_[B]);break;case 28:this.$=_[B-2],v.setClickEvent(_[B-2],_[B-1],null),v.setLink(_[B-2],_[B]);break;case 29:this.$=_[B-3],v.setClickEvent(_[B-3],_[B-2],_[B-1]),v.setLink(_[B-3],_[B]);break;case 30:this.$=_[B-2],v.setClickEvent(_[B-2],_[B],null),v.setLink(_[B-2],_[B-1]);break;case 31:this.$=_[B-3],v.setClickEvent(_[B-3],_[B-1],_[B]),v.setLink(_[B-3],_[B-2]);break;case 32:this.$=_[B-1],v.setLink(_[B-1],_[B]);break;case 33:case 39:this.$=_[B-1]+" "+_[B];break;case 34:case 35:case 37:this.$=_[B-2]+" "+_[B-1]+" "+_[B];break;case 36:case 38:this.$=_[B-3]+" "+_[B-2]+" "+_[B-1]+" "+_[B];break;case 40:v.parseDirective("%%{","open_directive");break;case 41:v.parseDirective(_[B],"type_directive");break;case 42:_[B]=_[B].trim().replace(/'/g,'"'),v.parseDirective(_[B],"arg_directive");break;case 43:v.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:e,29:4,39:n},{1:[3]},{3:6,4:2,5:e,29:4,39:n},t(r,[2,3],{6:7}),{30:8,40:[1,9]},{40:[2,40]},{1:[2,1]},{4:29,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:i,13:a,14:s,15:o,16:l,17:u,18:h,19:d,20:f,22:p,24:y,25:m,26:27,27:b,29:4,34:x,39:n},{31:31,32:[1,32],42:k},t([32,42],[2,41]),t(r,[2,8],{1:[2,2]}),t(r,[2,4]),{4:29,10:34,12:i,13:a,14:s,15:o,16:l,17:u,18:h,19:d,20:f,22:p,24:y,25:m,26:27,27:b,29:4,34:x,39:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,9]),t(r,[2,10]),t(r,[2,11]),t(r,[2,12]),t(r,[2,13]),t(r,[2,14]),t(r,[2,15]),t(r,[2,16]),{21:[1,35]},{23:[1,36]},t(r,[2,19]),t(r,[2,20]),t(r,[2,21]),{28:[1,37]},t(r,[2,23]),{35:[1,38],37:[1,39]},{11:[1,40]},{33:41,41:[1,42]},{11:[2,43]},t(r,[2,5]),t(r,[2,17]),t(r,[2,18]),t(r,[2,22]),t(r,[2,26],{36:[1,43],37:[1,44]}),t(r,[2,32],{35:[1,45]}),t(T,[2,24]),{31:46,42:k},{42:[2,42]},t(r,[2,27],{37:[1,47]}),t(r,[2,28]),t(r,[2,30],{36:[1,48]}),{11:[1,49]},t(r,[2,29]),t(r,[2,31]),t(T,[2,25])],defaultActions:{5:[2,40],6:[2,1],33:[2,43],42:[2,42]},parseError:function(I,C){if(C.recoverable)this.trace(I);else{var N=new Error(I);throw N.hash=C,N}},parse:function(I){var C=this,N=[0],v=[],E=[null],_=[],V=this.table,B="",G=0,tt=0,ut=2,X=1,z=_.slice.call(arguments,1),j=Object.create(this.lexer),ht={yy:{}};for(var it in this.yy)Object.prototype.hasOwnProperty.call(this.yy,it)&&(ht.yy[it]=this.yy[it]);j.setInput(I,ht.yy),ht.yy.lexer=j,ht.yy.parser=this,typeof j.yylloc>"u"&&(j.yylloc={});var et=j.yylloc;_.push(et);var ft=j.options&&j.options.ranges;typeof ht.yy.parseError=="function"?this.parseError=ht.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function st(){var ct;return ct=v.pop()||j.lex()||X,typeof ct!="number"&&(ct instanceof Array&&(v=ct,ct=v.pop()),ct=C.symbols_[ct]||ct),ct}for(var wt,Z,F,H,q={},D,$,U,P;;){if(Z=N[N.length-1],this.defaultActions[Z]?F=this.defaultActions[Z]:((wt===null||typeof wt>"u")&&(wt=st()),F=V[Z]&&V[Z][wt]),typeof F>"u"||!F.length||!F[0]){var K="";P=[];for(D in V[Z])this.terminals_[D]&&D>ut&&P.push("'"+this.terminals_[D]+"'");j.showPosition?K="Parse error on line "+(G+1)+`:
`+j.showPosition()+`
Expecting `+P.join(", ")+", got '"+(this.terminals_[wt]||wt)+"'":K="Parse error on line "+(G+1)+": Unexpected "+(wt==X?"end of input":"'"+(this.terminals_[wt]||wt)+"'"),this.parseError(K,{text:j.match,token:this.terminals_[wt]||wt,line:j.yylineno,loc:et,expected:P})}if(F[0]instanceof Array&&F.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Z+", token: "+wt);switch(F[0]){case 1:N.push(wt),E.push(j.yytext),_.push(j.yylloc),N.push(F[1]),wt=null,tt=j.yyleng,B=j.yytext,G=j.yylineno,et=j.yylloc;break;case 2:if($=this.productions_[F[1]][1],q.$=E[E.length-$],q._$={first_line:_[_.length-($||1)].first_line,last_line:_[_.length-1].last_line,first_column:_[_.length-($||1)].first_column,last_column:_[_.length-1].last_column},ft&&(q._$.range=[_[_.length-($||1)].range[0],_[_.length-1].range[1]]),H=this.performAction.apply(q,[B,tt,G,ht.yy,F[1],E,_].concat(z)),typeof H<"u")return H;$&&(N=N.slice(0,-1*$*2),E=E.slice(0,-1*$),_=_.slice(0,-1*$)),N.push(this.productions_[F[1]][0]),E.push(q.$),_.push(q._$),U=V[N[N.length-2]][N[N.length-1]],N.push(U);break;case 3:return!0}}return!0}},L=function(){var A={EOF:1,parseError:function(C,N){if(this.yy.parser)this.yy.parser.parseError(C,N);else throw new Error(C)},setInput:function(I,C){return this.yy=C||this.yy||{},this._input=I,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var I=this._input[0];this.yytext+=I,this.yyleng++,this.offset++,this.match+=I,this.matched+=I;var C=I.match(/(?:\r\n?|\n).*/g);return C?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),I},unput:function(I){var C=I.length,N=I.split(/(?:\r\n?|\n)/g);this._input=I+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C),this.offset-=C;var v=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),N.length-1&&(this.yylineno-=N.length-1);var E=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:N?(N.length===v.length?this.yylloc.first_column:0)+v[v.length-N.length].length-N[0].length:this.yylloc.first_column-C},this.options.ranges&&(this.yylloc.range=[E[0],E[0]+this.yyleng-C]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(I){this.unput(this.match.slice(I))},pastInput:function(){var I=this.matched.substr(0,this.matched.length-this.match.length);return(I.length>20?"...":"")+I.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var I=this.match;return I.length<20&&(I+=this._input.substr(0,20-I.length)),(I.substr(0,20)+(I.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var I=this.pastInput(),C=new Array(I.length+1).join("-");return I+this.upcomingInput()+`
`+C+"^"},test_match:function(I,C){var N,v,E;if(this.options.backtrack_lexer&&(E={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(E.yylloc.range=this.yylloc.range.slice(0))),v=I[0].match(/(?:\r\n?|\n).*/g),v&&(this.yylineno+=v.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:v?v[v.length-1].length-v[v.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+I[0].length},this.yytext+=I[0],this.match+=I[0],this.matches=I,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(I[0].length),this.matched+=I[0],N=this.performAction.call(this,this.yy,this,C,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),N)return N;if(this._backtrack){for(var _ in E)this[_]=E[_];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var I,C,N,v;this._more||(this.yytext="",this.match="");for(var E=this._currentRules(),_=0;_<E.length;_++)if(N=this._input.match(this.rules[E[_]]),N&&(!C||N[0].length>C[0].length)){if(C=N,v=_,this.options.backtrack_lexer){if(I=this.test_match(N,E[_]),I!==!1)return I;if(this._backtrack){C=!1;continue}else return!1}else if(!this.options.flex)break}return C?(I=this.test_match(C,E[v]),I!==!1?I:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var C=this.next();return C||this.lex()},begin:function(C){this.conditionStack.push(C)},popState:function(){var C=this.conditionStack.length-1;return C>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(C){return C=this.conditionStack.length-1-Math.abs(C||0),C>=0?this.conditionStack[C]:"INITIAL"},pushState:function(C){this.begin(C)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(C,N,v,E){switch(v){case 0:return this.begin("open_directive"),39;case 1:return this.begin("type_directive"),40;case 2:return this.popState(),this.begin("arg_directive"),32;case 3:return this.popState(),this.popState(),42;case 4:return 41;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 37;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 35;case 26:this.popState();break;case 27:return 36;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 34;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 17;case 37:return 16;case 38:return 18;case 39:return"date";case 40:return 19;case 41:return"accDescription";case 42:return 25;case 43:return 27;case 44:return 28;case 45:return 32;case 46:return 7;case 47:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],inclusive:!0}}};return A}();S.lexer=L;function R(){this.yy={}}return R.prototype=S,S.Parser=R,new R}();Kv.parser=Kv;const kpt=t=>t.match(/^\s*gantt/)!==null;let Hi="",z5="",U5="",Ch=[],Sh=[],W5={},H5=[],td=[],$c="";const HB=["active","done","crit","milestone"];let ed=[],Ah=!1,G5=!1,Zv=0;const Tpt=function(t,e,n){en.parseDirective(this,t,e,n)},Ept=function(){H5=[],td=[],$c="",ed=[],s1=0,Jv=void 0,o1=void 0,_n=[],Hi="",z5="",U5="",Ch=[],Sh=[],Ah=!1,G5=!1,Zv=0,W5={},Si()},Cpt=function(t){z5=t},Spt=function(){return z5},Apt=function(t){U5=t},Mpt=function(){return U5},Lpt=function(t){Hi=t},Rpt=function(){Ah=!0},Npt=function(){return Ah},Ipt=function(){G5=!0},Bpt=function(){return G5},Dpt=function(){return Hi},Opt=function(t){Ch=t.toLowerCase().split(/[\s,]+/)},Fpt=function(){return Ch},Ppt=function(t){Sh=t.toLowerCase().split(/[\s,]+/)},$pt=function(){return Sh},qpt=function(){return W5},Vpt=function(t){$c=t,H5.push(t)},Ypt=function(){return H5},zpt=function(){let t=EE();const e=10;let n=0;for(;!t&&n<e;)t=EE(),n++;return td=_n,td},GB=function(t,e,n,r){return r.indexOf(t.format(e.trim()))>=0?!1:t.isoWeekday()>=6&&n.indexOf("weekends")>=0||n.indexOf(t.format("dddd").toLowerCase())>=0?!0:n.indexOf(t.format(e.trim()))>=0},jB=function(t,e,n,r){if(!n.length||t.manualEndTime)return;let i=mi(t.startTime,e,!0);i.add(1,"d");let a=mi(t.endTime,e,!0),s=Upt(i,a,e,n,r);t.endTime=a.toDate(),t.renderEndTime=s},Upt=function(t,e,n,r,i){let a=!1,s=null;for(;t<=e;)a||(s=e.toDate()),a=GB(t,n,r,i),a&&e.add(1,"d"),t.add(1,"d");return s},Qv=function(t,e,n){n=n.trim();const i=/^after\s+([\d\w- ]+)/.exec(n.trim());if(i!==null){let s=null;if(i[1].split(" ").forEach(function(o){let l=rl(o);typeof l<"u"&&(s?l.endTime>s.endTime&&(s=l):s=l)}),s)return s.endTime;{const o=new Date;return o.setHours(0,0,0,0),o}}let a=mi(n,e.trim(),!0);if(a.isValid())return a.toDate();{Y.debug("Invalid date:"+n),Y.debug("With date format:"+e.trim());const s=new Date(n);if(typeof s>"u"||isNaN(s.getTime()))throw new Error("Invalid date:"+n);return s}},XB=function(t){const e=/^(\d+(?:\.\d+)?)([yMwdhms]|ms)$/.exec(t.trim());return e!==null?mi.duration(Number.parseFloat(e[1]),e[2]):mi.duration.invalid()},KB=function(t,e,n,r){r=r||!1,n=n.trim();let i=mi(n,e.trim(),!0);if(i.isValid())return r&&i.add(1,"d"),i.toDate();const a=mi(t),s=XB(n);return s.isValid()&&a.add(s),a.toDate()};let s1=0;const gc=function(t){return typeof t>"u"?(s1=s1+1,"task"+s1):t},Wpt=function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const r=n.split(","),i={};tD(r,i,HB);for(let s=0;s<r.length;s++)r[s]=r[s].trim();let a="";switch(r.length){case 1:i.id=gc(),i.startTime=t.endTime,a=r[0];break;case 2:i.id=gc(),i.startTime=Qv(void 0,Hi,r[0]),a=r[1];break;case 3:i.id=gc(r[0]),i.startTime=Qv(void 0,Hi,r[1]),a=r[2];break}return a&&(i.endTime=KB(i.startTime,Hi,a,Ah),i.manualEndTime=mi(a,"YYYY-MM-DD",!0).isValid(),jB(i,Hi,Sh,Ch)),i},Hpt=function(t,e){let n;e.substr(0,1)===":"?n=e.substr(1,e.length):n=e;const r=n.split(","),i={};tD(r,i,HB);for(let a=0;a<r.length;a++)r[a]=r[a].trim();switch(r.length){case 1:i.id=gc(),i.startTime={type:"prevTaskEnd",id:t},i.endTime={data:r[0]};break;case 2:i.id=gc(),i.startTime={type:"getStartDate",startData:r[0]},i.endTime={data:r[1]};break;case 3:i.id=gc(r[0]),i.startTime={type:"getStartDate",startData:r[1]},i.endTime={data:r[2]};break}return i};let Jv,o1,_n=[];const ZB={},Gpt=function(t,e){const n={section:$c,type:$c,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},r=Hpt(o1,e);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=o1,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.order=Zv,Zv++;const i=_n.push(n);o1=n.id,ZB[n.id]=i-1},rl=function(t){const e=ZB[t];return _n[e]},jpt=function(t,e){const n={section:$c,type:$c,description:t,task:t,classes:[]},r=Wpt(Jv,e);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,Jv=n,td.push(n)},EE=function(){const t=function(n){const r=_n[n];let i="";switch(_n[n].raw.startTime.type){case"prevTaskEnd":{const a=rl(r.prevTaskId);r.startTime=a.endTime;break}case"getStartDate":i=Qv(void 0,Hi,_n[n].raw.startTime.startData),i&&(_n[n].startTime=i);break}return _n[n].startTime&&(_n[n].endTime=KB(_n[n].startTime,Hi,_n[n].raw.endTime.data,Ah),_n[n].endTime&&(_n[n].processed=!0,_n[n].manualEndTime=mi(_n[n].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),jB(_n[n],Hi,Sh,Ch))),_n[n].processed};let e=!0;for(let n=0;n<_n.length;n++)t(n),e=e&&_n[n].processed;return e},Xpt=function(t,e){let n=e;J().securityLevel!=="loose"&&(n=ia(e)),t.split(",").forEach(function(r){typeof rl(r)<"u"&&(JB(r,()=>{window.open(n,"_self")}),W5[r]=n)}),QB(t,"clickable")},QB=function(t,e){t.split(",").forEach(function(n){let r=rl(n);typeof r<"u"&&r.classes.push(e)})},Kpt=function(t,e,n){if(J().securityLevel!=="loose"||typeof e>"u")return;let r=[];if(typeof n=="string"){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let a=0;a<r.length;a++){let s=r[a].trim();s.charAt(0)==='"'&&s.charAt(s.length-1)==='"'&&(s=s.substr(1,s.length-2)),r[a]=s}}r.length===0&&r.push(t),typeof rl(t)<"u"&&JB(t,()=>{Ae.runFunc(e,...r)})},JB=function(t,e){ed.push(function(){const n=document.querySelector(`[id="${t}"]`);n!==null&&n.addEventListener("click",function(){e()})}),ed.push(function(){const n=document.querySelector(`[id="${t}-text"]`);n!==null&&n.addEventListener("click",function(){e()})})},Zpt=function(t,e,n){t.split(",").forEach(function(r){Kpt(r,e,n)}),QB(t,"clickable")},Qpt=function(t){ed.forEach(function(e){e(t)})},j5={parseDirective:Tpt,getConfig:()=>J().gantt,clear:Ept,setDateFormat:Lpt,getDateFormat:Dpt,enableInclusiveEndDates:Rpt,endDatesAreInclusive:Npt,enableTopAxis:Ipt,topAxisEnabled:Bpt,setAxisFormat:Cpt,getAxisFormat:Spt,setTodayMarker:Apt,getTodayMarker:Mpt,setAccTitle:Qr,getAccTitle:Ai,setDiagramTitle:_2,getDiagramTitle:x2,setAccDescription:Mi,getAccDescription:Li,addSection:Vpt,getSections:Ypt,getTasks:zpt,addTask:Gpt,findTaskById:rl,addTaskOrg:jpt,setIncludes:Opt,getIncludes:Fpt,setExcludes:Ppt,getExcludes:$pt,setClickEvent:Zpt,setLink:Xpt,getLinks:qpt,bindFunctions:Qpt,parseDuration:XB,isInvalidDate:GB};function tD(t,e,n){let r=!0;for(;r;)r=!1,n.forEach(function(i){const a="^\\s*"+i+"\\s*$",s=new RegExp(a);t[0].match(s)&&(e[i]=!0,t.shift(1),r=!0)})}const Jpt=function(){Y.debug("Something is calling, setConf, remove the call")};let _a;const tgt=function(t,e,n,r){const i=J().gantt,a=J().securityLevel;let s;a==="sandbox"&&(s=Lt("#i"+e));const o=Lt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=a==="sandbox"?s.nodes()[0].contentDocument:document,u=l.getElementById(e);_a=u.parentElement.offsetWidth,typeof _a>"u"&&(_a=1200),typeof i.useWidth<"u"&&(_a=i.useWidth);const h=r.db.getTasks(),d=h.length*(i.barHeight+i.barGap)+2*i.topPadding;u.setAttribute("viewBox","0 0 "+_a+" "+d);const f=o.select(`[id="${e}"]`),p=vY().domain([eF(h,function(N){return N.startTime}),tF(h,function(N){return N.endTime})]).rangeRound([0,_a-i.leftPadding-i.rightPadding]);let y=[];for(let N=0;N<h.length;N++)y.push(h[N].type);const m=y;y=A(y);function b(N,v){const E=N.startTime,_=v.startTime;let V=0;return E>_?V=1:E<_&&(V=-1),V}h.sort(b),x(h,_a,d),Ci(f,d,_a,i.useMaxWidth),f.append("text").text(r.db.getDiagramTitle()).attr("x",_a/2).attr("y",i.titleTopMargin).attr("class","titleText"),kr(r.db,f,e);function x(N,v,E){const _=i.barHeight,V=_+i.barGap,B=i.topPadding,G=i.leftPadding,tt=HC().domain([0,y.length]).range(["#00B9FA","#F95002"]).interpolate(w$);T(V,B,G,v,E,N,r.db.getExcludes(),r.db.getIncludes()),S(G,B,v,E),k(N,V,B,G,_,tt,v),L(V,B),R(G,B,v,E)}function k(N,v,E,_,V,B,G){f.append("g").selectAll("rect").data(N).enter().append("rect").attr("x",0).attr("y",function(z,j){return j=z.order,j*v+E-2}).attr("width",function(){return G-i.rightPadding/2}).attr("height",v).attr("class",function(z){for(let j=0;j<y.length;j++)if(z.type===y[j])return"section section"+j%i.numberSectionStyles;return"section section0"});const tt=f.append("g").selectAll("rect").data(N).enter(),ut=r.db.getLinks();if(tt.append("rect").attr("id",function(z){return z.id}).attr("rx",3).attr("ry",3).attr("x",function(z){return z.milestone?p(z.startTime)+_+.5*(p(z.endTime)-p(z.startTime))-.5*V:p(z.startTime)+_}).attr("y",function(z,j){return j=z.order,j*v+E}).attr("width",function(z){return z.milestone?V:p(z.renderEndTime||z.endTime)-p(z.startTime)}).attr("height",V).attr("transform-origin",function(z,j){return j=z.order,(p(z.startTime)+_+.5*(p(z.endTime)-p(z.startTime))).toString()+"px "+(j*v+E+.5*V).toString()+"px"}).attr("class",function(z){const j="task";let ht="";z.classes.length>0&&(ht=z.classes.join(" "));let it=0;for(let ft=0;ft<y.length;ft++)z.type===y[ft]&&(it=ft%i.numberSectionStyles);let et="";return z.active?z.crit?et+=" activeCrit":et=" active":z.done?z.crit?et=" doneCrit":et=" done":z.crit&&(et+=" crit"),et.length===0&&(et=" task"),z.milestone&&(et=" milestone "+et),et+=it,et+=" "+ht,j+et}),tt.append("text").attr("id",function(z){return z.id+"-text"}).text(function(z){return z.task}).attr("font-size",i.fontSize).attr("x",function(z){let j=p(z.startTime),ht=p(z.renderEndTime||z.endTime);z.milestone&&(j+=.5*(p(z.endTime)-p(z.startTime))-.5*V),z.milestone&&(ht=j+V);const it=this.getBBox().width;return it>ht-j?ht+it+1.5*i.leftPadding>G?j+_-5:ht+_+5:(ht-j)/2+j+_}).attr("y",function(z,j){return j=z.order,j*v+i.barHeight/2+(i.fontSize/2-2)+E}).attr("text-height",V).attr("class",function(z){const j=p(z.startTime);let ht=p(z.endTime);z.milestone&&(ht=j+V);const it=this.getBBox().width;let et="";z.classes.length>0&&(et=z.classes.join(" "));let ft=0;for(let wt=0;wt<y.length;wt++)z.type===y[wt]&&(ft=wt%i.numberSectionStyles);let st="";return z.active&&(z.crit?st="activeCritText"+ft:st="activeText"+ft),z.done?z.crit?st=st+" doneCritText"+ft:st=st+" doneText"+ft:z.crit&&(st=st+" critText"+ft),z.milestone&&(st+=" milestoneText"),it>ht-j?ht+it+1.5*i.leftPadding>G?et+" taskTextOutsideLeft taskTextOutside"+ft+" "+st:et+" taskTextOutsideRight taskTextOutside"+ft+" "+st+" width-"+it:et+" taskText taskText"+ft+" "+st+" width-"+it}),J().securityLevel==="sandbox"){let z;z=Lt("#i"+e);const j=z.nodes()[0].contentDocument;tt.filter(function(ht){return typeof ut[ht.id]<"u"}).each(function(ht){var it=j.querySelector("#"+ht.id),et=j.querySelector("#"+ht.id+"-text");const ft=it.parentNode;var st=j.createElement("a");st.setAttribute("xlink:href",ut[ht.id]),st.setAttribute("target","_top"),ft.appendChild(st),st.appendChild(it),st.appendChild(et)})}}function T(N,v,E,_,V,B,G,tt){const ut=B.reduce((ft,{startTime:st})=>ft?Math.min(ft,st):st,0),X=B.reduce((ft,{endTime:st})=>ft?Math.max(ft,st):st,0),z=r.db.getDateFormat();if(!ut||!X)return;const j=[];let ht=null,it=mi(ut);for(;it.valueOf()<=X;)r.db.isInvalidDate(it,z,G,tt)?ht?ht.end=it.clone():ht={start:it.clone(),end:it.clone()}:ht&&(j.push(ht),ht=null),it.add(1,"d");f.append("g").selectAll("rect").data(j).enter().append("rect").attr("id",function(ft){return"exclude-"+ft.start.format("YYYY-MM-DD")}).attr("x",function(ft){return p(ft.start)+E}).attr("y",i.gridLineStartPadding).attr("width",function(ft){const st=ft.end.clone().add(1,"day");return p(st)-p(ft.start)}).attr("height",V-v-i.gridLineStartPadding).attr("transform-origin",function(ft,st){return(p(ft.start)+E+.5*(p(ft.end)-p(ft.start))).toString()+"px "+(st*N+.5*V).toString()+"px"}).attr("class","exclude-range")}function S(N,v,E,_){let V=lF(p).tickSize(-_+v+i.gridLineStartPadding).tickFormat(T1(r.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));if(f.append("g").attr("class","grid").attr("transform","translate("+N+", "+(_-50)+")").call(V).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),r.db.topAxisEnabled()||i.topAxis){let B=cF(p).tickSize(-_+v+i.gridLineStartPadding).tickFormat(T1(r.db.getAxisFormat()||i.axisFormat||"%Y-%m-%d"));f.append("g").attr("class","grid").attr("transform","translate("+N+", "+v+")").call(B).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function L(N,v){const E=[];let _=0;for(let V=0;V<y.length;V++)E[V]=[y[V],C(y[V],m)];f.append("g").selectAll("text").data(E).enter().append(function(V){const B=V[0].split(ge.lineBreakRegex),G=-(B.length-1)/2,tt=l.createElementNS("http://www.w3.org/2000/svg","text");tt.setAttribute("dy",G+"em");for(let ut=0;ut<B.length;ut++){const X=l.createElementNS("http://www.w3.org/2000/svg","tspan");X.setAttribute("alignment-baseline","central"),X.setAttribute("x","10"),ut>0&&X.setAttribute("dy","1em"),X.textContent=B[ut],tt.appendChild(X)}return tt}).attr("x",10).attr("y",function(V,B){if(B>0)for(let G=0;G<B;G++)return _+=E[B-1][1],V[1]*N/2+_*N+v;else return V[1]*N/2+v}).attr("font-size",i.sectionFontSize).attr("font-size",i.sectionFontSize).attr("class",function(V){for(let B=0;B<y.length;B++)if(V[0]===y[B])return"sectionTitle sectionTitle"+B%i.numberSectionStyles;return"sectionTitle"})}function R(N,v,E,_){const V=r.db.getTodayMarker();if(V==="off")return;const B=f.append("g").attr("class","today"),G=new Date,tt=B.append("line");tt.attr("x1",p(G)+N).attr("x2",p(G)+N).attr("y1",i.titleTopMargin).attr("y2",_-i.titleTopMargin).attr("class","today"),V!==""&&tt.attr("style",V.replace(/,/g,";"))}function A(N){const v={},E=[];for(let _=0,V=N.length;_<V;++_)Object.prototype.hasOwnProperty.call(v,N[_])||(v[N[_]]=!0,E.push(N[_]));return E}function I(N){let v=N.length;const E={};for(;v;)E[N[--v]]=(E[N[v]]||0)+1;return E}function C(N,v){return I(v)[N]||0}},egt={setConf:Jpt,draw:tgt};var t_=function(){var t=function(a,s,o,l){for(o=o||{},l=a.length;l--;o[a[l]]=s);return o},e=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(s,o,l,u,h,d,f){switch(d.length-1,h){case 1:return u;case 4:break;case 6:u.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},t(e,[2,3]),t(e,[2,4]),t(e,[2,5]),t(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(s,o){if(o.recoverable)this.trace(s);else{var l=new Error(s);throw l.hash=o,l}},parse:function(s){var o=this,l=[0],u=[],h=[null],d=[],f=this.table,p="",y=0,m=0,b=2,x=1,k=d.slice.call(arguments,1),T=Object.create(this.lexer),S={yy:{}};for(var L in this.yy)Object.prototype.hasOwnProperty.call(this.yy,L)&&(S.yy[L]=this.yy[L]);T.setInput(s,S.yy),S.yy.lexer=T,S.yy.parser=this,typeof T.yylloc>"u"&&(T.yylloc={});var R=T.yylloc;d.push(R);var A=T.options&&T.options.ranges;typeof S.yy.parseError=="function"?this.parseError=S.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function I(){var X;return X=u.pop()||T.lex()||x,typeof X!="number"&&(X instanceof Array&&(u=X,X=u.pop()),X=o.symbols_[X]||X),X}for(var C,N,v,E,_={},V,B,G,tt;;){if(N=l[l.length-1],this.defaultActions[N]?v=this.defaultActions[N]:((C===null||typeof C>"u")&&(C=I()),v=f[N]&&f[N][C]),typeof v>"u"||!v.length||!v[0]){var ut="";tt=[];for(V in f[N])this.terminals_[V]&&V>b&&tt.push("'"+this.terminals_[V]+"'");T.showPosition?ut="Parse error on line "+(y+1)+`:
`+T.showPosition()+`
Expecting `+tt.join(", ")+", got '"+(this.terminals_[C]||C)+"'":ut="Parse error on line "+(y+1)+": Unexpected "+(C==x?"end of input":"'"+(this.terminals_[C]||C)+"'"),this.parseError(ut,{text:T.match,token:this.terminals_[C]||C,line:T.yylineno,loc:R,expected:tt})}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+N+", token: "+C);switch(v[0]){case 1:l.push(C),h.push(T.yytext),d.push(T.yylloc),l.push(v[1]),C=null,m=T.yyleng,p=T.yytext,y=T.yylineno,R=T.yylloc;break;case 2:if(B=this.productions_[v[1]][1],_.$=h[h.length-B],_._$={first_line:d[d.length-(B||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(B||1)].first_column,last_column:d[d.length-1].last_column},A&&(_._$.range=[d[d.length-(B||1)].range[0],d[d.length-1].range[1]]),E=this.performAction.apply(_,[p,m,y,S.yy,v[1],h,d].concat(k)),typeof E<"u")return E;B&&(l=l.slice(0,-1*B*2),h=h.slice(0,-1*B),d=d.slice(0,-1*B)),l.push(this.productions_[v[1]][0]),h.push(_.$),d.push(_._$),G=f[l[l.length-2]][l[l.length-1]],l.push(G);break;case 3:return!0}}return!0}},r=function(){var a={EOF:1,parseError:function(o,l){if(this.yy.parser)this.yy.parser.parseError(o,l);else throw new Error(o)},setInput:function(s,o){return this.yy=o||this.yy||{},this._input=s,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var s=this._input[0];this.yytext+=s,this.yyleng++,this.offset++,this.match+=s,this.matched+=s;var o=s.match(/(?:\r\n?|\n).*/g);return o?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),s},unput:function(s){var o=s.length,l=s.split(/(?:\r\n?|\n)/g);this._input=s+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-o),this.offset-=o;var u=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),l.length-1&&(this.yylineno-=l.length-1);var h=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:l?(l.length===u.length?this.yylloc.first_column:0)+u[u.length-l.length].length-l[0].length:this.yylloc.first_column-o},this.options.ranges&&(this.yylloc.range=[h[0],h[0]+this.yyleng-o]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(s){this.unput(this.match.slice(s))},pastInput:function(){var s=this.matched.substr(0,this.matched.length-this.match.length);return(s.length>20?"...":"")+s.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var s=this.match;return s.length<20&&(s+=this._input.substr(0,20-s.length)),(s.substr(0,20)+(s.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var s=this.pastInput(),o=new Array(s.length+1).join("-");return s+this.upcomingInput()+`
`+o+"^"},test_match:function(s,o){var l,u,h;if(this.options.backtrack_lexer&&(h={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(h.yylloc.range=this.yylloc.range.slice(0))),u=s[0].match(/(?:\r\n?|\n).*/g),u&&(this.yylineno+=u.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:u?u[u.length-1].length-u[u.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+s[0].length},this.yytext+=s[0],this.match+=s[0],this.matches=s,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(s[0].length),this.matched+=s[0],l=this.performAction.call(this,this.yy,this,o,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),l)return l;if(this._backtrack){for(var d in h)this[d]=h[d];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var s,o,l,u;this._more||(this.yytext="",this.match="");for(var h=this._currentRules(),d=0;d<h.length;d++)if(l=this._input.match(this.rules[h[d]]),l&&(!o||l[0].length>o[0].length)){if(o=l,u=d,this.options.backtrack_lexer){if(s=this.test_match(l,h[d]),s!==!1)return s;if(this._backtrack){o=!1;continue}else return!1}else if(!this.options.flex)break}return o?(s=this.test_match(o,h[u]),s!==!1?s:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var o=this.next();return o||this.lex()},begin:function(o){this.conditionStack.push(o)},popState:function(){var o=this.conditionStack.length-1;return o>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(o){return o=this.conditionStack.length-1-Math.abs(o||0),o>=0?this.conditionStack[o]:"INITIAL"},pushState:function(o){this.begin(o)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(o,l,u,h){switch(u){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return a}();n.lexer=r;function i(){this.yy={}}return i.prototype=n,n.Parser=i,new i}();t_.parser=t_;var eD="",nD=!1;const ngt=t=>{Y.debug("Setting message to: "+t),eD=t},rgt=()=>eD,igt=t=>{nD=t},agt=()=>nD,sgt={setMessage:ngt,getMessage:rgt,setInfo:igt,getInfo:agt,clear:Si},ogt=(t,e,n,r)=>{try{Y.debug(`Rendering info diagram
`+t);const i=J().securityLevel;let a;i==="sandbox"&&(a=Lt("#i"+e));const o=Lt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select("#"+e);o.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+n),o.attr("height",100),o.attr("width",400)}catch(i){Y.error("Error while rendering info diagram"),Y.error(i.message)}},cgt={draw:ogt},lgt=t=>t.match(/^\s*info/)!==null;var e_=function(){var t=function(R,A,I,C){for(I=I||{},C=R.length;C--;I[R[C]]=A);return I},e=[1,4],n=[1,5],r=[1,6],i=[1,7],a=[1,9],s=[1,11,13,15,17,19,20,26,27,28,29],o=[2,5],l=[1,6,11,13,15,17,19,20,26,27,28,29],u=[26,27,28],h=[2,8],d=[1,18],f=[1,19],p=[1,20],y=[1,21],m=[1,22],b=[1,23],x=[1,28],k=[6,26,27,28,29],T={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(A,I,C,N,v,E,_){var V=E.length-1;switch(v){case 4:N.setShowData(!0);break;case 7:this.$=E[V-1];break;case 9:N.addSection(E[V-1],N.cleanupValue(E[V]));break;case 10:this.$=E[V].trim(),N.setDiagramTitle(this.$);break;case 11:this.$=E[V].trim(),N.setAccTitle(this.$);break;case 12:case 13:this.$=E[V].trim(),N.setAccDescription(this.$);break;case 14:N.addSection(E[V].substr(8)),this.$=E[V].substr(8);break;case 21:N.parseDirective("%%{","open_directive");break;case 22:N.parseDirective(E[V],"type_directive");break;case 23:E[V]=E[V].trim().replace(/'/g,'"'),N.parseDirective(E[V],"arg_directive");break;case 24:N.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:a},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:a},{3:11,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:a},t(s,o,{7:12,8:[1,13]}),t(l,[2,18]),t(l,[2,19]),t(l,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(u,h,{21:8,9:16,10:17,5:24,1:[2,3],11:d,13:f,15:p,17:y,19:m,20:b,29:a}),t(s,o,{7:25}),{23:26,24:[1,27],32:x},t([24,32],[2,22]),t(s,[2,6]),{4:29,26:n,27:r,28:i},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(u,[2,13]),t(u,[2,14]),t(u,[2,15]),t(u,h,{21:8,9:16,10:17,5:24,1:[2,4],11:d,13:f,15:p,17:y,19:m,20:b,29:a}),t(k,[2,16]),{25:34,31:[1,35]},t(k,[2,24]),t(s,[2,7]),t(u,[2,9]),t(u,[2,10]),t(u,[2,11]),t(u,[2,12]),{23:36,32:x},{32:[2,23]},t(k,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(A,I){if(I.recoverable)this.trace(A);else{var C=new Error(A);throw C.hash=I,C}},parse:function(A){var I=this,C=[0],N=[],v=[null],E=[],_=this.table,V="",B=0,G=0,tt=2,ut=1,X=E.slice.call(arguments,1),z=Object.create(this.lexer),j={yy:{}};for(var ht in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ht)&&(j.yy[ht]=this.yy[ht]);z.setInput(A,j.yy),j.yy.lexer=z,j.yy.parser=this,typeof z.yylloc>"u"&&(z.yylloc={});var it=z.yylloc;E.push(it);var et=z.options&&z.options.ranges;typeof j.yy.parseError=="function"?this.parseError=j.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ft(){var K;return K=N.pop()||z.lex()||ut,typeof K!="number"&&(K instanceof Array&&(N=K,K=N.pop()),K=I.symbols_[K]||K),K}for(var st,wt,Z,F,H={},q,D,$,U;;){if(wt=C[C.length-1],this.defaultActions[wt]?Z=this.defaultActions[wt]:((st===null||typeof st>"u")&&(st=ft()),Z=_[wt]&&_[wt][st]),typeof Z>"u"||!Z.length||!Z[0]){var P="";U=[];for(q in _[wt])this.terminals_[q]&&q>tt&&U.push("'"+this.terminals_[q]+"'");z.showPosition?P="Parse error on line "+(B+1)+`:
`+z.showPosition()+`
Expecting `+U.join(", ")+", got '"+(this.terminals_[st]||st)+"'":P="Parse error on line "+(B+1)+": Unexpected "+(st==ut?"end of input":"'"+(this.terminals_[st]||st)+"'"),this.parseError(P,{text:z.match,token:this.terminals_[st]||st,line:z.yylineno,loc:it,expected:U})}if(Z[0]instanceof Array&&Z.length>1)throw new Error("Parse Error: multiple actions possible at state: "+wt+", token: "+st);switch(Z[0]){case 1:C.push(st),v.push(z.yytext),E.push(z.yylloc),C.push(Z[1]),st=null,G=z.yyleng,V=z.yytext,B=z.yylineno,it=z.yylloc;break;case 2:if(D=this.productions_[Z[1]][1],H.$=v[v.length-D],H._$={first_line:E[E.length-(D||1)].first_line,last_line:E[E.length-1].last_line,first_column:E[E.length-(D||1)].first_column,last_column:E[E.length-1].last_column},et&&(H._$.range=[E[E.length-(D||1)].range[0],E[E.length-1].range[1]]),F=this.performAction.apply(H,[V,G,B,j.yy,Z[1],v,E].concat(X)),typeof F<"u")return F;D&&(C=C.slice(0,-1*D*2),v=v.slice(0,-1*D),E=E.slice(0,-1*D)),C.push(this.productions_[Z[1]][0]),v.push(H.$),E.push(H._$),$=_[C[C.length-2]][C[C.length-1]],C.push($);break;case 3:return!0}}return!0}},S=function(){var R={EOF:1,parseError:function(I,C){if(this.yy.parser)this.yy.parser.parseError(I,C);else throw new Error(I)},setInput:function(A,I){return this.yy=I||this.yy||{},this._input=A,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var A=this._input[0];this.yytext+=A,this.yyleng++,this.offset++,this.match+=A,this.matched+=A;var I=A.match(/(?:\r\n?|\n).*/g);return I?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),A},unput:function(A){var I=A.length,C=A.split(/(?:\r\n?|\n)/g);this._input=A+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-I),this.offset-=I;var N=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),C.length-1&&(this.yylineno-=C.length-1);var v=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:C?(C.length===N.length?this.yylloc.first_column:0)+N[N.length-C.length].length-C[0].length:this.yylloc.first_column-I},this.options.ranges&&(this.yylloc.range=[v[0],v[0]+this.yyleng-I]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(A){this.unput(this.match.slice(A))},pastInput:function(){var A=this.matched.substr(0,this.matched.length-this.match.length);return(A.length>20?"...":"")+A.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var A=this.match;return A.length<20&&(A+=this._input.substr(0,20-A.length)),(A.substr(0,20)+(A.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var A=this.pastInput(),I=new Array(A.length+1).join("-");return A+this.upcomingInput()+`
`+I+"^"},test_match:function(A,I){var C,N,v;if(this.options.backtrack_lexer&&(v={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(v.yylloc.range=this.yylloc.range.slice(0))),N=A[0].match(/(?:\r\n?|\n).*/g),N&&(this.yylineno+=N.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:N?N[N.length-1].length-N[N.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+A[0].length},this.yytext+=A[0],this.match+=A[0],this.matches=A,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(A[0].length),this.matched+=A[0],C=this.performAction.call(this,this.yy,this,I,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),C)return C;if(this._backtrack){for(var E in v)this[E]=v[E];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var A,I,C,N;this._more||(this.yytext="",this.match="");for(var v=this._currentRules(),E=0;E<v.length;E++)if(C=this._input.match(this.rules[v[E]]),C&&(!I||C[0].length>I[0].length)){if(I=C,N=E,this.options.backtrack_lexer){if(A=this.test_match(C,v[E]),A!==!1)return A;if(this._backtrack){I=!1;continue}else return!1}else if(!this.options.flex)break}return I?(A=this.test_match(I,v[N]),A!==!1?A:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var I=this.next();return I||this.lex()},begin:function(I){this.conditionStack.push(I)},popState:function(){var I=this.conditionStack.length-1;return I>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(I){return I=this.conditionStack.length-1-Math.abs(I||0),I>=0?this.conditionStack[I]:"INITIAL"},pushState:function(I){this.begin(I)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(I,C,N,v){switch(N){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return R}();T.lexer=S;function L(){this.yy={}}return L.prototype=T,T.Parser=L,new L}();e_.parser=e_;const ugt=t=>t.match(/^\s*pie/)!==null;let nd={},X5=!1;const hgt=function(t,e,n){en.parseDirective(this,t,e,n)},fgt=function(t,e){t=ge.sanitizeText(t,J()),typeof nd[t]>"u"&&(nd[t]=e,Y.debug("Added new section :",t))},dgt=()=>nd,pgt=function(t){X5=t},ggt=function(){return X5},ygt=function(t){return t.substring(0,1)===":"&&(t=t.substring(1).trim()),Number(t.trim())},mgt=function(){nd={},X5=!1,Si()},bgt={parseDirective:hgt,getConfig:()=>J().pie,addSection:fgt,getSections:dgt,cleanupValue:ygt,clear:mgt,setAccTitle:Qr,getAccTitle:Ai,setDiagramTitle:_2,getDiagramTitle:x2,setShowData:pgt,getShowData:ggt,getAccDescription:Li,setAccDescription:Mi};let xa=J(),wa;const Al=450,vgt=(t,e,n,r)=>{try{xa=J(),Y.debug(`Rendering info diagram
`+t);const x=J().securityLevel;let k;x==="sandbox"&&(k=Lt("#i"+e));const T=Lt(x==="sandbox"?k.nodes()[0].contentDocument.body:"body"),S=x==="sandbox"?k.nodes()[0].contentDocument:document;r.db.clear(),r.parser.parse(t),Y.debug("Parsed info diagram");const L=S.getElementById(e);wa=L.parentElement.offsetWidth,typeof wa>"u"&&(wa=1200),typeof xa.useWidth<"u"&&(wa=xa.useWidth),typeof xa.pie.useWidth<"u"&&(wa=xa.pie.useWidth);const R=T.select("#"+e);Ci(R,Al,wa,xa.pie.useMaxWidth),kr(r.db,R,e),L.setAttribute("viewBox","0 0 "+wa+" "+Al);var i=40,a=18,s=4,o=Math.min(wa,Al)/2-i,l=R.append("g").attr("transform","translate("+wa/2+","+Al/2+")"),u=r.db.getSections(),h=0;Object.keys(u).forEach(function(I){h+=u[I]});const A=xa.themeVariables;var d=[A.pie1,A.pie2,A.pie3,A.pie4,A.pie5,A.pie6,A.pie7,A.pie8,A.pie9,A.pie10,A.pie11,A.pie12],f=zC().range(d),p=NY().value(function(I){return I[1]}),y=p(Object.entries(u)),m=B3().innerRadius(0).outerRadius(o);l.selectAll("mySlices").data(y).enter().append("path").attr("d",m).attr("fill",function(I){return f(I.data[0])}).attr("class","pieCircle"),l.selectAll("mySlices").data(y).enter().append("text").text(function(I){return(I.data[1]/h*100).toFixed(0)+"%"}).attr("transform",function(I){return"translate("+m.centroid(I)+")"}).style("text-anchor","middle").attr("class","slice"),l.append("text").text(r.db.getDiagramTitle()).attr("x",0).attr("y",-(Al-50)/2).attr("class","pieTitleText");var b=l.selectAll(".legend").data(f.domain()).enter().append("g").attr("class","legend").attr("transform",function(I,C){var N=a+s,v=N*f.domain().length/2,E=12*a,_=C*N-v;return"translate("+E+","+_+")"});b.append("rect").attr("width",a).attr("height",a).style("fill",f).style("stroke",f),b.data(y).append("text").attr("x",a+s).attr("y",a-s).text(function(I){return r.db.getShowData()||xa.showData||xa.pie.showData?I.data[0]+" ["+I.data[1]+"]":I.data[0]})}catch(x){Y.error("Error while rendering info diagram"),Y.error(x)}},_gt={draw:vgt};var n_=function(){var t=function(wt,Z,F,H){for(F=F||{},H=wt.length;H--;F[wt[H]]=Z);return F},e=[1,3],n=[1,5],r=[1,6],i=[1,7],a=[1,8],s=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],o=[1,22],l=[2,13],u=[1,26],h=[1,27],d=[1,28],f=[1,29],p=[1,30],y=[1,31],m=[1,24],b=[1,32],x=[1,33],k=[1,36],T=[71,72],S=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],L=[1,56],R=[1,57],A=[1,58],I=[1,59],C=[1,60],N=[1,61],v=[1,62],E=[62,63],_=[1,74],V=[1,70],B=[1,71],G=[1,72],tt=[1,73],ut=[1,75],X=[1,79],z=[1,80],j=[1,77],ht=[1,78],it=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],et={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(Z,F,H,q,D,$,U){var P=$.length-1;switch(D){case 6:this.$=$[P].trim(),q.setAccTitle(this.$);break;case 7:case 8:this.$=$[P].trim(),q.setAccDescription(this.$);break;case 9:q.parseDirective("%%{","open_directive");break;case 10:q.parseDirective($[P],"type_directive");break;case 11:$[P]=$[P].trim().replace(/'/g,'"'),q.parseDirective($[P],"arg_directive");break;case 12:q.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:q.addRequirement($[P-3],$[P-4]);break;case 20:q.setNewReqId($[P-2]);break;case 21:q.setNewReqText($[P-2]);break;case 22:q.setNewReqRisk($[P-2]);break;case 23:q.setNewReqVerifyMethod($[P-2]);break;case 26:this.$=q.RequirementType.REQUIREMENT;break;case 27:this.$=q.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=q.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=q.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=q.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=q.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=q.RiskLevel.LOW_RISK;break;case 33:this.$=q.RiskLevel.MED_RISK;break;case 34:this.$=q.RiskLevel.HIGH_RISK;break;case 35:this.$=q.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=q.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=q.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=q.VerifyType.VERIFY_TEST;break;case 39:q.addElement($[P-3]);break;case 40:q.setNewElementType($[P-2]);break;case 41:q.setNewElementDocRef($[P-2]);break;case 44:q.addRelationship($[P-2],$[P],$[P-4]);break;case 45:q.addRelationship($[P-2],$[P-4],$[P]);break;case 46:this.$=q.Relationships.CONTAINS;break;case 47:this.$=q.Relationships.COPIES;break;case 48:this.$=q.Relationships.DERIVES;break;case 49:this.$=q.Relationships.SATISFIES;break;case 50:this.$=q.Relationships.VERIFIES;break;case 51:this.$=q.Relationships.REFINES;break;case 52:this.$=q.Relationships.TRACES;break}},table:[{3:1,4:2,6:e,9:4,14:n,16:r,18:i,19:a},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:n,16:r,18:i,19:a},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(s,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:n,16:r,18:i,19:a},{1:[2,2]},{4:21,5:o,7:17,8:l,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:y,53:m,71:b,72:x},{11:34,12:[1,35],22:k},t([12,22],[2,10]),t(s,[2,6]),t(s,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:o,7:38,8:l,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:y,53:m,71:b,72:x},{4:21,5:o,7:39,8:l,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:y,53:m,71:b,72:x},{4:21,5:o,7:40,8:l,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:y,53:m,71:b,72:x},{4:21,5:o,7:41,8:l,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:y,53:m,71:b,72:x},{4:21,5:o,7:42,8:l,9:4,14:n,16:r,18:i,19:a,23:18,24:19,25:20,26:23,32:25,40:u,41:h,42:d,43:f,44:p,45:y,53:m,71:b,72:x},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(T,[2,26]),t(T,[2,27]),t(T,[2,28]),t(T,[2,29]),t(T,[2,30]),t(T,[2,31]),t(S,[2,55]),t(S,[2,56]),t(s,[2,4]),{13:51,21:[1,52]},t(s,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:L,65:R,66:A,67:I,68:C,69:N,70:v},{61:63,64:L,65:R,66:A,67:I,68:C,69:N,70:v},{11:64,22:k},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(E,[2,46]),t(E,[2,47]),t(E,[2,48]),t(E,[2,49]),t(E,[2,50]),t(E,[2,51]),t(E,[2,52]),{63:[1,68]},t(s,[2,5]),{5:_,29:69,30:V,33:B,35:G,37:tt,39:ut},{5:X,39:z,55:76,56:j,58:ht},{32:81,71:b,72:x},{32:82,71:b,72:x},t(it,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:_,29:87,30:V,33:B,35:G,37:tt,39:ut},t(it,[2,25]),t(it,[2,39]),{31:[1,88]},{31:[1,89]},{5:X,39:z,55:90,56:j,58:ht},t(it,[2,43]),t(it,[2,44]),t(it,[2,45]),{32:91,71:b,72:x},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t(it,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t(it,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:_,29:116,30:V,33:B,35:G,37:tt,39:ut},{5:_,29:117,30:V,33:B,35:G,37:tt,39:ut},{5:_,29:118,30:V,33:B,35:G,37:tt,39:ut},{5:_,29:119,30:V,33:B,35:G,37:tt,39:ut},{5:X,39:z,55:120,56:j,58:ht},{5:X,39:z,55:121,56:j,58:ht},t(it,[2,20]),t(it,[2,21]),t(it,[2,22]),t(it,[2,23]),t(it,[2,40]),t(it,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(Z,F){if(F.recoverable)this.trace(Z);else{var H=new Error(Z);throw H.hash=F,H}},parse:function(Z){var F=this,H=[0],q=[],D=[null],$=[],U=this.table,P="",K=0,ct=0,Dt=2,Mt=1,Ot=$.slice.call(arguments,1),Ct=Object.create(this.lexer),dt={yy:{}};for(var yt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,yt)&&(dt.yy[yt]=this.yy[yt]);Ct.setInput(Z,dt.yy),dt.yy.lexer=Ct,dt.yy.parser=this,typeof Ct.yylloc>"u"&&(Ct.yylloc={});var bt=Ct.yylloc;$.push(bt);var Tt=Ct.options&&Ct.options.ranges;typeof dt.yy.parseError=="function"?this.parseError=dt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ot(){var mt;return mt=q.pop()||Ct.lex()||Mt,typeof mt!="number"&&(mt instanceof Array&&(q=mt,mt=q.pop()),mt=F.symbols_[mt]||mt),mt}for(var le,It,Ht,Xt,Jt={},Te,Gt,Ft,Vt;;){if(It=H[H.length-1],this.defaultActions[It]?Ht=this.defaultActions[It]:((le===null||typeof le>"u")&&(le=ot()),Ht=U[It]&&U[It][le]),typeof Ht>"u"||!Ht.length||!Ht[0]){var kt="";Vt=[];for(Te in U[It])this.terminals_[Te]&&Te>Dt&&Vt.push("'"+this.terminals_[Te]+"'");Ct.showPosition?kt="Parse error on line "+(K+1)+`:
`+Ct.showPosition()+`
Expecting `+Vt.join(", ")+", got '"+(this.terminals_[le]||le)+"'":kt="Parse error on line "+(K+1)+": Unexpected "+(le==Mt?"end of input":"'"+(this.terminals_[le]||le)+"'"),this.parseError(kt,{text:Ct.match,token:this.terminals_[le]||le,line:Ct.yylineno,loc:bt,expected:Vt})}if(Ht[0]instanceof Array&&Ht.length>1)throw new Error("Parse Error: multiple actions possible at state: "+It+", token: "+le);switch(Ht[0]){case 1:H.push(le),D.push(Ct.yytext),$.push(Ct.yylloc),H.push(Ht[1]),le=null,ct=Ct.yyleng,P=Ct.yytext,K=Ct.yylineno,bt=Ct.yylloc;break;case 2:if(Gt=this.productions_[Ht[1]][1],Jt.$=D[D.length-Gt],Jt._$={first_line:$[$.length-(Gt||1)].first_line,last_line:$[$.length-1].last_line,first_column:$[$.length-(Gt||1)].first_column,last_column:$[$.length-1].last_column},Tt&&(Jt._$.range=[$[$.length-(Gt||1)].range[0],$[$.length-1].range[1]]),Xt=this.performAction.apply(Jt,[P,ct,K,dt.yy,Ht[1],D,$].concat(Ot)),typeof Xt<"u")return Xt;Gt&&(H=H.slice(0,-1*Gt*2),D=D.slice(0,-1*Gt),$=$.slice(0,-1*Gt)),H.push(this.productions_[Ht[1]][0]),D.push(Jt.$),$.push(Jt._$),Ft=U[H[H.length-2]][H[H.length-1]],H.push(Ft);break;case 3:return!0}}return!0}},ft=function(){var wt={EOF:1,parseError:function(F,H){if(this.yy.parser)this.yy.parser.parseError(F,H);else throw new Error(F)},setInput:function(Z,F){return this.yy=F||this.yy||{},this._input=Z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Z=this._input[0];this.yytext+=Z,this.yyleng++,this.offset++,this.match+=Z,this.matched+=Z;var F=Z.match(/(?:\r\n?|\n).*/g);return F?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Z},unput:function(Z){var F=Z.length,H=Z.split(/(?:\r\n?|\n)/g);this._input=Z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-F),this.offset-=F;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),H.length-1&&(this.yylineno-=H.length-1);var D=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:H?(H.length===q.length?this.yylloc.first_column:0)+q[q.length-H.length].length-H[0].length:this.yylloc.first_column-F},this.options.ranges&&(this.yylloc.range=[D[0],D[0]+this.yyleng-F]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Z){this.unput(this.match.slice(Z))},pastInput:function(){var Z=this.matched.substr(0,this.matched.length-this.match.length);return(Z.length>20?"...":"")+Z.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Z=this.match;return Z.length<20&&(Z+=this._input.substr(0,20-Z.length)),(Z.substr(0,20)+(Z.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Z=this.pastInput(),F=new Array(Z.length+1).join("-");return Z+this.upcomingInput()+`
`+F+"^"},test_match:function(Z,F){var H,q,D;if(this.options.backtrack_lexer&&(D={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(D.yylloc.range=this.yylloc.range.slice(0))),q=Z[0].match(/(?:\r\n?|\n).*/g),q&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Z[0].length},this.yytext+=Z[0],this.match+=Z[0],this.matches=Z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Z[0].length),this.matched+=Z[0],H=this.performAction.call(this,this.yy,this,F,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),H)return H;if(this._backtrack){for(var $ in D)this[$]=D[$];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Z,F,H,q;this._more||(this.yytext="",this.match="");for(var D=this._currentRules(),$=0;$<D.length;$++)if(H=this._input.match(this.rules[D[$]]),H&&(!F||H[0].length>F[0].length)){if(F=H,q=$,this.options.backtrack_lexer){if(Z=this.test_match(H,D[$]),Z!==!1)return Z;if(this._backtrack){F=!1;continue}else return!1}else if(!this.options.flex)break}return F?(Z=this.test_match(F,D[q]),Z!==!1?Z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var F=this.next();return F||this.lex()},begin:function(F){this.conditionStack.push(F)},popState:function(){var F=this.conditionStack.length-1;return F>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(F){return F=this.conditionStack.length-1-Math.abs(F||0),F>=0?this.conditionStack[F]:"INITIAL"},pushState:function(F){this.begin(F)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(F,H,q,D){switch(q){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return H.yytext=H.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return wt}();et.lexer=ft;function st(){this.yy={}}return st.prototype=et,et.Parser=st,new st}();n_.parser=n_;const xgt=t=>t.match(/^\s*requirement(Diagram)?/)!==null;let K5=[],_r={},gu={},ps={},yu={};const wgt={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},kgt={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},Tgt={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Egt={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},Cgt=function(t,e,n){en.parseDirective(this,t,e,n)},Sgt=(t,e)=>(typeof gu[t]>"u"&&(gu[t]={name:t,type:e,id:_r.id,text:_r.text,risk:_r.risk,verifyMethod:_r.verifyMethod}),_r={},gu[t]),Agt=()=>gu,Mgt=t=>{typeof _r<"u"&&(_r.id=t)},Lgt=t=>{typeof _r<"u"&&(_r.text=t)},Rgt=t=>{typeof _r<"u"&&(_r.risk=t)},Ngt=t=>{typeof _r<"u"&&(_r.verifyMethod=t)},Igt=t=>(typeof yu[t]>"u"&&(yu[t]={name:t,type:ps.type,docRef:ps.docRef},Y.info("Added new requirement: ",t)),ps={},yu[t]),Bgt=()=>yu,Dgt=t=>{typeof ps<"u"&&(ps.type=t)},Ogt=t=>{typeof ps<"u"&&(ps.docRef=t)},Fgt=(t,e,n)=>{K5.push({type:t,src:e,dst:n})},Pgt=()=>K5,$gt=()=>{K5=[],_r={},gu={},ps={},yu={},Si()},qgt={RequirementType:wgt,RiskLevel:kgt,VerifyType:Tgt,Relationships:Egt,parseDirective:Cgt,getConfig:()=>J().req,addRequirement:Sgt,getRequirements:Agt,setNewReqId:Mgt,setNewReqText:Lgt,setNewReqRisk:Rgt,setNewReqVerifyMethod:Ngt,setAccTitle:Qr,getAccTitle:Ai,setAccDescription:Mi,getAccDescription:Li,addElement:Igt,getElements:Bgt,setNewElementType:Dgt,setNewElementDocRef:Ogt,addRelationship:Fgt,getRelationships:Pgt,clear:$gt},r_={CONTAINS:"contains",ARROW:"arrow"},Vgt=(t,e)=>{let n=t.append("defs").append("marker").attr("id",r_.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",r_.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${e.line_height},${e.line_height/2}
      M${e.line_height},${e.line_height/2}
      L0,${e.line_height}`).attr("stroke-width",1)},rD={ReqMarkers:r_,insertLineEndings:Vgt};let un={},CE=0;const iD=(t,e)=>t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",un.rect_min_width+"px").attr("height",un.rect_min_height+"px"),aD=(t,e,n)=>{let r=un.rect_min_width/2,i=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",r).attr("y",un.rect_padding).attr("dominant-baseline","hanging"),a=0;n.forEach(u=>{a==0?i.append("tspan").attr("text-anchor","middle").attr("x",un.rect_min_width/2).attr("dy",0).text(u):i.append("tspan").attr("text-anchor","middle").attr("x",un.rect_min_width/2).attr("dy",un.line_height*.75).text(u),a++});let s=1.5*un.rect_padding,o=a*un.line_height*.75,l=s+o;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",un.rect_min_width).attr("y1",l).attr("y2",l),{titleNode:i,y:l}},sD=(t,e,n,r)=>{let i=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",un.rect_padding).attr("y",r).attr("dominant-baseline","hanging"),a=0;const s=30;let o=[];return n.forEach(l=>{let u=l.length;for(;u>s&&a<3;){let h=l.substring(0,s);l=l.substring(s,l.length),u=l.length,o[o.length]=h,a++}if(a==3){let h=o[o.length-1];o[o.length-1]=h.substring(0,h.length-4)+"..."}else o[o.length]=l;a=0}),o.forEach(l=>{i.append("tspan").attr("x",un.rect_padding).attr("dy",un.line_height).text(l)}),i},Ygt=(t,e,n,r)=>{const i=e.node().getTotalLength(),a=e.node().getPointAtLength(i*.5),s="rel"+CE;CE++;const l=t.append("text").attr("class","req relationshipLabel").attr("id",s).attr("x",a.x).attr("y",a.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(r).node().getBBox();t.insert("rect","#"+s).attr("class","req reqLabelBox").attr("x",a.x-l.width/2).attr("y",a.y-l.height/2).attr("width",l.width).attr("height",l.height).attr("fill","white").attr("fill-opacity","85%")},zgt=function(t,e,n,r,i){const a=n.edge(qc(e.src),qc(e.dst)),s=hh().x(function(l){return l.x}).y(function(l){return l.y}),o=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",s(a.points)).attr("fill","none");e.type==i.db.Relationships.CONTAINS?o.attr("marker-start","url("+ge.getUrl(un.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(o.attr("stroke-dasharray","10,7"),o.attr("marker-end","url("+ge.getUrl(un.arrowMarkerAbsolute)+"#"+rD.ReqMarkers.ARROW+"_line_ending)")),Ygt(t,o,un,`<<${e.type}>>`)},Ugt=(t,e,n)=>{Object.keys(t).forEach(r=>{let i=t[r];r=qc(r),Y.info("Added new requirement: ",r);const a=n.append("g").attr("id",r),s="req-"+r,o=iD(a,s);let l=aD(a,r+"_title",[`<<${i.type}>>`,`${i.name}`]);sD(a,r+"_body",[`Id: ${i.id}`,`Text: ${i.text}`,`Risk: ${i.risk}`,`Verification: ${i.verifyMethod}`],l.y);const u=o.node().getBBox();e.setNode(r,{width:u.width,height:u.height,shape:"rect",id:r})})},Wgt=(t,e,n)=>{Object.keys(t).forEach(r=>{let i=t[r];const a=qc(r),s=n.append("g").attr("id",a),o="element-"+a,l=iD(s,o);let u=aD(s,o+"_title",["<<Element>>",`${r}`]);sD(s,o+"_body",[`Type: ${i.type||"Not Specified"}`,`Doc Ref: ${i.docRef||"None"}`],u.y);const h=l.node().getBBox();e.setNode(a,{width:h.width,height:h.height,shape:"rect",id:a})})},Hgt=(t,e)=>(t.forEach(function(n){let r=qc(n.src),i=qc(n.dst);e.setEdge(r,i,{relationship:n})}),t),Ggt=function(t,e){e.nodes().forEach(function(n){typeof n<"u"&&typeof e.node(n)<"u"&&(t.select("#"+n),t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )"))})},qc=t=>t.replace(/\s/g,"").replace(/\./g,"_"),jgt=(t,e,n,r)=>{un=J().requirement,r.db.clear(),r.parser.parse(t);const i=un.securityLevel;let a;i==="sandbox"&&(a=Lt("#i"+e));const o=Lt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body").select(`[id='${e}']`);rD.insertLineEndings(o,un);const l=new gn.Graph({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:un.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let u=r.db.getRequirements(),h=r.db.getElements(),d=r.db.getRelationships();Ugt(u,l,o),Wgt(h,l,o),Hgt(d,l),Gc.layout(l),Ggt(o,l),d.forEach(function(b){zgt(o,b,l,e,r)});const f=un.rect_padding,p=o.node().getBBox(),y=p.width+f*2,m=p.height+f*2;Ci(o,m,y,un.useMaxWidth),o.attr("viewBox",`${p.x-f} ${p.y-f} ${y} ${m}`),kr(r.db,o,e)},Xgt={draw:jgt};var i_=function(){var t=function(wt,Z,F,H){for(F=F||{},H=wt.length;H--;F[wt[H]]=Z);return F},e=[1,2],n=[1,3],r=[1,5],i=[1,7],a=[2,5],s=[1,15],o=[1,17],l=[1,18],u=[1,19],h=[1,21],d=[1,22],f=[1,23],p=[1,29],y=[1,30],m=[1,31],b=[1,32],x=[1,33],k=[1,34],T=[1,35],S=[1,36],L=[1,37],R=[1,38],A=[1,39],I=[1,40],C=[1,43],N=[1,44],v=[1,45],E=[1,46],_=[1,47],V=[1,48],B=[1,51],G=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],tt=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],ut=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],X=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],z=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],j=[67,68,69],ht=[1,121],it=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],et={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(Z,F,H,q,D,$,U){var P=$.length-1;switch(D){case 4:return q.apply($[P]),$[P];case 5:this.$=[];break;case 6:$[P-1].push($[P]),this.$=$[P-1];break;case 7:case 8:this.$=$[P];break;case 9:this.$=[];break;case 12:$[P-3].type="addParticipant",$[P-3].description=q.parseMessage($[P-1]),this.$=$[P-3];break;case 13:$[P-1].type="addParticipant",this.$=$[P-1];break;case 14:$[P-3].type="addActor",$[P-3].description=q.parseMessage($[P-1]),this.$=$[P-3];break;case 15:$[P-1].type="addActor",this.$=$[P-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number($[P-2]),sequenceIndexStep:Number($[P-1]),sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number($[P-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:q.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:q.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:q.LINETYPE.ACTIVE_START,actor:$[P-1]};break;case 22:this.$={type:"activeEnd",signalType:q.LINETYPE.ACTIVE_END,actor:$[P-1]};break;case 28:q.setDiagramTitle($[P].substring(6)),this.$=$[P].substring(6);break;case 29:q.setDiagramTitle($[P].substring(7)),this.$=$[P].substring(7);break;case 30:this.$=$[P].trim(),q.setAccTitle(this.$);break;case 31:case 32:this.$=$[P].trim(),q.setAccDescription(this.$);break;case 33:$[P-1].unshift({type:"loopStart",loopText:q.parseMessage($[P-2]),signalType:q.LINETYPE.LOOP_START}),$[P-1].push({type:"loopEnd",loopText:$[P-2],signalType:q.LINETYPE.LOOP_END}),this.$=$[P-1];break;case 34:$[P-1].unshift({type:"rectStart",color:q.parseMessage($[P-2]),signalType:q.LINETYPE.RECT_START}),$[P-1].push({type:"rectEnd",color:q.parseMessage($[P-2]),signalType:q.LINETYPE.RECT_END}),this.$=$[P-1];break;case 35:$[P-1].unshift({type:"optStart",optText:q.parseMessage($[P-2]),signalType:q.LINETYPE.OPT_START}),$[P-1].push({type:"optEnd",optText:q.parseMessage($[P-2]),signalType:q.LINETYPE.OPT_END}),this.$=$[P-1];break;case 36:$[P-1].unshift({type:"altStart",altText:q.parseMessage($[P-2]),signalType:q.LINETYPE.ALT_START}),$[P-1].push({type:"altEnd",signalType:q.LINETYPE.ALT_END}),this.$=$[P-1];break;case 37:$[P-1].unshift({type:"parStart",parText:q.parseMessage($[P-2]),signalType:q.LINETYPE.PAR_START}),$[P-1].push({type:"parEnd",signalType:q.LINETYPE.PAR_END}),this.$=$[P-1];break;case 38:$[P-1].unshift({type:"criticalStart",criticalText:q.parseMessage($[P-2]),signalType:q.LINETYPE.CRITICAL_START}),$[P-1].push({type:"criticalEnd",signalType:q.LINETYPE.CRITICAL_END}),this.$=$[P-1];break;case 39:$[P-1].unshift({type:"breakStart",breakText:q.parseMessage($[P-2]),signalType:q.LINETYPE.BREAK_START}),$[P-1].push({type:"breakEnd",optText:q.parseMessage($[P-2]),signalType:q.LINETYPE.BREAK_END}),this.$=$[P-1];break;case 42:this.$=$[P-3].concat([{type:"option",optionText:q.parseMessage($[P-1]),signalType:q.LINETYPE.CRITICAL_OPTION},$[P]]);break;case 44:this.$=$[P-3].concat([{type:"and",parText:q.parseMessage($[P-1]),signalType:q.LINETYPE.PAR_AND},$[P]]);break;case 46:this.$=$[P-3].concat([{type:"else",altText:q.parseMessage($[P-1]),signalType:q.LINETYPE.ALT_ELSE},$[P]]);break;case 47:this.$=[$[P-1],{type:"addNote",placement:$[P-2],actor:$[P-1].actor,text:$[P]}];break;case 48:$[P-2]=[].concat($[P-1],$[P-1]).slice(0,2),$[P-2][0]=$[P-2][0].actor,$[P-2][1]=$[P-2][1].actor,this.$=[$[P-1],{type:"addNote",placement:q.PLACEMENT.OVER,actor:$[P-2].slice(0,2),text:$[P]}];break;case 49:this.$=[$[P-1],{type:"addLinks",actor:$[P-1].actor,text:$[P]}];break;case 50:this.$=[$[P-1],{type:"addALink",actor:$[P-1].actor,text:$[P]}];break;case 51:this.$=[$[P-1],{type:"addProperties",actor:$[P-1].actor,text:$[P]}];break;case 52:this.$=[$[P-1],{type:"addDetails",actor:$[P-1].actor,text:$[P]}];break;case 55:this.$=[$[P-2],$[P]];break;case 56:this.$=$[P];break;case 57:this.$=q.PLACEMENT.LEFTOF;break;case 58:this.$=q.PLACEMENT.RIGHTOF;break;case 59:this.$=[$[P-4],$[P-1],{type:"addMessage",from:$[P-4].actor,to:$[P-1].actor,signalType:$[P-3],msg:$[P]},{type:"activeStart",signalType:q.LINETYPE.ACTIVE_START,actor:$[P-1]}];break;case 60:this.$=[$[P-4],$[P-1],{type:"addMessage",from:$[P-4].actor,to:$[P-1].actor,signalType:$[P-3],msg:$[P]},{type:"activeEnd",signalType:q.LINETYPE.ACTIVE_END,actor:$[P-4]}];break;case 61:this.$=[$[P-3],$[P-1],{type:"addMessage",from:$[P-3].actor,to:$[P-1].actor,signalType:$[P-2],msg:$[P]}];break;case 62:this.$={type:"addParticipant",actor:$[P]};break;case 63:this.$=q.LINETYPE.SOLID_OPEN;break;case 64:this.$=q.LINETYPE.DOTTED_OPEN;break;case 65:this.$=q.LINETYPE.SOLID;break;case 66:this.$=q.LINETYPE.DOTTED;break;case 67:this.$=q.LINETYPE.SOLID_CROSS;break;case 68:this.$=q.LINETYPE.DOTTED_CROSS;break;case 69:this.$=q.LINETYPE.SOLID_POINT;break;case 70:this.$=q.LINETYPE.DOTTED_POINT;break;case 71:this.$=q.parseMessage($[P].trim().substring(1));break;case 72:q.parseDirective("%%{","open_directive");break;case 73:q.parseDirective($[P],"type_directive");break;case 74:$[P]=$[P].trim().replace(/'/g,'"'),q.parseDirective($[P],"arg_directive");break;case 75:q.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:e,5:n,6:4,7:r,11:6,79:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,11:6,79:i},{3:9,4:e,5:n,6:4,7:r,11:6,79:i},{3:10,4:e,5:n,6:4,7:r,11:6,79:i},t([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],a,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:s,5:o,6:41,9:14,10:16,11:6,16:l,17:42,20:u,21:20,22:h,25:d,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:y,34:m,36:b,38:x,39:k,41:T,42:S,43:L,45:R,47:A,49:I,53:C,58:N,59:v,60:E,61:_,69:V,79:i},{13:49,14:[1,50],82:B},t([14,82],[2,73]),t(G,[2,6]),{6:41,10:52,11:6,16:l,17:42,20:u,21:20,22:h,25:d,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:y,34:m,36:b,38:x,39:k,41:T,42:S,43:L,45:R,47:A,49:I,53:C,58:N,59:v,60:E,61:_,69:V,79:i},t(G,[2,8]),t(G,[2,9]),{17:53,69:V},{17:54,69:V},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:V},{17:60,69:V},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},t(G,[2,28]),t(G,[2,29]),{35:[1,66]},{37:[1,67]},t(G,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},t(G,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:V},{17:89,69:V},{17:90,69:V},{17:91,69:V},t([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},t(G,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},t(G,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},t(G,[2,20]),{5:[1,102]},{5:[1,103]},t(G,[2,23]),t(G,[2,24]),t(G,[2,25]),t(G,[2,26]),t(G,[2,27]),t(G,[2,30]),t(G,[2,31]),t(tt,a,{8:104}),t(tt,a,{8:105}),t(tt,a,{8:106}),t(ut,a,{44:107,8:108}),t(X,a,{46:109,8:110}),t(z,a,{48:111,8:112}),t(tt,a,{8:113}),{17:116,67:[1,114],68:[1,115],69:V},t(j,[2,63]),t(j,[2,64]),t(j,[2,65]),t(j,[2,66]),t(j,[2,67]),t(j,[2,68]),t(j,[2,69]),t(j,[2,70]),{17:117,69:V},{17:119,57:118,69:V},{69:[2,57]},{69:[2,58]},{55:120,78:ht},{55:122,78:ht},{55:123,78:ht},{55:124,78:ht},t(it,[2,10]),{13:125,82:B},{82:[2,74]},{19:[1,126]},t(G,[2,13]),{19:[1,127]},t(G,[2,15]),{5:[1,128]},t(G,[2,18]),t(G,[2,19]),t(G,[2,21]),t(G,[2,22]),{4:s,5:o,6:41,9:14,10:16,11:6,16:l,17:42,20:u,21:20,22:h,25:d,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:y,34:m,36:b,38:x,39:k,40:[1,129],41:T,42:S,43:L,45:R,47:A,49:I,53:C,58:N,59:v,60:E,61:_,69:V,79:i},{4:s,5:o,6:41,9:14,10:16,11:6,16:l,17:42,20:u,21:20,22:h,25:d,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:y,34:m,36:b,38:x,39:k,40:[1,130],41:T,42:S,43:L,45:R,47:A,49:I,53:C,58:N,59:v,60:E,61:_,69:V,79:i},{4:s,5:o,6:41,9:14,10:16,11:6,16:l,17:42,20:u,21:20,22:h,25:d,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:y,34:m,36:b,38:x,39:k,40:[1,131],41:T,42:S,43:L,45:R,47:A,49:I,53:C,58:N,59:v,60:E,61:_,69:V,79:i},{40:[1,132]},{4:s,5:o,6:41,9:14,10:16,11:6,16:l,17:42,20:u,21:20,22:h,25:d,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:y,34:m,36:b,38:x,39:k,40:[2,45],41:T,42:S,43:L,45:R,47:A,49:I,52:[1,133],53:C,58:N,59:v,60:E,61:_,69:V,79:i},{40:[1,134]},{4:s,5:o,6:41,9:14,10:16,11:6,16:l,17:42,20:u,21:20,22:h,25:d,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:y,34:m,36:b,38:x,39:k,40:[2,43],41:T,42:S,43:L,45:R,47:A,49:I,51:[1,135],53:C,58:N,59:v,60:E,61:_,69:V,79:i},{40:[1,136]},{4:s,5:o,6:41,9:14,10:16,11:6,16:l,17:42,20:u,21:20,22:h,25:d,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:y,34:m,36:b,38:x,39:k,40:[2,41],41:T,42:S,43:L,45:R,47:A,49:I,50:[1,137],53:C,58:N,59:v,60:E,61:_,69:V,79:i},{4:s,5:o,6:41,9:14,10:16,11:6,16:l,17:42,20:u,21:20,22:h,25:d,26:f,27:24,28:25,29:26,30:27,31:28,32:p,33:y,34:m,36:b,38:x,39:k,40:[1,138],41:T,42:S,43:L,45:R,47:A,49:I,53:C,58:N,59:v,60:E,61:_,69:V,79:i},{17:139,69:V},{17:140,69:V},{55:141,78:ht},{55:142,78:ht},{55:143,78:ht},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},t(G,[2,17]),t(G,[2,33]),t(G,[2,34]),t(G,[2,35]),t(G,[2,36]),{19:[1,148]},t(G,[2,37]),{19:[1,149]},t(G,[2,38]),{19:[1,150]},t(G,[2,39]),{55:151,78:ht},{55:152,78:ht},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:V},t(it,[2,11]),t(G,[2,12]),t(G,[2,14]),t(ut,a,{8:108,44:154}),t(X,a,{8:110,46:155}),t(z,a,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(Z,F){if(F.recoverable)this.trace(Z);else{var H=new Error(Z);throw H.hash=F,H}},parse:function(Z){var F=this,H=[0],q=[],D=[null],$=[],U=this.table,P="",K=0,ct=0,Dt=2,Mt=1,Ot=$.slice.call(arguments,1),Ct=Object.create(this.lexer),dt={yy:{}};for(var yt in this.yy)Object.prototype.hasOwnProperty.call(this.yy,yt)&&(dt.yy[yt]=this.yy[yt]);Ct.setInput(Z,dt.yy),dt.yy.lexer=Ct,dt.yy.parser=this,typeof Ct.yylloc>"u"&&(Ct.yylloc={});var bt=Ct.yylloc;$.push(bt);var Tt=Ct.options&&Ct.options.ranges;typeof dt.yy.parseError=="function"?this.parseError=dt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ot(){var mt;return mt=q.pop()||Ct.lex()||Mt,typeof mt!="number"&&(mt instanceof Array&&(q=mt,mt=q.pop()),mt=F.symbols_[mt]||mt),mt}for(var le,It,Ht,Xt,Jt={},Te,Gt,Ft,Vt;;){if(It=H[H.length-1],this.defaultActions[It]?Ht=this.defaultActions[It]:((le===null||typeof le>"u")&&(le=ot()),Ht=U[It]&&U[It][le]),typeof Ht>"u"||!Ht.length||!Ht[0]){var kt="";Vt=[];for(Te in U[It])this.terminals_[Te]&&Te>Dt&&Vt.push("'"+this.terminals_[Te]+"'");Ct.showPosition?kt="Parse error on line "+(K+1)+`:
`+Ct.showPosition()+`
Expecting `+Vt.join(", ")+", got '"+(this.terminals_[le]||le)+"'":kt="Parse error on line "+(K+1)+": Unexpected "+(le==Mt?"end of input":"'"+(this.terminals_[le]||le)+"'"),this.parseError(kt,{text:Ct.match,token:this.terminals_[le]||le,line:Ct.yylineno,loc:bt,expected:Vt})}if(Ht[0]instanceof Array&&Ht.length>1)throw new Error("Parse Error: multiple actions possible at state: "+It+", token: "+le);switch(Ht[0]){case 1:H.push(le),D.push(Ct.yytext),$.push(Ct.yylloc),H.push(Ht[1]),le=null,ct=Ct.yyleng,P=Ct.yytext,K=Ct.yylineno,bt=Ct.yylloc;break;case 2:if(Gt=this.productions_[Ht[1]][1],Jt.$=D[D.length-Gt],Jt._$={first_line:$[$.length-(Gt||1)].first_line,last_line:$[$.length-1].last_line,first_column:$[$.length-(Gt||1)].first_column,last_column:$[$.length-1].last_column},Tt&&(Jt._$.range=[$[$.length-(Gt||1)].range[0],$[$.length-1].range[1]]),Xt=this.performAction.apply(Jt,[P,ct,K,dt.yy,Ht[1],D,$].concat(Ot)),typeof Xt<"u")return Xt;Gt&&(H=H.slice(0,-1*Gt*2),D=D.slice(0,-1*Gt),$=$.slice(0,-1*Gt)),H.push(this.productions_[Ht[1]][0]),D.push(Jt.$),$.push(Jt._$),Ft=U[H[H.length-2]][H[H.length-1]],H.push(Ft);break;case 3:return!0}}return!0}},ft=function(){var wt={EOF:1,parseError:function(F,H){if(this.yy.parser)this.yy.parser.parseError(F,H);else throw new Error(F)},setInput:function(Z,F){return this.yy=F||this.yy||{},this._input=Z,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Z=this._input[0];this.yytext+=Z,this.yyleng++,this.offset++,this.match+=Z,this.matched+=Z;var F=Z.match(/(?:\r\n?|\n).*/g);return F?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Z},unput:function(Z){var F=Z.length,H=Z.split(/(?:\r\n?|\n)/g);this._input=Z+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-F),this.offset-=F;var q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),H.length-1&&(this.yylineno-=H.length-1);var D=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:H?(H.length===q.length?this.yylloc.first_column:0)+q[q.length-H.length].length-H[0].length:this.yylloc.first_column-F},this.options.ranges&&(this.yylloc.range=[D[0],D[0]+this.yyleng-F]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Z){this.unput(this.match.slice(Z))},pastInput:function(){var Z=this.matched.substr(0,this.matched.length-this.match.length);return(Z.length>20?"...":"")+Z.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Z=this.match;return Z.length<20&&(Z+=this._input.substr(0,20-Z.length)),(Z.substr(0,20)+(Z.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Z=this.pastInput(),F=new Array(Z.length+1).join("-");return Z+this.upcomingInput()+`
`+F+"^"},test_match:function(Z,F){var H,q,D;if(this.options.backtrack_lexer&&(D={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(D.yylloc.range=this.yylloc.range.slice(0))),q=Z[0].match(/(?:\r\n?|\n).*/g),q&&(this.yylineno+=q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:q?q[q.length-1].length-q[q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Z[0].length},this.yytext+=Z[0],this.match+=Z[0],this.matches=Z,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Z[0].length),this.matched+=Z[0],H=this.performAction.call(this,this.yy,this,F,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),H)return H;if(this._backtrack){for(var $ in D)this[$]=D[$];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Z,F,H,q;this._more||(this.yytext="",this.match="");for(var D=this._currentRules(),$=0;$<D.length;$++)if(H=this._input.match(this.rules[D[$]]),H&&(!F||H[0].length>F[0].length)){if(F=H,q=$,this.options.backtrack_lexer){if(Z=this.test_match(H,D[$]),Z!==!1)return Z;if(this._backtrack){F=!1;continue}else return!1}else if(!this.options.flex)break}return F?(Z=this.test_match(F,D[q]),Z!==!1?Z:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var F=this.next();return F||this.lex()},begin:function(F){this.conditionStack.push(F)},popState:function(){var F=this.conditionStack.length-1;return F>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(F){return F=this.conditionStack.length-1-Math.abs(F||0),F>=0?this.conditionStack[F]:"INITIAL"},pushState:function(F){this.begin(F)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(F,H,q,D){switch(q){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return H.yytext=H.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 52:return 5;case 53:return H.yytext=H.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 65:return 5;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};return wt}();et.lexer=ft;function st(){this.yy={}}return st.prototype=et,et.Parser=st,new st}();i_.parser=i_;const Kgt=t=>t.match(/^\s*sequenceDiagram/)!==null;let Ml,cs={},li=[],L2=!1,a_;const Zgt=function(t,e,n){en.parseDirective(this,t,e,n)},s_=function(t,e,n,r){const i=cs[t];i&&e===i.name&&n==null||((n==null||n.text==null)&&(n={text:e,wrap:null,type:r}),(r==null||n.text==null)&&(n={text:e,wrap:null,type:r}),cs[t]={name:e,description:n.text,wrap:n.wrap===void 0&&Vc()||!!n.wrap,prevActor:Ml,links:{},properties:{},actorCnt:null,rectData:null,type:r||"participant"},Ml&&cs[Ml]&&(cs[Ml].nextActor=t),Ml=t)},Qgt=t=>{let e,n=0;for(e=0;e<li.length;e++)li[e].type===nh.ACTIVE_START&&li[e].from.actor===t&&n++,li[e].type===nh.ACTIVE_END&&li[e].from.actor===t&&n--;return n},Jgt=function(t,e,n,r){li.push({from:t,to:e,message:n.text,wrap:n.wrap===void 0&&Vc()||!!n.wrap,answer:r})},dn=function(t,e,n={text:void 0,wrap:void 0},r){if(r===nh.ACTIVE_END&&Qgt(t.actor)<1){let a=new Error("Trying to inactivate an inactive participant ("+t.actor+")");throw a.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},a}return li.push({from:t,to:e,message:n.text,wrap:n.wrap===void 0&&Vc()||!!n.wrap,type:r}),!0},tyt=function(){return li},eyt=function(){return cs},Mh=function(t){return cs[t]},nyt=function(){return Object.keys(cs)},ryt=function(){L2=!0},iyt=function(){L2=!1},ayt=()=>L2,syt=function(t){a_=t},Vc=()=>typeof a_<"u"?a_:J().sequence.wrap,oyt=function(){cs={},li=[],L2=!1,Si()},cyt=function(t){const e=t.trim(),n={text:e.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:e.match(/^[:]?wrap:/)!==null?!0:e.match(/^[:]?nowrap:/)!==null?!1:void 0};return Y.debug("parseMessage:",n),n},nh={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},lyt={FILLED:0,OPEN:1},uyt={LEFTOF:0,RIGHTOF:1,OVER:2},oD=function(t,e,n){n.text,n.wrap===void 0&&Vc()||n.wrap;const r=[].concat(t,t);li.push({from:r[0],to:r[1],message:n.text,wrap:n.wrap===void 0&&Vc()||!!n.wrap,type:nh.NOTE,placement:e})},cD=function(t,e){const n=Mh(t);try{let r=_i(e.text,J());r=r.replace(/&amp;/g,"&"),r=r.replace(/&equals;/g,"=");const i=JSON.parse(r);Z5(n,i)}catch(r){Y.error("error while parsing actor link text",r)}},hyt=function(t,e){const n=Mh(t);try{const s={};let o=_i(e.text,J());var r=o.indexOf("@");o=o.replace(/&amp;/g,"&"),o=o.replace(/&equals;/g,"=");var i=o.slice(0,r-1).trim(),a=o.slice(r+1).trim();s[i]=a,Z5(n,s)}catch(s){Y.error("error while parsing actor link text",s)}};function Z5(t,e){if(t.links==null)t.links=e;else for(let n in e)t.links[n]=e[n]}const lD=function(t,e){const n=Mh(t);try{let r=_i(e.text,J());const i=JSON.parse(r);uD(n,i)}catch(r){Y.error("error while parsing actor properties text",r)}};function uD(t,e){if(t.properties==null)t.properties=e;else for(let n in e)t.properties[n]=e[n]}const hD=function(t,e){const n=Mh(t),r=document.getElementById(e.text);try{const i=r.innerHTML,a=JSON.parse(i);a.properties&&uD(n,a.properties),a.links&&Z5(n,a.links)}catch(i){Y.error("error while parsing actor details text",i)}},fyt=function(t,e){if(typeof t<"u"&&typeof t.properties<"u")return t.properties[e]},fD=function(t){if(t instanceof Array)t.forEach(function(e){fD(e)});else switch(t.type){case"sequenceIndex":li.push({from:void 0,to:void 0,message:{start:t.sequenceIndex,step:t.sequenceIndexStep,visible:t.sequenceVisible},wrap:!1,type:t.signalType});break;case"addParticipant":s_(t.actor,t.actor,t.description,"participant");break;case"addActor":s_(t.actor,t.actor,t.description,"actor");break;case"activeStart":dn(t.actor,void 0,void 0,t.signalType);break;case"activeEnd":dn(t.actor,void 0,void 0,t.signalType);break;case"addNote":oD(t.actor,t.placement,t.text);break;case"addLinks":cD(t.actor,t.text);break;case"addALink":hyt(t.actor,t.text);break;case"addProperties":lD(t.actor,t.text);break;case"addDetails":hD(t.actor,t.text);break;case"addMessage":dn(t.from,t.to,t.msg,t.signalType);break;case"loopStart":dn(void 0,void 0,t.loopText,t.signalType);break;case"loopEnd":dn(void 0,void 0,void 0,t.signalType);break;case"rectStart":dn(void 0,void 0,t.color,t.signalType);break;case"rectEnd":dn(void 0,void 0,void 0,t.signalType);break;case"optStart":dn(void 0,void 0,t.optText,t.signalType);break;case"optEnd":dn(void 0,void 0,void 0,t.signalType);break;case"altStart":dn(void 0,void 0,t.altText,t.signalType);break;case"else":dn(void 0,void 0,t.altText,t.signalType);break;case"altEnd":dn(void 0,void 0,void 0,t.signalType);break;case"setAccTitle":Qr(t.text);break;case"parStart":dn(void 0,void 0,t.parText,t.signalType);break;case"and":dn(void 0,void 0,t.parText,t.signalType);break;case"parEnd":dn(void 0,void 0,void 0,t.signalType);break;case"criticalStart":dn(void 0,void 0,t.criticalText,t.signalType);break;case"option":dn(void 0,void 0,t.optionText,t.signalType);break;case"criticalEnd":dn(void 0,void 0,void 0,t.signalType);break;case"breakStart":dn(void 0,void 0,t.breakText,t.signalType);break;case"breakEnd":dn(void 0,void 0,void 0,t.signalType);break}},SE={addActor:s_,addMessage:Jgt,addSignal:dn,addLinks:cD,addDetails:hD,addProperties:lD,autoWrap:Vc,setWrap:syt,enableSequenceNumbers:ryt,disableSequenceNumbers:iyt,showSequenceNumbers:ayt,getMessages:tyt,getActors:eyt,getActor:Mh,getActorKeys:nyt,getActorProperty:fyt,getAccTitle:Ai,getDiagramTitle:x2,setDiagramTitle:_2,parseDirective:Zgt,getConfig:()=>J().sequence,clear:oyt,parseMessage:cyt,LINETYPE:nh,ARROWTYPE:lyt,PLACEMENT:uyt,addNote:oD,setAccTitle:Qr,apply:fD,setAccDescription:Mi,getAccDescription:Li};let o_=[];const dyt=t=>{o_.push(t)},dD=()=>{o_.forEach(t=>{t()}),o_=[]},R2=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),typeof e.class<"u"&&n.attr("class",e.class),n},pD=(t,e)=>{dyt(()=>{const n=document.querySelectorAll(t);n.length!==0&&(n[0].addEventListener("mouseover",function(){myt("actor"+e+"_popup")}),n[0].addEventListener("mouseout",function(){byt("actor"+e+"_popup")}))})},pyt=function(t,e,n,r,i){if(e.links===void 0||e.links===null||Object.keys(e.links).length===0)return{height:0,width:0};const a=e.links,s=e.actorCnt,o=e.rectData;var l="none";i&&(l="block !important");const u=t.append("g");u.attr("id","actor"+s+"_popup"),u.attr("class","actorPopupMenu"),u.attr("display",l),pD("#actor"+s+"_popup",s);var h="";typeof o.class<"u"&&(h=" "+o.class);let d=o.width>n?o.width:n;const f=u.append("rect");if(f.attr("class","actorPopupMenuPanel"+h),f.attr("x",o.x),f.attr("y",o.height),f.attr("fill",o.fill),f.attr("stroke",o.stroke),f.attr("width",d),f.attr("height",o.height),f.attr("rx",o.rx),f.attr("ry",o.ry),a!=null){var p=20;for(let b in a){var y=u.append("a"),m=ia(a[b]);y.attr("xlink:href",m),y.attr("target","_blank"),Iyt(r)(b,y,o.x+10,o.height+p,d,20,{class:"actor"},r),p+=30}}return f.attr("height",p),{height:o.height+p,width:d}},gD=function(t,e,n,r){const i=t.append("image");i.attr("x",e),i.attr("y",n);var a=ia(r);i.attr("xlink:href",a)},yD=function(t,e,n,r){const i=t.append("use");i.attr("x",e),i.attr("y",n);var a=ia(r);i.attr("xlink:href","#"+a)},gyt=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'block'; }"},yyt=function(t){return"var pu = document.getElementById('"+t+"'); if (pu != null) { pu.style.display = 'none'; }"},myt=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="block")},byt=function(t){var e=document.getElementById(t);e!=null&&(e.style.display="none")},Yc=function(t,e){let n=0,r=0;const i=e.text.split(ge.lineBreakRegex);let a=[],s=0,o=()=>e.y;if(typeof e.valign<"u"&&typeof e.textMargin<"u"&&e.textMargin>0)switch(e.valign){case"top":case"start":o=()=>Math.round(e.y+e.textMargin);break;case"middle":case"center":o=()=>Math.round(e.y+(n+r+e.textMargin)/2);break;case"bottom":case"end":o=()=>Math.round(e.y+(n+r+2*e.textMargin)-e.textMargin);break}if(typeof e.anchor<"u"&&typeof e.textMargin<"u"&&typeof e.width<"u")switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="middle",e.alignmentBaseline="middle";break}for(let l=0;l<i.length;l++){let u=i[l];typeof e.textMargin<"u"&&e.textMargin===0&&typeof e.fontSize<"u"&&(s=l*e.fontSize);const h=t.append("text");if(h.attr("x",e.x),h.attr("y",o()),typeof e.anchor<"u"&&h.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),typeof e.fontFamily<"u"&&h.style("font-family",e.fontFamily),typeof e.fontSize<"u"&&h.style("font-size",e.fontSize),typeof e.fontWeight<"u"&&h.style("font-weight",e.fontWeight),typeof e.fill<"u"&&h.attr("fill",e.fill),typeof e.class<"u"&&h.attr("class",e.class),typeof e.dy<"u"?h.attr("dy",e.dy):s!==0&&h.attr("dy",s),e.tspan){const d=h.append("tspan");d.attr("x",e.x),typeof e.fill<"u"&&d.attr("fill",e.fill),d.text(u)}else h.text(u);typeof e.valign<"u"&&typeof e.textMargin<"u"&&e.textMargin>0&&(r+=(h._groups||h)[0][0].getBBox().height,n=r),a.push(h)}return a},mD=function(t,e){function n(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}const r=t.append("polygon");return r.attr("points",n(e.x,e.y,e.width,e.height,7)),r.attr("class","labelBox"),e.y=e.y+e.height/2,Yc(t,e),r};let qi=-1;const bD=(t,e)=>{!t.selectAll||t.selectAll(".actor-line").attr("class","200").attr("y2",e-55)},vyt=function(t,e,n){const r=e.x+e.width/2,i=t.append("g");var a=i;e.y===0&&(qi++,a.append("line").attr("id","actor"+qi).attr("x1",r).attr("y1",5).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),a=i.append("g"),e.actorCnt=qi,e.links!=null&&(a.attr("id","root-"+qi),pD("#root-"+qi,qi)));const s=N2();var o="actor";e.properties!=null&&e.properties.class?o=e.properties.class:s.fill="#eaeaea",s.x=e.x,s.y=e.y,s.width=e.width,s.height=e.height,s.class=o,s.rx=3,s.ry=3;const l=R2(a,s);if(e.rectData=s,e.properties!=null&&e.properties.icon){const h=e.properties.icon.trim();h.charAt(0)==="@"?yD(a,s.x+s.width-20,s.y+10,h.substr(1)):gD(a,s.x+s.width-20,s.y+10,h)}vD(n)(e.description,a,s.x,s.y,s.width,s.height,{class:"actor"},n);let u=e.height;if(l.node){const h=l.node().getBBox();e.height=h.height,u=h.height}return u},_yt=function(t,e,n){const r=e.x+e.width/2;e.y===0&&(qi++,t.append("line").attr("id","actor"+qi).attr("x1",r).attr("y1",80).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const i=t.append("g");i.attr("class","actor-man");const a=N2();a.x=e.x,a.y=e.y,a.fill="#eaeaea",a.width=e.width,a.height=e.height,a.class="actor",a.rx=3,a.ry=3,i.append("line").attr("id","actor-man-torso"+qi).attr("x1",r).attr("y1",e.y+25).attr("x2",r).attr("y2",e.y+45),i.append("line").attr("id","actor-man-arms"+qi).attr("x1",r-18).attr("y1",e.y+33).attr("x2",r+18).attr("y2",e.y+33),i.append("line").attr("x1",r-18).attr("y1",e.y+60).attr("x2",r).attr("y2",e.y+45),i.append("line").attr("x1",r).attr("y1",e.y+45).attr("x2",r+16).attr("y2",e.y+60);const s=i.append("circle");s.attr("cx",e.x+e.width/2),s.attr("cy",e.y+10),s.attr("r",15),s.attr("width",e.width),s.attr("height",e.height);const o=i.node().getBBox();return e.height=o.height,vD(n)(e.description,i,a.x,a.y+35,a.width,a.height,{class:"actor"},n),e.height},xyt=function(t,e,n){switch(e.type){case"actor":return _yt(t,e,n);case"participant":return vyt(t,e,n)}},wyt=function(t){return t.append("g")},kyt=function(t,e,n,r,i){const a=N2(),s=e.anchored;a.x=e.startx,a.y=e.starty,a.class="activation"+i%3,a.width=e.stopx-e.startx,a.height=n-e.starty,R2(s,a)},Tyt=function(t,e,n,r){const{boxMargin:i,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:o,messageFontFamily:l,messageFontSize:u,messageFontWeight:h}=r,d=t.append("g"),f=function(m,b,x,k){return d.append("line").attr("x1",m).attr("y1",b).attr("x2",x).attr("y2",k).attr("class","loopLine")};f(e.startx,e.starty,e.stopx,e.starty),f(e.stopx,e.starty,e.stopx,e.stopy),f(e.startx,e.stopy,e.stopx,e.stopy),f(e.startx,e.starty,e.startx,e.stopy),typeof e.sections<"u"&&e.sections.forEach(function(m){f(e.startx,m.y,e.stopx,m.y).style("stroke-dasharray","3, 3")});let p=c_();p.text=n,p.x=e.startx,p.y=e.starty,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.anchor="middle",p.valign="middle",p.tspan=!1,p.width=o||50,p.height=s||20,p.textMargin=a,p.class="labelText",mD(d,p),p=c_(),p.text=e.title,p.x=e.startx+o/2+(e.stopx-e.startx)/2,p.y=e.starty+i+a,p.anchor="middle",p.valign="middle",p.textMargin=a,p.class="loopText",p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=!0;let y=Yc(d,p);return typeof e.sectionTitles<"u"&&e.sectionTitles.forEach(function(m,b){if(m.message){p.text=m.message,p.x=e.startx+(e.stopx-e.startx)/2,p.y=e.sections[b].y+i+a,p.class="loopText",p.anchor="middle",p.valign="middle",p.tspan=!1,p.fontFamily=l,p.fontSize=u,p.fontWeight=h,p.wrap=e.wrap,y=Yc(d,p);let x=Math.round(y.map(k=>(k._groups||k)[0][0].getBBox().height).reduce((k,T)=>k+T));e.sections[b].height+=x-(i+a)}}),e.height=Math.round(e.stopy-e.starty),d},Eyt=function(t,e){R2(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},Cyt=function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},Syt=function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},Ayt=function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},Myt=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},Lyt=function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},Ryt=function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},Nyt=function(t){const n=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);n.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),n.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},c_=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},N2=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},vD=function(){function t(i,a,s,o,l,u,h){const d=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("text-anchor","middle").text(i);r(d,h)}function e(i,a,s,o,l,u,h,d){const{actorFontSize:f,actorFontFamily:p,actorFontWeight:y}=d;let m=f&&f.replace?f.replace("px",""):f;const b=i.split(ge.lineBreakRegex);for(let x=0;x<b.length;x++){const k=x*m-m*(b.length-1)/2,T=a.append("text").attr("x",s+l/2).attr("y",o).style("text-anchor","middle").style("font-size",f).style("font-weight",y).style("font-family",p);T.append("tspan").attr("x",s+l/2).attr("dy",k).text(b[x]),T.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(T,h)}}function n(i,a,s,o,l,u,h,d){const f=a.append("switch"),y=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");y.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,s,o,l,u,h,d),r(y,h)}function r(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),Iyt=function(){function t(i,a,s,o,l,u,h){const d=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(i);r(d,h)}function e(i,a,s,o,l,u,h,d){const{actorFontSize:f,actorFontFamily:p,actorFontWeight:y}=d,m=i.split(ge.lineBreakRegex);for(let b=0;b<m.length;b++){const x=b*f-f*(m.length-1)/2,k=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",f).style("font-weight",y).style("font-family",p);k.append("tspan").attr("x",s).attr("dy",x).text(m[b]),k.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(k,h)}}function n(i,a,s,o,l,u,h,d){const f=a.append("switch"),y=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");y.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,s,o,l,u,h,d),r(y,h)}function r(i,a){for(const s in a)a.hasOwnProperty(s)&&i.attr(s,a[s])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),on={drawRect:R2,drawText:Yc,drawLabel:mD,drawActor:xyt,drawPopup:pyt,drawImage:gD,drawEmbeddedImage:yD,anchorElement:wyt,drawActivation:kyt,drawLoop:Tyt,drawBackgroundRect:Eyt,insertArrowHead:Myt,insertArrowFilledHead:Lyt,insertSequenceNumber:Ryt,insertArrowCrossHead:Nyt,insertDatabaseIcon:Cyt,insertComputerIcon:Syt,insertClockIcon:Ayt,getTextObj:c_,getNoteRect:N2,popupMenu:gyt,popdownMenu:yyt,fixLifeLineHeights:bD,sanitizeUrl:ia};let lt={};const Nt={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(t=>t.height||0))+(this.loops.length===0?0:this.loops.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.messages.length===0?0:this.messages.map(t=>t.height||0).reduce((t,e)=>t+e))+(this.notes.length===0?0:this.notes.map(t=>t.height||0).reduce((t,e)=>t+e))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(t){this.actors.push(t)},addLoop:function(t){this.loops.push(t)},addMessage:function(t){this.messages.push(t)},addNote:function(t){this.notes.push(t)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,xD(J())},updateVal:function(t,e,n,r){typeof t[e]>"u"?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){const i=this;let a=0;function s(o){return function(u){a++;const h=i.sequenceItems.length-a+1;i.updateVal(u,"starty",e-h*lt.boxMargin,Math.min),i.updateVal(u,"stopy",r+h*lt.boxMargin,Math.max),i.updateVal(Nt.data,"startx",t-h*lt.boxMargin,Math.min),i.updateVal(Nt.data,"stopx",n+h*lt.boxMargin,Math.max),o!=="activation"&&(i.updateVal(u,"startx",t-h*lt.boxMargin,Math.min),i.updateVal(u,"stopx",n+h*lt.boxMargin,Math.max),i.updateVal(Nt.data,"starty",e-h*lt.boxMargin,Math.min),i.updateVal(Nt.data,"stopy",r+h*lt.boxMargin,Math.max))}}this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},insert:function(t,e,n,r){const i=Math.min(t,n),a=Math.max(t,n),s=Math.min(e,r),o=Math.max(e,r);this.updateVal(Nt.data,"startx",i,Math.min),this.updateVal(Nt.data,"starty",s,Math.min),this.updateVal(Nt.data,"stopx",a,Math.max),this.updateVal(Nt.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},newActivation:function(t,e,n){const r=n[t.from.actor],i=I2(t.from.actor).length||0,a=r.x+r.width/2+(i-1)*lt.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+lt.activationWidth,stopy:void 0,actor:t.from.actor,anchored:on.anchorElement(e)})},endActivation:function(t){const e=this.activations.map(function(n){return n.actor}).lastIndexOf(t.from.actor);return this.activations.splice(e,1)[0]},createLoop:function(t={message:void 0,wrap:!1,width:void 0},e){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},newLoop:function(t={message:void 0,wrap:!1,width:void 0},e){this.sequenceItems.push(this.createLoop(t,e))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(t){const e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:Nt.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},Byt=function(t,e){Nt.bumpVerticalPos(lt.boxMargin),e.height=lt.boxMargin,e.starty=Nt.getVerticalPos();const n=on.getNoteRect();n.x=e.startx,n.y=e.starty,n.width=e.width||lt.width,n.class="note";const r=t.append("g"),i=on.drawRect(r,n),a=on.getTextObj();a.x=e.startx,a.y=e.starty,a.width=n.width,a.dy="1em",a.text=e.message,a.class="noteText",a.fontFamily=lt.noteFontFamily,a.fontSize=lt.noteFontSize,a.fontWeight=lt.noteFontWeight,a.anchor=lt.noteAlign,a.textMargin=lt.noteMargin,a.valign="center";const s=Yc(r,a),o=Math.round(s.map(l=>(l._groups||l)[0][0].getBBox().height).reduce((l,u)=>l+u));i.attr("height",o+2*lt.noteMargin),e.height+=o+2*lt.noteMargin,Nt.bumpVerticalPos(o+2*lt.noteMargin),e.stopy=e.starty+o+2*lt.noteMargin,e.stopx=e.startx+n.width,Nt.insert(e.startx,e.starty,e.stopx,e.stopy),Nt.models.addNote(e)},zc=t=>({fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}),Ko=t=>({fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}),l_=t=>({fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}),Dyt=function(t,e){Nt.bumpVerticalPos(10);const{startx:n,stopx:r,message:i}=e,a=ge.splitBreaks(i).length,s=Ae.calculateTextDimensions(i,zc(lt)),o=s.height/a;e.height+=o,Nt.bumpVerticalPos(o);let l,u=s.height-10;const h=s.width;if(n===r){l=Nt.getVerticalPos()+u,lt.rightAngles||(u+=lt.boxMargin,l=Nt.getVerticalPos()+u),u+=30;const d=Math.max(h/2,lt.width/2);Nt.insert(n-d,Nt.getVerticalPos()-10+u,r+d,Nt.getVerticalPos()+30+u)}else u+=lt.boxMargin,l=Nt.getVerticalPos()+u,Nt.insert(n,l-10,r,l);return Nt.bumpVerticalPos(u),e.height+=u,e.stopy=e.starty+e.height,Nt.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),l},Oyt=function(t,e,n,r){const{startx:i,stopx:a,starty:s,message:o,type:l,sequenceIndex:u,sequenceVisible:h}=e,d=Ae.calculateTextDimensions(o,zc(lt)),f=on.getTextObj();f.x=i,f.y=s+10,f.width=a-i,f.class="messageText",f.dy="1em",f.text=o,f.fontFamily=lt.messageFontFamily,f.fontSize=lt.messageFontSize,f.fontWeight=lt.messageFontWeight,f.anchor=lt.messageAlign,f.valign="center",f.textMargin=lt.wrapPadding,f.tspan=!1,Yc(t,f);const p=d.width;let y;i===a?lt.rightAngles?y=t.append("path").attr("d",`M  ${i},${n} H ${i+Math.max(lt.width/2,p/2)} V ${n+25} H ${i}`):y=t.append("path").attr("d","M "+i+","+n+" C "+(i+60)+","+(n-10)+" "+(i+60)+","+(n+30)+" "+i+","+(n+20)):(y=t.append("line"),y.attr("x1",i),y.attr("y1",n),y.attr("x2",a),y.attr("y2",n)),l===r.db.LINETYPE.DOTTED||l===r.db.LINETYPE.DOTTED_CROSS||l===r.db.LINETYPE.DOTTED_POINT||l===r.db.LINETYPE.DOTTED_OPEN?(y.style("stroke-dasharray","3, 3"),y.attr("class","messageLine1")):y.attr("class","messageLine0");let m="";lt.arrowMarkerAbsolute&&(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,m=m.replace(/\(/g,"\\("),m=m.replace(/\)/g,"\\)")),y.attr("stroke-width",2),y.attr("stroke","none"),y.style("fill","none"),(l===r.db.LINETYPE.SOLID||l===r.db.LINETYPE.DOTTED)&&y.attr("marker-end","url("+m+"#arrowhead)"),(l===r.db.LINETYPE.SOLID_POINT||l===r.db.LINETYPE.DOTTED_POINT)&&y.attr("marker-end","url("+m+"#filled-head)"),(l===r.db.LINETYPE.SOLID_CROSS||l===r.db.LINETYPE.DOTTED_CROSS)&&y.attr("marker-end","url("+m+"#crosshead)"),(h||lt.showSequenceNumbers)&&(y.attr("marker-start","url("+m+"#sequencenumber)"),t.append("text").attr("x",i).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(u))},u_=function(t,e,n,r,i,a){if(i.hideUnusedParticipants===!0){const u=new Set;a.forEach(h=>{u.add(h.from),u.add(h.to)}),n=n.filter(h=>u.has(h))}let s=0,o=0,l=0;for(let u=0;u<n.length;u++){const h=e[n[u]];h.width=h.width||lt.width,h.height=Math.max(h.height||lt.height,lt.height),h.margin=h.margin||lt.actorMargin,h.x=s+o,h.y=r;const d=on.drawActor(t,h,lt);l=Math.max(l,d),Nt.insert(h.x,r,h.x+h.width,h.height),s+=h.width,o+=h.margin,Nt.models.addActor(h)}Nt.bumpVerticalPos(l)},_D=function(t,e,n,r){let i=0,a=0;for(let s=0;s<n.length;s++){const o=e[n[s]],l=$yt(o),u=on.drawPopup(t,o,l,lt,lt.forceMenus,r);u.height>i&&(i=u.height),u.width+o.x>a&&(a=u.width+o.x)}return{maxHeight:i,maxWidth:a}},xD=function(t){kn(lt,t),t.fontFamily&&(lt.actorFontFamily=lt.noteFontFamily=lt.messageFontFamily=t.fontFamily),t.fontSize&&(lt.actorFontSize=lt.noteFontSize=lt.messageFontSize=t.fontSize),t.fontWeight&&(lt.actorFontWeight=lt.noteFontWeight=lt.messageFontWeight=t.fontWeight)},I2=function(t){return Nt.activations.filter(function(e){return e.actor===t})},AE=function(t,e){const n=e[t],r=I2(t),i=r.reduce(function(s,o){return Math.min(s,o.startx)},n.x+n.width/2),a=r.reduce(function(s,o){return Math.max(s,o.stopx)},n.x+n.width/2);return[i,a]};function Fi(t,e,n,r,i){Nt.bumpVerticalPos(n);let a=r;if(e.id&&e.message&&t[e.id]){const s=t[e.id].width,o=zc(lt);e.message=Ae.wrapLabel(`[${e.message}]`,s-2*lt.wrapPadding,o),e.width=s,e.wrap=!0;const l=Ae.calculateTextDimensions(e.message,o),u=Math.max(l.height,lt.labelBoxHeight);a=r+u,Y.debug(`${u} - ${e.message}`)}i(e),Nt.bumpVerticalPos(a)}const Fyt=function(t,e,n,r){const{securityLevel:i,sequence:a}=J();lt=a;let s;i==="sandbox"&&(s=Lt("#i"+e));const o=Lt(i==="sandbox"?s.nodes()[0].contentDocument.body:"body"),l=i==="sandbox"?s.nodes()[0].contentDocument:document;Nt.init(),Y.debug(r.db);const u=i==="sandbox"?o.select(`[id="${e}"]`):Lt(`[id="${e}"]`),h=r.db.getActors(),d=r.db.getActorKeys(),f=r.db.getMessages(),p=r.db.getDiagramTitle(),y=Pyt(h,f,r);lt.height=qyt(h,y),on.insertComputerIcon(u),on.insertDatabaseIcon(u),on.insertClockIcon(u),u_(u,h,d,0,lt,f);const m=zyt(f,h,y,r);on.insertArrowHead(u),on.insertArrowCrossHead(u),on.insertArrowFilledHead(u),on.insertSequenceNumber(u);function b(E,_){const V=Nt.endActivation(E);V.starty+18>_&&(V.starty=_-6,_+=12),on.drawActivation(u,V,_,lt,I2(E.from.actor).length),Nt.insert(V.startx,_-10,V.stopx,_)}let x=1,k=1;const T=[];f.forEach(function(E){let _,V,B;switch(E.type){case r.db.LINETYPE.NOTE:V=E.noteModel,Byt(u,V);break;case r.db.LINETYPE.ACTIVE_START:Nt.newActivation(E,u,h);break;case r.db.LINETYPE.ACTIVE_END:b(E,Nt.getVerticalPos());break;case r.db.LINETYPE.LOOP_START:Fi(m,E,lt.boxMargin,lt.boxMargin+lt.boxTextMargin,G=>Nt.newLoop(G));break;case r.db.LINETYPE.LOOP_END:_=Nt.endLoop(),on.drawLoop(u,_,"loop",lt),Nt.bumpVerticalPos(_.stopy-Nt.getVerticalPos()),Nt.models.addLoop(_);break;case r.db.LINETYPE.RECT_START:Fi(m,E,lt.boxMargin,lt.boxMargin,G=>Nt.newLoop(void 0,G.message));break;case r.db.LINETYPE.RECT_END:_=Nt.endLoop(),on.drawBackgroundRect(u,_),Nt.models.addLoop(_),Nt.bumpVerticalPos(_.stopy-Nt.getVerticalPos());break;case r.db.LINETYPE.OPT_START:Fi(m,E,lt.boxMargin,lt.boxMargin+lt.boxTextMargin,G=>Nt.newLoop(G));break;case r.db.LINETYPE.OPT_END:_=Nt.endLoop(),on.drawLoop(u,_,"opt",lt),Nt.bumpVerticalPos(_.stopy-Nt.getVerticalPos()),Nt.models.addLoop(_);break;case r.db.LINETYPE.ALT_START:Fi(m,E,lt.boxMargin,lt.boxMargin+lt.boxTextMargin,G=>Nt.newLoop(G));break;case r.db.LINETYPE.ALT_ELSE:Fi(m,E,lt.boxMargin+lt.boxTextMargin,lt.boxMargin,G=>Nt.addSectionToLoop(G));break;case r.db.LINETYPE.ALT_END:_=Nt.endLoop(),on.drawLoop(u,_,"alt",lt),Nt.bumpVerticalPos(_.stopy-Nt.getVerticalPos()),Nt.models.addLoop(_);break;case r.db.LINETYPE.PAR_START:Fi(m,E,lt.boxMargin,lt.boxMargin+lt.boxTextMargin,G=>Nt.newLoop(G));break;case r.db.LINETYPE.PAR_AND:Fi(m,E,lt.boxMargin+lt.boxTextMargin,lt.boxMargin,G=>Nt.addSectionToLoop(G));break;case r.db.LINETYPE.PAR_END:_=Nt.endLoop(),on.drawLoop(u,_,"par",lt),Nt.bumpVerticalPos(_.stopy-Nt.getVerticalPos()),Nt.models.addLoop(_);break;case r.db.LINETYPE.AUTONUMBER:x=E.message.start||x,k=E.message.step||k,E.message.visible?r.db.enableSequenceNumbers():r.db.disableSequenceNumbers();break;case r.db.LINETYPE.CRITICAL_START:Fi(m,E,lt.boxMargin,lt.boxMargin+lt.boxTextMargin,G=>Nt.newLoop(G));break;case r.db.LINETYPE.CRITICAL_OPTION:Fi(m,E,lt.boxMargin+lt.boxTextMargin,lt.boxMargin,G=>Nt.addSectionToLoop(G));break;case r.db.LINETYPE.CRITICAL_END:_=Nt.endLoop(),on.drawLoop(u,_,"critical",lt),Nt.bumpVerticalPos(_.stopy-Nt.getVerticalPos()),Nt.models.addLoop(_);break;case r.db.LINETYPE.BREAK_START:Fi(m,E,lt.boxMargin,lt.boxMargin+lt.boxTextMargin,G=>Nt.newLoop(G));break;case r.db.LINETYPE.BREAK_END:_=Nt.endLoop(),on.drawLoop(u,_,"break",lt),Nt.bumpVerticalPos(_.stopy-Nt.getVerticalPos()),Nt.models.addLoop(_);break;default:try{B=E.msgModel,B.starty=Nt.getVerticalPos(),B.sequenceIndex=x,B.sequenceVisible=r.db.showSequenceNumbers();const G=Dyt(u,B);T.push({messageModel:B,lineStarty:G}),Nt.models.addMessage(B)}catch(G){Y.error("error while drawing message",G)}}[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT].includes(E.type)&&(x=x+k)}),T.forEach(E=>Oyt(u,E.messageModel,E.lineStarty,r)),lt.mirrorActors&&(Nt.bumpVerticalPos(lt.boxMargin*2),u_(u,h,d,Nt.getVerticalPos(),lt,f),Nt.bumpVerticalPos(lt.boxMargin),bD(u,Nt.getVerticalPos()));const S=_D(u,h,d,l),{bounds:L}=Nt.getBounds();Y.debug("For line height fix Querying: #"+e+" .actor-line"),C_("#"+e+" .actor-line").attr("y2",L.stopy);let A=L.stopy-L.starty;A<S.maxHeight&&(A=S.maxHeight);let I=A+2*lt.diagramMarginY;lt.mirrorActors&&(I=I-lt.boxMargin+lt.bottomMarginAdj);let C=L.stopx-L.startx;C<S.maxWidth&&(C=S.maxWidth);const N=C+2*lt.diagramMarginX;p&&u.append("text").text(p).attr("x",(L.stopx-L.startx)/2-2*lt.diagramMarginX).attr("y",-25),Ci(u,I,N,lt.useMaxWidth);const v=p?40:0;u.attr("viewBox",L.startx-lt.diagramMarginX+" -"+(lt.diagramMarginY+v)+" "+N+" "+(I+v)),kr(r.db,u,e),Y.debug("models:",Nt.models)},Pyt=function(t,e,n){const r={};return e.forEach(function(i){if(t[i.to]&&t[i.from]){const a=t[i.to];if(i.placement===n.db.PLACEMENT.LEFTOF&&!a.prevActor||i.placement===n.db.PLACEMENT.RIGHTOF&&!a.nextActor)return;const s=i.placement!==void 0,o=!s,l=s?Ko(lt):zc(lt),u=i.wrap?Ae.wrapLabel(i.message,lt.width-2*lt.wrapPadding,l):i.message,d=Ae.calculateTextDimensions(u,l).width+2*lt.wrapPadding;o&&i.from===a.nextActor?r[i.to]=Math.max(r[i.to]||0,d):o&&i.from===a.prevActor?r[i.from]=Math.max(r[i.from]||0,d):o&&i.from===i.to?(r[i.from]=Math.max(r[i.from]||0,d/2),r[i.to]=Math.max(r[i.to]||0,d/2)):i.placement===n.db.PLACEMENT.RIGHTOF?r[i.from]=Math.max(r[i.from]||0,d):i.placement===n.db.PLACEMENT.LEFTOF?r[a.prevActor]=Math.max(r[a.prevActor]||0,d):i.placement===n.db.PLACEMENT.OVER&&(a.prevActor&&(r[a.prevActor]=Math.max(r[a.prevActor]||0,d/2)),a.nextActor&&(r[i.from]=Math.max(r[i.from]||0,d/2)))}}),Y.debug("maxMessageWidthPerActor:",r),r},$yt=function(t){let e=0;const n=l_(lt);for(const r in t.links){const a=Ae.calculateTextDimensions(r,n).width+2*lt.wrapPadding+2*lt.boxMargin;e<a&&(e=a)}return e},qyt=function(t,e){let n=0;Object.keys(t).forEach(r=>{const i=t[r];i.wrap&&(i.description=Ae.wrapLabel(i.description,lt.width-2*lt.wrapPadding,l_(lt)));const a=Ae.calculateTextDimensions(i.description,l_(lt));i.width=i.wrap?lt.width:Math.max(lt.width,a.width+2*lt.wrapPadding),i.height=i.wrap?Math.max(a.height,lt.height):lt.height,n=Math.max(n,i.height)});for(const r in e){const i=t[r];if(!i)continue;const a=t[i.nextActor];if(!a)continue;const o=e[r]+lt.actorMargin-i.width/2-a.width/2;i.margin=Math.max(o,lt.actorMargin)}return Math.max(n,lt.height)},Vyt=function(t,e,n){const r=e[t.from].x,i=e[t.to].x,a=t.wrap&&t.message;let s=Ae.calculateTextDimensions(a?Ae.wrapLabel(t.message,lt.width,Ko(lt)):t.message,Ko(lt));const o={width:a?lt.width:Math.max(lt.width,s.width+2*lt.noteMargin),height:0,startx:e[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===n.db.PLACEMENT.RIGHTOF?(o.width=a?Math.max(lt.width,s.width):Math.max(e[t.from].width/2+e[t.to].width/2,s.width+2*lt.noteMargin),o.startx=r+(e[t.from].width+lt.actorMargin)/2):t.placement===n.db.PLACEMENT.LEFTOF?(o.width=Math.max(a?lt.width:e[t.from].width/2+e[t.to].width/2,s.width+2*lt.noteMargin),o.startx=r-o.width+(e[t.from].width-lt.actorMargin)/2):t.to===t.from?(s=Ae.calculateTextDimensions(a?Ae.wrapLabel(t.message,Math.max(lt.width,e[t.from].width),Ko(lt)):t.message,Ko(lt)),o.width=a?Math.max(lt.width,e[t.from].width):Math.max(e[t.from].width,lt.width,s.width+2*lt.noteMargin),o.startx=r+(e[t.from].width-o.width)/2):(o.width=Math.abs(r+e[t.from].width/2-(i+e[t.to].width/2))+lt.actorMargin,o.startx=r<i?r+e[t.from].width/2-lt.actorMargin/2:i+e[t.to].width/2-lt.actorMargin/2),a&&(o.message=Ae.wrapLabel(t.message,o.width-2*lt.wrapPadding,Ko(lt))),Y.debug(`NM:[${o.startx},${o.stopx},${o.starty},${o.stopy}:${o.width},${o.height}=${t.message}]`),o},Yyt=function(t,e,n){let r=!1;if([n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT].includes(t.type)&&(r=!0),!r)return{};const i=AE(t.from,e),a=AE(t.to,e),s=i[0]<=a[0]?1:0,o=i[0]<a[0]?0:1,l=i.concat(a),u=Math.abs(a[o]-i[s]);t.wrap&&t.message&&(t.message=Ae.wrapLabel(t.message,Math.max(u+2*lt.wrapPadding,lt.width),zc(lt)));const h=Ae.calculateTextDimensions(t.message,zc(lt));return{width:Math.max(t.wrap?0:h.width+2*lt.wrapPadding,u+2*lt.wrapPadding,lt.width),height:0,startx:i[s],stopx:a[o],starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,l),toBounds:Math.max.apply(null,l)}},zyt=function(t,e,n,r){const i={},a=[];let s,o,l;return t.forEach(function(u){switch(u.id=Ae.random({length:10}),u.type){case r.db.LINETYPE.LOOP_START:case r.db.LINETYPE.ALT_START:case r.db.LINETYPE.OPT_START:case r.db.LINETYPE.PAR_START:case r.db.LINETYPE.CRITICAL_START:case r.db.LINETYPE.BREAK_START:a.push({id:u.id,msg:u.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case r.db.LINETYPE.ALT_ELSE:case r.db.LINETYPE.PAR_AND:case r.db.LINETYPE.CRITICAL_OPTION:u.message&&(s=a.pop(),i[s.id]=s,i[u.id]=s,a.push(s));break;case r.db.LINETYPE.LOOP_END:case r.db.LINETYPE.ALT_END:case r.db.LINETYPE.OPT_END:case r.db.LINETYPE.PAR_END:case r.db.LINETYPE.CRITICAL_END:case r.db.LINETYPE.BREAK_END:s=a.pop(),i[s.id]=s;break;case r.db.LINETYPE.ACTIVE_START:{const d=e[u.from?u.from.actor:u.to.actor],f=I2(u.from?u.from.actor:u.to.actor).length,p=d.x+d.width/2+(f-1)*lt.activationWidth/2,y={startx:p,stopx:p+lt.activationWidth,actor:u.from.actor,enabled:!0};Nt.activations.push(y)}break;case r.db.LINETYPE.ACTIVE_END:{const d=Nt.activations.map(f=>f.actor).lastIndexOf(u.from.actor);delete Nt.activations.splice(d,1)[0]}break}u.placement!==void 0?(o=Vyt(u,e,r),u.noteModel=o,a.forEach(d=>{s=d,s.from=Math.min(s.from,o.startx),s.to=Math.max(s.to,o.startx+o.width),s.width=Math.max(s.width,Math.abs(s.from-s.to))-lt.labelBoxWidth})):(l=Yyt(u,e,r),u.msgModel=l,l.startx&&l.stopx&&a.length>0&&a.forEach(d=>{if(s=d,l.startx===l.stopx){const f=e[u.from],p=e[u.to];s.from=Math.min(f.x-l.width/2,f.x-f.width/2,s.from),s.to=Math.max(p.x+l.width/2,p.x+f.width/2,s.to),s.width=Math.max(s.width,Math.abs(s.to-s.from))-lt.labelBoxWidth}else s.from=Math.min(l.startx,s.from),s.to=Math.max(l.stopx,s.to),s.width=Math.max(s.width,l.width)-lt.labelBoxWidth}))}),Nt.activations=[],Y.debug("Loop type widths:",i),i},ME={bounds:Nt,drawActors:u_,drawActorsPopup:_D,setConf:xD,draw:Fyt};var rd=function(){var t=function(ut,X,z,j){for(z=z||{},j=ut.length;j--;z[ut[j]]=X);return z},e=[1,2],n=[1,3],r=[1,5],i=[1,7],a=[2,5],s=[1,15],o=[1,17],l=[1,19],u=[1,20],h=[1,21],d=[1,22],f=[1,33],p=[1,23],y=[1,24],m=[1,25],b=[1,26],x=[1,27],k=[1,30],T=[1,31],S=[1,32],L=[1,35],R=[1,36],A=[1,37],I=[1,38],C=[1,34],N=[1,41],v=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],E=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],_=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],V=[4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],B={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"-->":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,openDirective:36,typeDirective:37,closeDirective:38,":":39,argDirective:40,direction_tb:41,direction_bt:42,direction_rl:43,direction_lr:44,eol:45,";":46,EDGE_STATE:47,left_of:48,right_of:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"-->",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",39:":",41:"direction_tb",42:"direction_bt",43:"direction_rl",44:"direction_lr",46:";",47:"EDGE_STATE",48:"left_of",49:"right_of",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[45,1],[45,1],[11,1],[11,1],[28,1],[28,1],[36,1],[37,1],[40,1],[38,1]],performAction:function(X,z,j,ht,it,et,ft){var st=et.length-1;switch(it){case 4:return ht.setRootDoc(et[st]),et[st];case 5:this.$=[];break;case 6:et[st]!="nl"&&(et[st-1].push(et[st]),this.$=et[st-1]);break;case 7:case 8:this.$=et[st];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:et[st],type:"default",description:""};break;case 11:this.$={stmt:"state",id:et[st-1],type:"default",description:ht.trimColon(et[st])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:et[st-2],type:"default",description:""},state2:{stmt:"state",id:et[st],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:et[st-3],type:"default",description:""},state2:{stmt:"state",id:et[st-1],type:"default",description:""},description:et[st].substr(1).trim()};break;case 17:this.$={stmt:"state",id:et[st-3],type:"default",description:"",doc:et[st-1]};break;case 18:var wt=et[st],Z=et[st-2].trim();if(et[st].match(":")){var F=et[st].split(":");wt=F[0],Z=[Z,F[1]]}this.$={stmt:"state",id:wt,type:"default",description:Z};break;case 19:this.$={stmt:"state",id:et[st-3],type:"default",description:et[st-5],doc:et[st-1]};break;case 20:this.$={stmt:"state",id:et[st],type:"fork"};break;case 21:this.$={stmt:"state",id:et[st],type:"join"};break;case 22:this.$={stmt:"state",id:et[st],type:"choice"};break;case 23:this.$={stmt:"state",id:ht.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:et[st-1].trim(),note:{position:et[st-2].trim(),text:et[st].trim()}};break;case 28:this.$=et[st].trim(),ht.setAccTitle(this.$);break;case 29:case 30:this.$=et[st].trim(),ht.setAccDescription(this.$);break;case 33:ht.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 34:ht.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 35:ht.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 36:ht.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 39:case 40:this.$=et[st];break;case 43:ht.parseDirective("%%{","open_directive");break;case 44:ht.parseDirective(et[st],"type_directive");break;case 45:et[st]=et[st].trim().replace(/'/g,'"'),ht.parseDirective(et[st],"arg_directive");break;case 46:ht.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:e,5:n,6:4,7:r,36:6,50:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,36:6,50:i},{3:9,4:e,5:n,6:4,7:r,36:6,50:i},{3:10,4:e,5:n,6:4,7:r,36:6,50:i},t([1,4,5,14,15,17,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],a,{8:11}),{37:12,51:[1,13]},{51:[2,43]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:s,5:o,6:28,9:14,10:16,11:18,14:l,15:u,17:h,20:d,22:f,23:p,24:y,25:m,26:b,27:x,30:29,31:k,33:T,35:S,36:6,41:L,42:R,43:A,44:I,47:C,50:i},{38:39,39:[1,40],53:N},t([39,53],[2,44]),t(v,[2,6]),{6:28,10:42,11:18,14:l,15:u,17:h,20:d,22:f,23:p,24:y,25:m,26:b,27:x,30:29,31:k,33:T,35:S,36:6,41:L,42:R,43:A,44:I,47:C,50:i},t(v,[2,8]),t(v,[2,9]),t(v,[2,10],{12:[1,43],13:[1,44]}),t(v,[2,14]),{16:[1,45]},t(v,[2,16],{18:[1,46]}),{21:[1,47]},t(v,[2,20]),t(v,[2,21]),t(v,[2,22]),t(v,[2,23]),{28:48,29:[1,49],48:[1,50],49:[1,51]},t(v,[2,26]),t(v,[2,27]),{32:[1,52]},{34:[1,53]},t(v,[2,30]),t(E,[2,39]),t(E,[2,40]),t(v,[2,33]),t(v,[2,34]),t(v,[2,35]),t(v,[2,36]),t(_,[2,31]),{40:54,52:[1,55]},t(_,[2,46]),t(v,[2,7]),t(v,[2,11]),{11:56,22:f,47:C},t(v,[2,15]),t(V,a,{8:57}),{22:[1,58]},{22:[1,59]},{21:[1,60]},{22:[2,41]},{22:[2,42]},t(v,[2,28]),t(v,[2,29]),{38:61,53:N},{53:[2,45]},t(v,[2,12],{12:[1,62]}),{4:s,5:o,6:28,9:14,10:16,11:18,14:l,15:u,17:h,19:[1,63],20:d,22:f,23:p,24:y,25:m,26:b,27:x,30:29,31:k,33:T,35:S,36:6,41:L,42:R,43:A,44:I,47:C,50:i},t(v,[2,18],{18:[1,64]}),{29:[1,65]},{22:[1,66]},t(_,[2,32]),t(v,[2,13]),t(v,[2,17]),t(V,a,{8:67}),t(v,[2,24]),t(v,[2,25]),{4:s,5:o,6:28,9:14,10:16,11:18,14:l,15:u,17:h,19:[1,68],20:d,22:f,23:p,24:y,25:m,26:b,27:x,30:29,31:k,33:T,35:S,36:6,41:L,42:R,43:A,44:I,47:C,50:i},t(v,[2,19])],defaultActions:{7:[2,43],8:[2,1],9:[2,2],10:[2,3],50:[2,41],51:[2,42],55:[2,45]},parseError:function(X,z){if(z.recoverable)this.trace(X);else{var j=new Error(X);throw j.hash=z,j}},parse:function(X){var z=this,j=[0],ht=[],it=[null],et=[],ft=this.table,st="",wt=0,Z=0,F=2,H=1,q=et.slice.call(arguments,1),D=Object.create(this.lexer),$={yy:{}};for(var U in this.yy)Object.prototype.hasOwnProperty.call(this.yy,U)&&($.yy[U]=this.yy[U]);D.setInput(X,$.yy),$.yy.lexer=D,$.yy.parser=this,typeof D.yylloc>"u"&&(D.yylloc={});var P=D.yylloc;et.push(P);var K=D.options&&D.options.ranges;typeof $.yy.parseError=="function"?this.parseError=$.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ct(){var It;return It=ht.pop()||D.lex()||H,typeof It!="number"&&(It instanceof Array&&(ht=It,It=ht.pop()),It=z.symbols_[It]||It),It}for(var Dt,Mt,Ot,Ct,dt={},yt,bt,Tt,ot;;){if(Mt=j[j.length-1],this.defaultActions[Mt]?Ot=this.defaultActions[Mt]:((Dt===null||typeof Dt>"u")&&(Dt=ct()),Ot=ft[Mt]&&ft[Mt][Dt]),typeof Ot>"u"||!Ot.length||!Ot[0]){var le="";ot=[];for(yt in ft[Mt])this.terminals_[yt]&&yt>F&&ot.push("'"+this.terminals_[yt]+"'");D.showPosition?le="Parse error on line "+(wt+1)+`:
`+D.showPosition()+`
Expecting `+ot.join(", ")+", got '"+(this.terminals_[Dt]||Dt)+"'":le="Parse error on line "+(wt+1)+": Unexpected "+(Dt==H?"end of input":"'"+(this.terminals_[Dt]||Dt)+"'"),this.parseError(le,{text:D.match,token:this.terminals_[Dt]||Dt,line:D.yylineno,loc:P,expected:ot})}if(Ot[0]instanceof Array&&Ot.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Mt+", token: "+Dt);switch(Ot[0]){case 1:j.push(Dt),it.push(D.yytext),et.push(D.yylloc),j.push(Ot[1]),Dt=null,Z=D.yyleng,st=D.yytext,wt=D.yylineno,P=D.yylloc;break;case 2:if(bt=this.productions_[Ot[1]][1],dt.$=it[it.length-bt],dt._$={first_line:et[et.length-(bt||1)].first_line,last_line:et[et.length-1].last_line,first_column:et[et.length-(bt||1)].first_column,last_column:et[et.length-1].last_column},K&&(dt._$.range=[et[et.length-(bt||1)].range[0],et[et.length-1].range[1]]),Ct=this.performAction.apply(dt,[st,Z,wt,$.yy,Ot[1],it,et].concat(q)),typeof Ct<"u")return Ct;bt&&(j=j.slice(0,-1*bt*2),it=it.slice(0,-1*bt),et=et.slice(0,-1*bt)),j.push(this.productions_[Ot[1]][0]),it.push(dt.$),et.push(dt._$),Tt=ft[j[j.length-2]][j[j.length-1]],j.push(Tt);break;case 3:return!0}}return!0}},G=function(){var ut={EOF:1,parseError:function(z,j){if(this.yy.parser)this.yy.parser.parseError(z,j);else throw new Error(z)},setInput:function(X,z){return this.yy=z||this.yy||{},this._input=X,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var X=this._input[0];this.yytext+=X,this.yyleng++,this.offset++,this.match+=X,this.matched+=X;var z=X.match(/(?:\r\n?|\n).*/g);return z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),X},unput:function(X){var z=X.length,j=X.split(/(?:\r\n?|\n)/g);this._input=X+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-z),this.offset-=z;var ht=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),j.length-1&&(this.yylineno-=j.length-1);var it=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:j?(j.length===ht.length?this.yylloc.first_column:0)+ht[ht.length-j.length].length-j[0].length:this.yylloc.first_column-z},this.options.ranges&&(this.yylloc.range=[it[0],it[0]+this.yyleng-z]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(X){this.unput(this.match.slice(X))},pastInput:function(){var X=this.matched.substr(0,this.matched.length-this.match.length);return(X.length>20?"...":"")+X.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var X=this.match;return X.length<20&&(X+=this._input.substr(0,20-X.length)),(X.substr(0,20)+(X.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var X=this.pastInput(),z=new Array(X.length+1).join("-");return X+this.upcomingInput()+`
`+z+"^"},test_match:function(X,z){var j,ht,it;if(this.options.backtrack_lexer&&(it={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(it.yylloc.range=this.yylloc.range.slice(0))),ht=X[0].match(/(?:\r\n?|\n).*/g),ht&&(this.yylineno+=ht.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ht?ht[ht.length-1].length-ht[ht.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+X[0].length},this.yytext+=X[0],this.match+=X[0],this.matches=X,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(X[0].length),this.matched+=X[0],j=this.performAction.call(this,this.yy,this,z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),j)return j;if(this._backtrack){for(var et in it)this[et]=it[et];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var X,z,j,ht;this._more||(this.yytext="",this.match="");for(var it=this._currentRules(),et=0;et<it.length;et++)if(j=this._input.match(this.rules[it[et]]),j&&(!z||j[0].length>z[0].length)){if(z=j,ht=et,this.options.backtrack_lexer){if(X=this.test_match(j,it[et]),X!==!1)return X;if(this._backtrack){z=!1;continue}else return!1}else if(!this.options.flex)break}return z?(X=this.test_match(z,it[ht]),X!==!1?X:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var z=this.next();return z||this.lex()},begin:function(z){this.conditionStack.push(z)},popState:function(){var z=this.conditionStack.length-1;return z>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(z){return z=this.conditionStack.length-1-Math.abs(z||0),z>=0?this.conditionStack[z]:"INITIAL"},pushState:function(z){this.begin(z)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(z,j,ht,it){switch(ht){case 0:return 41;case 1:return 42;case 2:return 43;case 3:return 44;case 4:return this.begin("open_directive"),50;case 5:return this.begin("type_directive"),51;case 6:return this.popState(),this.begin("arg_directive"),39;case 7:return this.popState(),this.popState(),53;case 8:return 52;case 9:break;case 10:break;case 11:return 5;case 12:break;case 13:break;case 14:break;case 15:break;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:this.popState();break;case 19:return this.begin("acc_title"),31;case 20:return this.popState(),"acc_title_value";case 21:return this.begin("acc_descr"),33;case 22:return this.popState(),"acc_descr_value";case 23:this.begin("acc_descr_multiline");break;case 24:this.popState();break;case 25:return"acc_descr_multiline_value";case 26:this.pushState("STATE");break;case 27:return this.popState(),j.yytext=j.yytext.slice(0,-8).trim(),23;case 28:return this.popState(),j.yytext=j.yytext.slice(0,-8).trim(),24;case 29:return this.popState(),j.yytext=j.yytext.slice(0,-10).trim(),25;case 30:return this.popState(),j.yytext=j.yytext.slice(0,-8).trim(),23;case 31:return this.popState(),j.yytext=j.yytext.slice(0,-8).trim(),24;case 32:return this.popState(),j.yytext=j.yytext.slice(0,-10).trim(),25;case 33:return 41;case 34:return 42;case 35:return 43;case 36:return 44;case 37:this.begin("STATE_STRING");break;case 38:return this.popState(),this.pushState("STATE_ID"),"AS";case 39:return this.popState(),"ID";case 40:this.popState();break;case 41:return"STATE_DESCR";case 42:return 17;case 43:this.popState();break;case 44:return this.popState(),this.pushState("struct"),18;case 45:return this.popState(),19;case 46:break;case 47:return this.begin("NOTE"),27;case 48:return this.popState(),this.pushState("NOTE_ID"),48;case 49:return this.popState(),this.pushState("NOTE_ID"),49;case 50:this.popState(),this.pushState("FLOATING_NOTE");break;case 51:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 52:break;case 53:return"NOTE_TEXT";case 54:return this.popState(),"ID";case 55:return this.popState(),this.pushState("NOTE_TEXT"),22;case 56:return this.popState(),j.yytext=j.yytext.substr(2).trim(),29;case 57:return this.popState(),j.yytext=j.yytext.slice(0,-8).trim(),29;case 58:return 7;case 59:return 7;case 60:return 14;case 61:return 47;case 62:return 22;case 63:return j.yytext=j.yytext.trim(),12;case 64:return 13;case 65:return 26;case 66:return 5;case 67:return"INVALID"}},rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,26,33,34,35,36,45,46,47,61,62,63,64,65],inclusive:!1},FLOATING_NOTE_ID:{rules:[54],inclusive:!1},FLOATING_NOTE:{rules:[51,52,53],inclusive:!1},NOTE_TEXT:{rules:[56,57],inclusive:!1},NOTE_ID:{rules:[55],inclusive:!1},NOTE:{rules:[48,49,50],inclusive:!1},acc_descr_multiline:{rules:[24,25],inclusive:!1},acc_descr:{rules:[22],inclusive:!1},acc_title:{rules:[20],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[39],inclusive:!1},STATE_STRING:{rules:[40,41],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,27,28,29,30,31,32,37,38,42,43,44],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,21,23,26,44,47,58,59,60,61,62,63,64,66,67],inclusive:!0}}};return ut}();B.lexer=G;function tt(){this.yy={}}return tt.prototype=B,B.Parser=tt,new tt}();rd.parser=rd;const Uyt=(t,e)=>{var n;return((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*stateDiagram/)!==null},Wyt=(t,e)=>{var n;return!!(t.match(/^\s*stateDiagram-v2/)!==null||t.match(/^\s*stateDiagram/)&&((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},Rf=t=>JSON.parse(JSON.stringify(t));let id=[];const Hyt=function(t,e,n){en.parseDirective(this,t,e,n)},Gyt=t=>{Y.info("Setting root doc",t),id=t},jyt=()=>id,c1=(t,e,n)=>{if(e.stmt==="relation")c1(t,e.state1,!0),c1(t,e.state2,!1);else if(e.stmt==="state"&&e.id==="[*]"&&(e.id=n?t.id+"_start":t.id+"_end",e.start=n),e.doc){const r=[];let i=0,a=[];for(i=0;i<e.doc.length;i++)if(e.doc[i].type==="divider"){const s=Rf(e.doc[i]);s.doc=Rf(a),r.push(s),a=[]}else a.push(e.doc[i]);if(r.length>0&&a.length>0){const s={stmt:"state",id:gI(),type:"divider",doc:Rf(a)};r.push(Rf(s)),e.doc=r}e.doc.forEach(s=>c1(e,s,!0))}},Xyt=()=>(c1({id:"root"},{id:"root",doc:id},!0),{id:"root",doc:id}),Kyt=t=>{let e;t.doc?e=t.doc:e=t,Y.info(e),kD(!0),Y.info("Extract",e),e.forEach(n=>{n.stmt==="state"&&ad(n.id,n.type,n.doc,n.description,n.note),n.stmt==="relation"&&TD(n.state1.id,n.state2.id,n.description)})},wD=()=>({relations:[],states:{},documents:{}});let mu={root:wD()},jn=mu.root,l1=0;const ad=function(t,e,n,r,i){typeof jn.states[t]>"u"?jn.states[t]={id:t,descriptions:[],type:e,doc:n,note:i}:(jn.states[t].doc||(jn.states[t].doc=n),jn.states[t].type||(jn.states[t].type=e)),r&&(Y.info("Adding state ",t,r),typeof r=="string"&&LE(t,r.trim()),typeof r=="object"&&r.forEach(a=>LE(t,a.trim()))),i&&(jn.states[t].note=i,jn.states[t].note.text=ge.sanitizeText(jn.states[t].note.text,J()))},kD=function(t){mu={root:wD()},jn=mu.root,jn=mu.root,l1=0,ED=[],t||Si()},Zyt=function(t){return jn.states[t]},Qyt=function(){return jn.states},Jyt=function(){Y.info("Documents = ",mu)},tmt=function(){return jn.relations},TD=function(t,e,n){let r=t,i=e,a="default",s="default";t==="[*]"&&(l1++,r="start"+l1,a="start"),e==="[*]"&&(i="end"+l1,s="end"),ad(r,a),ad(i,s),jn.relations.push({id1:r,id2:i,title:ge.sanitizeText(n,J())})},LE=function(t,e){const n=jn.states[t];let r=e;r[0]===":"&&(r=r.substr(1).trim()),n.descriptions.push(ge.sanitizeText(r,J()))},emt=function(t){return t.substring(0,1)===":"?t.substr(2).trim():t.trim()},nmt={LINE:0,DOTTED_LINE:1};let RE=0;const rmt=()=>(RE++,"divider-id-"+RE);let ED=[];const imt=()=>ED;let CD="TB";const amt=()=>CD,smt=t=>{CD=t},omt={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},cmt=t=>t&&t[0]===":"?t.substr(1).trim():t.trim(),Sa={parseDirective:Hyt,getConfig:()=>J().state,addState:ad,clear:kD,getState:Zyt,getStates:Qyt,getRelations:tmt,getClasses:imt,getDirection:amt,addRelation:TD,getDividerId:rmt,setDirection:smt,cleanupLabel:emt,lineType:nmt,relationType:omt,logDocuments:Jyt,getRootDoc:jyt,setRootDoc:Gyt,getRootDocV2:Xyt,extract:Kyt,trimColon:cmt,getAccTitle:Ai,setAccTitle:Qr,getAccDescription:Li,setAccDescription:Mi},lmt=t=>t.append("circle").attr("class","start-state").attr("r",J().state.sizeUnit).attr("cx",J().state.padding+J().state.sizeUnit).attr("cy",J().state.padding+J().state.sizeUnit),umt=t=>t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",J().state.textHeight).attr("class","divider").attr("x2",J().state.textHeight*2).attr("y1",0).attr("y2",0),hmt=(t,e)=>{const n=t.append("text").attr("x",2*J().state.padding).attr("y",J().state.textHeight+2*J().state.padding).attr("font-size",J().state.fontSize).attr("class","state-title").text(e.id),r=n.node().getBBox();return t.insert("rect",":first-child").attr("x",J().state.padding).attr("y",J().state.padding).attr("width",r.width+2*J().state.padding).attr("height",r.height+2*J().state.padding).attr("rx",J().state.radius),n},fmt=(t,e)=>{const n=function(f,p,y){const m=f.append("tspan").attr("x",2*J().state.padding).text(p);y||m.attr("dy",J().state.textHeight)},i=t.append("text").attr("x",2*J().state.padding).attr("y",J().state.textHeight+1.3*J().state.padding).attr("font-size",J().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),a=i.height,s=t.append("text").attr("x",J().state.padding).attr("y",a+J().state.padding*.4+J().state.dividerMargin+J().state.textHeight).attr("class","state-description");let o=!0,l=!0;e.descriptions.forEach(function(f){o||(n(s,f,l),l=!1),o=!1});const u=t.append("line").attr("x1",J().state.padding).attr("y1",J().state.padding+a+J().state.dividerMargin/2).attr("y2",J().state.padding+a+J().state.dividerMargin/2).attr("class","descr-divider"),h=s.node().getBBox(),d=Math.max(h.width,i.width);return u.attr("x2",d+3*J().state.padding),t.insert("rect",":first-child").attr("x",J().state.padding).attr("y",J().state.padding).attr("width",d+2*J().state.padding).attr("height",h.height+a+2*J().state.padding).attr("rx",J().state.radius),t},dmt=(t,e,n)=>{const r=J().state.padding,i=2*J().state.padding,a=t.node().getBBox(),s=a.width,o=a.x,l=t.append("text").attr("x",0).attr("y",J().state.titleShift).attr("font-size",J().state.fontSize).attr("class","state-title").text(e.id),h=l.node().getBBox().width+i;let d=Math.max(h,s);d===s&&(d=d+i);let f;const p=t.node().getBBox();e.doc,f=o-r,h>s&&(f=(s-d)/2+r),Math.abs(o-p.x)<r&&h>s&&(f=o-(h-s)/2);const y=1-J().state.textHeight;return t.insert("rect",":first-child").attr("x",f).attr("y",y).attr("class",n?"alt-composit":"composit").attr("width",d).attr("height",p.height+J().state.textHeight+J().state.titleShift+1).attr("rx","0"),l.attr("x",f+r),h<=s&&l.attr("x",o+(d-i)/2-h/2+r),t.insert("rect",":first-child").attr("x",f).attr("y",J().state.titleShift-J().state.textHeight-J().state.padding).attr("width",d).attr("height",J().state.textHeight*3).attr("rx",J().state.radius),t.insert("rect",":first-child").attr("x",f).attr("y",J().state.titleShift-J().state.textHeight-J().state.padding).attr("width",d).attr("height",p.height+3+2*J().state.textHeight).attr("rx",J().state.radius),t},pmt=t=>(t.append("circle").attr("class","end-state-outer").attr("r",J().state.sizeUnit+J().state.miniPadding).attr("cx",J().state.padding+J().state.sizeUnit+J().state.miniPadding).attr("cy",J().state.padding+J().state.sizeUnit+J().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",J().state.sizeUnit).attr("cx",J().state.padding+J().state.sizeUnit+2).attr("cy",J().state.padding+J().state.sizeUnit+2)),gmt=(t,e)=>{let n=J().state.forkWidth,r=J().state.forkHeight;if(e.parentId){let i=n;n=r,r=i}return t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",r).attr("x",J().state.padding).attr("y",J().state.padding)},ymt=(t,e,n,r)=>{let i=0;const a=r.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=t.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");const o=s.split(ge.lineBreakRegex);let l=1.25*J().state.noteMargin;for(const u of o){const h=u.trim();if(h.length>0){const d=a.append("tspan");if(d.text(h),l===0){const f=d.node().getBBox();l+=f.height}i+=l,d.attr("x",e+J().state.noteMargin),d.attr("y",n+i+1.25*J().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:i}},mmt=(t,e)=>{e.attr("class","state-note");const n=e.append("rect").attr("x",0).attr("y",J().state.padding),r=e.append("g"),{textWidth:i,textHeight:a}=ymt(t,0,0,r);return n.attr("height",a+2*J().state.noteMargin),n.attr("width",i+J().state.noteMargin*2),n},NE=function(t,e){const n=e.id,r={id:n,label:e.id,width:0,height:0},i=t.append("g").attr("id",n).attr("class","stateGroup");e.type==="start"&&lmt(i),e.type==="end"&&pmt(i),(e.type==="fork"||e.type==="join")&&gmt(i,e),e.type==="note"&&mmt(e.note.text,i),e.type==="divider"&&umt(i),e.type==="default"&&e.descriptions.length===0&&hmt(i,e),e.type==="default"&&e.descriptions.length>0&&fmt(i,e);const a=i.node().getBBox();return r.width=a.width+2*J().state.padding,r.height=a.height+2*J().state.padding,r};let IE=0;const bmt=function(t,e,n){const r=function(l){switch(l){case Sa.relationType.AGGREGATION:return"aggregation";case Sa.relationType.EXTENSION:return"extension";case Sa.relationType.COMPOSITION:return"composition";case Sa.relationType.DEPENDENCY:return"dependency"}};e.points=e.points.filter(l=>!Number.isNaN(l.y));const i=e.points,a=hh().x(function(l){return l.x}).y(function(l){return l.y}).curve(kc),s=t.append("path").attr("d",a(i)).attr("id","edge"+IE).attr("class","transition");let o="";if(J().state.arrowMarkerAbsolute&&(o=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,o=o.replace(/\(/g,"\\("),o=o.replace(/\)/g,"\\)")),s.attr("marker-end","url("+o+"#"+r(Sa.relationType.DEPENDENCY)+"End)"),typeof n.title<"u"){const l=t.append("g").attr("class","stateLabel"),{x:u,y:h}=Ae.calcLabelPosition(e.points),d=ge.getRows(n.title);let f=0;const p=[];let y=0,m=0;for(let k=0;k<=d.length;k++){const T=l.append("text").attr("text-anchor","middle").text(d[k]).attr("x",u).attr("y",h+f),S=T.node().getBBox();y=Math.max(y,S.width),m=Math.min(m,S.x),Y.info(S.x,u,h+f),f===0&&(f=T.node().getBBox().height,Y.info("Title height",f,h)),p.push(T)}let b=f*d.length;if(d.length>1){const k=(d.length-1)*f*.5;p.forEach((T,S)=>T.attr("y",h+S*f-k)),b=f*d.length}const x=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-y/2-J().state.padding/2).attr("y",h-b/2-J().state.padding/2-3.5).attr("width",y+J().state.padding).attr("height",b+J().state.padding),Y.info(x)}IE++};let Nr;const p3={},vmt=function(){},_mt=function(t){t.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},xmt=function(t,e,n,r){Nr=J().state;const i=J().securityLevel;let a;i==="sandbox"&&(a=Lt("#i"+e));const s=Lt(i==="sandbox"?a.nodes()[0].contentDocument.body:"body"),o=i==="sandbox"?a.nodes()[0].contentDocument:document;Y.debug("Rendering diagram "+t);const l=s.select(`[id='${e}']`);_mt(l),new gn.Graph({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const h=r.db.getRootDoc();SD(h,l,void 0,!1,s,o,r);const d=Nr.padding,f=l.node().getBBox(),p=f.width+d*2,y=f.height+d*2,m=p*1.75;Ci(l,y,m,Nr.useMaxWidth),l.attr("viewBox",`${f.x-Nr.padding}  ${f.y-Nr.padding} `+p+" "+y),kr(r.db,l,e)},wmt=t=>t?t.length*Nr.fontSizeFactor:1,SD=(t,e,n,r,i,a,s)=>{const o=new gn.Graph({compound:!0,multigraph:!0});let l,u=!0;for(l=0;l<t.length;l++)if(t[l].stmt==="relation"){u=!1;break}n?o.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:Nr.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):o.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:Nr.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),o.setDefaultEdgeLabel(function(){return{}}),s.db.extract(t);const h=s.db.getStates(),d=s.db.getRelations(),f=Object.keys(h);for(let x=0;x<f.length;x++){const k=h[f[x]];n&&(k.parentId=n);let T;if(k.doc){let S=e.append("g").attr("id",k.id).attr("class","stateGroup");T=SD(k.doc,S,k.id,!r,i,a,s);{S=dmt(S,k,r);let L=S.node().getBBox();T.width=L.width,T.height=L.height+Nr.padding/2,p3[k.id]={y:Nr.compositTitleSize}}}else T=NE(e,k);if(k.note){const S={descriptions:[],id:k.id+"-note",note:k.note,type:"note"},L=NE(e,S);k.note.position==="left of"?(o.setNode(T.id+"-note",L),o.setNode(T.id,T)):(o.setNode(T.id,T),o.setNode(T.id+"-note",L)),o.setParent(T.id,T.id+"-group"),o.setParent(T.id+"-note",T.id+"-group")}else o.setNode(T.id,T)}Y.debug("Count=",o.nodeCount(),o);let p=0;d.forEach(function(x){p++,Y.debug("Setting edge",x),o.setEdge(x.id1,x.id2,{relation:x,width:wmt(x.title),height:Nr.labelHeight*ge.getRows(x.title).length,labelpos:"c"},"id"+p)}),Gc.layout(o),Y.debug("Graph after layout",o.nodes());const y=e.node();o.nodes().forEach(function(x){typeof x<"u"&&typeof o.node(x)<"u"?(Y.warn("Node "+x+": "+JSON.stringify(o.node(x))),i.select("#"+y.id+" #"+x).attr("transform","translate("+(o.node(x).x-o.node(x).width/2)+","+(o.node(x).y+(p3[x]?p3[x].y:0)-o.node(x).height/2)+" )"),i.select("#"+y.id+" #"+x).attr("data-x-shift",o.node(x).x-o.node(x).width/2),a.querySelectorAll("#"+y.id+" #"+x+" .divider").forEach(T=>{const S=T.parentElement;let L=0,R=0;S&&(S.parentElement&&(L=S.parentElement.getBBox().width),R=parseInt(S.getAttribute("data-x-shift"),10),Number.isNaN(R)&&(R=0)),T.setAttribute("x1",0-R+8),T.setAttribute("x2",L-R-8)})):Y.debug("No Node "+x+": "+JSON.stringify(o.node(x)))});let m=y.getBBox();o.edges().forEach(function(x){typeof x<"u"&&typeof o.edge(x)<"u"&&(Y.debug("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(o.edge(x))),bmt(e,o.edge(x),o.edge(x).relation))}),m=y.getBBox();const b={id:n||"root",label:n||"root",width:0,height:0};return b.width=m.width+2*Nr.padding,b.height=m.height+2*Nr.padding,Y.debug("Doc rendered",b,o),b},kmt={setConf:vmt,draw:xmt},Tmt={},Emt=function(t){const e=Object.keys(t);for(let n=0;n<e.length;n++)Tmt[e[n]]=t[e[n]]};let Ve={};const Cmt=function(t,e){return Y.trace("Extracting classes"),e.sb.clear(),e.parser.parse(t),e.sb.getClasses()},u1=(t,e,n,r)=>{if(n.id!=="root"){let i="rect";n.start===!0&&(i="start"),n.start===!1&&(i="end"),n.type!=="default"&&(i=n.type),Ve[n.id]||(Ve[n.id]={id:n.id,shape:i,description:ge.sanitizeText(n.id,J()),classes:"statediagram-state"}),n.description&&(Array.isArray(Ve[n.id].description)?(Ve[n.id].shape="rectWithTitle",Ve[n.id].description.push(n.description)):Ve[n.id].description.length>0?(Ve[n.id].shape="rectWithTitle",Ve[n.id].description===n.id?Ve[n.id].description=[n.description]:Ve[n.id].description=[Ve[n.id].description,n.description]):(Ve[n.id].shape="rect",Ve[n.id].description=n.description),Ve[n.id].description=ge.sanitizeTextOrArray(Ve[n.id].description,J())),Ve[n.id].description.length===1&&Ve[n.id].shape==="rectWithTitle"&&(Ve[n.id].shape="rect"),!Ve[n.id].type&&n.doc&&(Y.info("Setting cluster for ",n.id,h_(n)),Ve[n.id].type="group",Ve[n.id].dir=h_(n),Ve[n.id].shape=n.type==="divider"?"divider":"roundedWithTitle",Ve[n.id].classes=Ve[n.id].classes+" "+(r?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));const a={labelStyle:"",shape:Ve[n.id].shape,labelText:Ve[n.id].description,classes:Ve[n.id].classes,style:"",id:n.id,dir:Ve[n.id].dir,domId:"state-"+n.id+"-"+ss,type:Ve[n.id].type,padding:15};if(n.note){const s={labelStyle:"",shape:"note",labelText:n.note.text,classes:"statediagram-note",style:"",id:n.id+"----note-"+ss,domId:"state-"+n.id+"----note-"+ss,type:Ve[n.id].type,padding:15},o={labelStyle:"",shape:"noteGroup",labelText:n.note.text,classes:Ve[n.id].classes,style:"",id:n.id+"----parent",domId:"state-"+n.id+"----parent-"+ss,type:"group",padding:0};ss++,t.setNode(n.id+"----parent",o),t.setNode(s.id,s),t.setNode(n.id,a),t.setParent(n.id,n.id+"----parent"),t.setParent(s.id,n.id+"----parent");let l=n.id,u=s.id;n.note.position==="left of"&&(l=s.id,u=n.id),t.setEdge(l,u,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else t.setNode(n.id,a)}e&&e.id!=="root"&&(Y.trace("Setting node ",n.id," to be child of its parent ",e.id),t.setParent(n.id,e.id)),n.doc&&(Y.trace("Adding nodes children "),Smt(t,n,n.doc,!r))};let ss=0;const Smt=(t,e,n,r)=>{Y.trace("items",n),n.forEach(i=>{if(i.stmt==="state"||i.stmt==="default")u1(t,e,i,r);else if(i.stmt==="relation"){u1(t,e,i.state1,r),u1(t,e,i.state2,r);const a={id:"edge"+ss,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:ge.sanitizeText(i.description,J()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"};let s=i.state1.id,o=i.state2.id;t.setEdge(s,o,a,ss),ss++}})},h_=(t,e)=>{let n=e||"TB";if(t.doc)for(let r=0;r<t.doc.length;r++){const i=t.doc[r];i.stmt==="dir"&&(n=i.value)}return n},Amt=function(t,e,n,r){Y.info("Drawing state diagram (v2)",e),Ve={},r.db.getDirection();const{securityLevel:i,state:a}=J(),s=a.nodeSpacing||50,o=a.rankSpacing||50;Y.info(r.db.getRootDocV2()),r.db.extract(r.db.getRootDocV2()),Y.info(r.db.getRootDocV2());const l=new gn.Graph({multigraph:!0,compound:!0}).setGraph({rankdir:h_(r.db.getRootDocV2()),nodesep:s,ranksep:o,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});u1(l,void 0,r.db.getRootDocV2(),!0);let u;i==="sandbox"&&(u=Lt("#i"+e));const h=Lt(i==="sandbox"?u.nodes()[0].contentDocument.body:"body"),d=h.select(`[id="${e}"]`),f=h.select("#"+e+" g");I5(f,l,["barb"],"statediagram",e);const p=8,y=d.node().getBBox(),m=y.width+p*2,b=y.height+p*2;d.attr("class","statediagram");const x=d.node().getBBox();Ci(d,b,m,a.useMaxWidth);const k=`${x.x-p} ${x.y-p} ${m} ${b}`;Y.debug(`viewBox ${k}`),d.attr("viewBox",k);const T=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label');for(let S=0;S<T.length;S++){const L=T[S],R=L.getBBox(),A=document.createElementNS("http://www.w3.org/2000/svg","rect");A.setAttribute("rx",0),A.setAttribute("ry",0),A.setAttribute("width",R.width),A.setAttribute("height",R.height),L.insertBefore(A,L.firstChild)}kr(r.db,d,e)},Mmt={setConf:Emt,getClasses:Cmt,draw:Amt};var f_=function(){var t=function(m,b,x,k){for(x=x||{},k=m.length;k--;x[m[k]]=b);return x},e=[1,2],n=[1,5],r=[6,9,11,17,18,20,22,23,24,26],i=[1,15],a=[1,16],s=[1,17],o=[1,18],l=[1,19],u=[1,20],h=[1,24],d=[4,6,9,11,17,18,20,22,23,24,26],f={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(b,x,k,T,S,L,R){var A=L.length-1;switch(S){case 1:return L[A-1];case 3:this.$=[];break;case 4:L[A-1].push(L[A]),this.$=L[A-1];break;case 5:case 6:this.$=L[A];break;case 7:case 8:this.$=[];break;case 11:T.setDiagramTitle(L[A].substr(6)),this.$=L[A].substr(6);break;case 12:this.$=L[A].trim(),T.setAccTitle(this.$);break;case 13:case 14:this.$=L[A].trim(),T.setAccDescription(this.$);break;case 15:T.addSection(L[A].substr(8)),this.$=L[A].substr(8);break;case 16:T.addTask(L[A-1],L[A]),this.$="task";break;case 18:T.parseDirective("%%{","open_directive");break;case 19:T.parseDirective(L[A],"type_directive");break;case 20:L[A]=L[A].trim().replace(/'/g,'"'),T.parseDirective(L[A],"arg_directive");break;case 21:T.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:e,7:3,12:4,26:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:i,18:a,20:s,22:o,23:l,24:u,26:n},{1:[2,2]},{14:22,15:[1,23],29:h},t([15,29],[2,19]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:21,10:25,12:4,17:i,18:a,20:s,22:o,23:l,24:u,26:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),{19:[1,26]},{21:[1,27]},t(r,[2,14]),t(r,[2,15]),{25:[1,28]},t(r,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},t(r,[2,5]),t(r,[2,12]),t(r,[2,13]),t(r,[2,16]),t(d,[2,9]),{14:32,29:h},{29:[2,20]},{11:[1,33]},t(d,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(b,x){if(x.recoverable)this.trace(b);else{var k=new Error(b);throw k.hash=x,k}},parse:function(b){var x=this,k=[0],T=[],S=[null],L=[],R=this.table,A="",I=0,C=0,N=2,v=1,E=L.slice.call(arguments,1),_=Object.create(this.lexer),V={yy:{}};for(var B in this.yy)Object.prototype.hasOwnProperty.call(this.yy,B)&&(V.yy[B]=this.yy[B]);_.setInput(b,V.yy),V.yy.lexer=_,V.yy.parser=this,typeof _.yylloc>"u"&&(_.yylloc={});var G=_.yylloc;L.push(G);var tt=_.options&&_.options.ranges;typeof V.yy.parseError=="function"?this.parseError=V.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ut(){var F;return F=T.pop()||_.lex()||v,typeof F!="number"&&(F instanceof Array&&(T=F,F=T.pop()),F=x.symbols_[F]||F),F}for(var X,z,j,ht,it={},et,ft,st,wt;;){if(z=k[k.length-1],this.defaultActions[z]?j=this.defaultActions[z]:((X===null||typeof X>"u")&&(X=ut()),j=R[z]&&R[z][X]),typeof j>"u"||!j.length||!j[0]){var Z="";wt=[];for(et in R[z])this.terminals_[et]&&et>N&&wt.push("'"+this.terminals_[et]+"'");_.showPosition?Z="Parse error on line "+(I+1)+`:
`+_.showPosition()+`
Expecting `+wt.join(", ")+", got '"+(this.terminals_[X]||X)+"'":Z="Parse error on line "+(I+1)+": Unexpected "+(X==v?"end of input":"'"+(this.terminals_[X]||X)+"'"),this.parseError(Z,{text:_.match,token:this.terminals_[X]||X,line:_.yylineno,loc:G,expected:wt})}if(j[0]instanceof Array&&j.length>1)throw new Error("Parse Error: multiple actions possible at state: "+z+", token: "+X);switch(j[0]){case 1:k.push(X),S.push(_.yytext),L.push(_.yylloc),k.push(j[1]),X=null,C=_.yyleng,A=_.yytext,I=_.yylineno,G=_.yylloc;break;case 2:if(ft=this.productions_[j[1]][1],it.$=S[S.length-ft],it._$={first_line:L[L.length-(ft||1)].first_line,last_line:L[L.length-1].last_line,first_column:L[L.length-(ft||1)].first_column,last_column:L[L.length-1].last_column},tt&&(it._$.range=[L[L.length-(ft||1)].range[0],L[L.length-1].range[1]]),ht=this.performAction.apply(it,[A,C,I,V.yy,j[1],S,L].concat(E)),typeof ht<"u")return ht;ft&&(k=k.slice(0,-1*ft*2),S=S.slice(0,-1*ft),L=L.slice(0,-1*ft)),k.push(this.productions_[j[1]][0]),S.push(it.$),L.push(it._$),st=R[k[k.length-2]][k[k.length-1]],k.push(st);break;case 3:return!0}}return!0}},p=function(){var m={EOF:1,parseError:function(x,k){if(this.yy.parser)this.yy.parser.parseError(x,k);else throw new Error(x)},setInput:function(b,x){return this.yy=x||this.yy||{},this._input=b,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var b=this._input[0];this.yytext+=b,this.yyleng++,this.offset++,this.match+=b,this.matched+=b;var x=b.match(/(?:\r\n?|\n).*/g);return x?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),b},unput:function(b){var x=b.length,k=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-x),this.offset-=x;var T=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),k.length-1&&(this.yylineno-=k.length-1);var S=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:k?(k.length===T.length?this.yylloc.first_column:0)+T[T.length-k.length].length-k[0].length:this.yylloc.first_column-x},this.options.ranges&&(this.yylloc.range=[S[0],S[0]+this.yyleng-x]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(b){this.unput(this.match.slice(b))},pastInput:function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(b.length>20?"...":"")+b.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var b=this.match;return b.length<20&&(b+=this._input.substr(0,20-b.length)),(b.substr(0,20)+(b.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var b=this.pastInput(),x=new Array(b.length+1).join("-");return b+this.upcomingInput()+`
`+x+"^"},test_match:function(b,x){var k,T,S;if(this.options.backtrack_lexer&&(S={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(S.yylloc.range=this.yylloc.range.slice(0))),T=b[0].match(/(?:\r\n?|\n).*/g),T&&(this.yylineno+=T.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:T?T[T.length-1].length-T[T.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],k=this.performAction.call(this,this.yy,this,x,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),k)return k;if(this._backtrack){for(var L in S)this[L]=S[L];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b,x,k,T;this._more||(this.yytext="",this.match="");for(var S=this._currentRules(),L=0;L<S.length;L++)if(k=this._input.match(this.rules[S[L]]),k&&(!x||k[0].length>x[0].length)){if(x=k,T=L,this.options.backtrack_lexer){if(b=this.test_match(k,S[L]),b!==!1)return b;if(this._backtrack){x=!1;continue}else return!1}else if(!this.options.flex)break}return x?(b=this.test_match(x,S[T]),b!==!1?b:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var x=this.next();return x||this.lex()},begin:function(x){this.conditionStack.push(x)},popState:function(){var x=this.conditionStack.length-1;return x>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(x){return x=this.conditionStack.length-1-Math.abs(x||0),x>=0?this.conditionStack[x]:"INITIAL"},pushState:function(x){this.begin(x)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(x,k,T,S){switch(T){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return m}();f.lexer=p;function y(){this.yy={}}return y.prototype=f,f.Parser=y,new y}();f_.parser=f_;const Lmt=t=>t.match(/^\s*journey/)!==null;let Uc="";const Q5=[],rh=[],yc=[],Rmt=function(t,e,n){en.parseDirective(this,t,e,n)},Nmt=function(){Q5.length=0,rh.length=0,Uc="",yc.length=0,Si()},Imt=function(t){Uc=t,Q5.push(t)},Bmt=function(){return Q5},Dmt=function(){let t=BE();const e=100;let n=0;for(;!t&&n<e;)t=BE(),n++;return rh.push(...yc),rh},Omt=function(){const t=[];return rh.forEach(n=>{n.people&&t.push(...n.people)}),[...new Set(t)].sort()},Fmt=function(t,e){const n=e.substr(1).split(":");let r=0,i=[];n.length===1?(r=Number(n[0]),i=[]):(r=Number(n[0]),i=n[1].split(","));const a=i.map(o=>o.trim()),s={section:Uc,type:Uc,people:a,task:t,score:r};yc.push(s)},Pmt=function(t){const e={section:Uc,type:Uc,description:t,task:t,classes:[]};rh.push(e)},BE=function(){const t=function(n){return yc[n].processed};let e=!0;for(let n=0;n<yc.length;n++)t(n),e=e&&yc[n].processed;return e},$mt=function(){return Omt()},DE={parseDirective:Rmt,getConfig:()=>J().journey,clear:Nmt,setDiagramTitle:_2,getDiagramTitle:x2,setAccTitle:Qr,getAccTitle:Ai,setAccDescription:Mi,getAccDescription:Li,addSection:Imt,getSections:Bmt,getTasks:Dmt,addTask:Fmt,addTaskOrg:Pmt,getActors:$mt},B2=function(t,e){const n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),typeof e.class<"u"&&n.attr("class",e.class),n},qmt=function(t,e){const r=t.append("circle").attr("cx",e.cx).attr("cy",e.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=t.append("g");i.append("circle").attr("cx",e.cx-15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",e.cx+15/3).attr("cy",e.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function a(l){const u=B3().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+2)+")")}function s(l){const u=B3().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);l.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+e.cx+","+(e.cy+7)+")")}function o(l){l.append("line").attr("class","mouth").attr("stroke",2).attr("x1",e.cx-5).attr("y1",e.cy+7).attr("x2",e.cx+5).attr("y2",e.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return e.score>3?a(i):e.score<3?s(i):o(i),r},AD=function(t,e){const n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),typeof n.class<"u"&&n.attr("class",n.class),typeof e.title<"u"&&n.append("title").text(e.title),n},MD=function(t,e){const n=e.text.replace(/<br\s*\/?>/gi," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.attr("class","legend"),r.style("text-anchor",e.anchor),typeof e.class<"u"&&r.attr("class",e.class);const i=r.append("tspan");return i.attr("x",e.x+e.textMargin*2),i.text(n),r},Vmt=function(t,e){function n(i,a,s,o,l){return i+","+a+" "+(i+s)+","+a+" "+(i+s)+","+(a+o-l)+" "+(i+s-l*1.2)+","+(a+o)+" "+i+","+(a+o)}const r=t.append("polygon");r.attr("points",n(e.x,e.y,50,20,7)),r.attr("class","labelBox"),e.y=e.y+e.labelMargin,e.x=e.x+.5*e.labelMargin,MD(t,e)},Ymt=function(t,e,n){const r=t.append("g"),i=J5();i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=n.width,i.height=n.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,B2(r,i),LD(n)(e.text,r,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},n,e.colour)};let OE=-1;const zmt=function(t,e,n){const r=e.x+n.width/2,i=t.append("g");OE++;const a=300+5*30;i.append("line").attr("id","task"+OE).attr("x1",r).attr("y1",e.y).attr("x2",r).attr("y2",a).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),qmt(i,{cx:r,cy:300+(5-e.score)*30,score:e.score});const s=J5();s.x=e.x,s.y=e.y,s.fill=e.fill,s.width=n.width,s.height=n.height,s.class="task task-type-"+e.num,s.rx=3,s.ry=3,B2(i,s);let o=e.x+14;e.people.forEach(l=>{const u=e.actors[l].color,h={cx:o,cy:e.y,r:7,fill:u,stroke:"#000",title:l,pos:e.actors[l].position};AD(i,h),o+=10}),LD(n)(e.task,i,s.x,s.y,s.width,s.height,{class:"task"},n,e.colour)},Umt=function(t,e){B2(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()},Wmt=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},J5=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},LD=function(){function t(i,a,s,o,l,u,h,d){const f=a.append("text").attr("x",s+l/2).attr("y",o+u/2+5).style("font-color",d).style("text-anchor","middle").text(i);r(f,h)}function e(i,a,s,o,l,u,h,d,f){const{taskFontSize:p,taskFontFamily:y}=d,m=i.split(/<br\s*\/?>/gi);for(let b=0;b<m.length;b++){const x=b*p-p*(m.length-1)/2,k=a.append("text").attr("x",s+l/2).attr("y",o).attr("fill",f).style("text-anchor","middle").style("font-size",p).style("font-family",y);k.append("tspan").attr("x",s+l/2).attr("dy",x).text(m[b]),k.attr("y",o+u/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(k,h)}}function n(i,a,s,o,l,u,h,d){const f=a.append("switch"),y=f.append("foreignObject").attr("x",s).attr("y",o).attr("width",l).attr("height",u).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");y.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(i),e(i,f,s,o,l,u,h,d),r(y,h)}function r(i,a){for(const s in a)s in a&&i.attr(s,a[s])}return function(i){return i.textPlacement==="fo"?n:i.textPlacement==="old"?t:e}}(),Hmt=function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},ih={drawRect:B2,drawCircle:AD,drawSection:Ymt,drawText:MD,drawLabel:Vmt,drawTask:zmt,drawBackgroundRect:Umt,getTextObj:Wmt,getNoteRect:J5,initGraphics:Hmt},Gmt=function(t){Object.keys(t).forEach(function(n){D2[n]=t[n]})},Da={};function jmt(t){const e=J().journey;let n=60;Object.keys(Da).forEach(r=>{const i=Da[r].color,a={cx:20,cy:n,r:7,fill:i,stroke:"#000",pos:Da[r].position};ih.drawCircle(t,a);const s={x:40,y:n+7,fill:"#666",text:r,textMargin:e.boxTextMargin|5};ih.drawText(t,s),n+=20})}const D2=J().journey,Xs=D2.leftMargin,Xmt=function(t,e,n,r){const i=J().journey;r.db.clear(),r.parser.parse(t+`
`);const a=J().securityLevel;let s;a==="sandbox"&&(s=Lt("#i"+e));const o=Lt(a==="sandbox"?s.nodes()[0].contentDocument.body:"body");zr.init();const l=o.select("#"+e);ih.initGraphics(l);const u=r.db.getTasks(),h=r.db.getDiagramTitle(),d=r.db.getActors();for(const x in Da)delete Da[x];let f=0;d.forEach(x=>{Da[x]={color:i.actorColours[f%i.actorColours.length],position:f},f++}),jmt(l),zr.insert(0,0,Xs,Object.keys(Da).length*50),Kmt(l,u,0);const p=zr.getBounds();h&&l.append("text").text(h).attr("x",Xs).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const y=p.stopy-p.starty+2*i.diagramMarginY,m=Xs+p.stopx+2*i.diagramMarginX;Ci(l,y,m,i.useMaxWidth),l.append("line").attr("x1",Xs).attr("y1",i.height*4).attr("x2",m-Xs-4).attr("y2",i.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const b=h?70:0;l.attr("viewBox",`${p.startx} -25 ${m} ${y+b}`),l.attr("preserveAspectRatio","xMinYMin meet"),l.attr("height",y+b+25),kr(r.db,l,e)},zr={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,n,r){typeof t[e]>"u"?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){const i=J().journey,a=this;let s=0;function o(l){return function(h){s++;const d=a.sequenceItems.length-s+1;a.updateVal(h,"starty",e-d*i.boxMargin,Math.min),a.updateVal(h,"stopy",r+d*i.boxMargin,Math.max),a.updateVal(zr.data,"startx",t-d*i.boxMargin,Math.min),a.updateVal(zr.data,"stopx",n+d*i.boxMargin,Math.max),l!=="activation"&&(a.updateVal(h,"startx",t-d*i.boxMargin,Math.min),a.updateVal(h,"stopx",n+d*i.boxMargin,Math.max),a.updateVal(zr.data,"starty",e-d*i.boxMargin,Math.min),a.updateVal(zr.data,"stopy",r+d*i.boxMargin,Math.max))}}this.sequenceItems.forEach(o())},insert:function(t,e,n,r){const i=Math.min(t,n),a=Math.max(t,n),s=Math.min(e,r),o=Math.max(e,r);this.updateVal(zr.data,"startx",i,Math.min),this.updateVal(zr.data,"starty",s,Math.min),this.updateVal(zr.data,"stopx",a,Math.max),this.updateVal(zr.data,"stopy",o,Math.max),this.updateBounds(i,s,a,o)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},g3=D2.sectionFills,FE=D2.sectionColours,Kmt=function(t,e,n){const r=J().journey;let i="";const a=r.height*2+r.diagramMarginY,s=n+a;let o=0,l="#CCC",u="black",h=0;for(let d=0;d<e.length;d++){const f=e[d];if(i!==f.section){l=g3[o%g3.length],h=o%g3.length,u=FE[o%FE.length];const y={x:d*r.taskMargin+d*r.width+Xs,y:50,text:f.section,fill:l,num:h,colour:u};ih.drawSection(t,y,r),i=f.section,o++}const p=f.people.reduce((y,m)=>(Da[m]&&(y[m]=Da[m]),y),{});f.x=d*r.taskMargin+d*r.width+Xs,f.y=s,f.width=r.diagramMarginX,f.height=r.diagramMarginY,f.colour=u,f.fill=l,f.num=h,f.actors=p,ih.drawTask(t,f,r),zr.insert(f.x,f.y,f.x+f.width+r.taskMargin,300+5*30)}},PE={setConf:Gmt,draw:Xmt};let $E={};const Zmt=function(t){$E={...$E,...t}},Qmt=(t,e,n)=>{try{Y.debug(`Renering svg for syntax error
`);const r=Lt("#"+e),i=r.append("g");i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+n),r.attr("height",100),r.attr("width",500),r.attr("viewBox","768 0 912 512")}catch(r){Y.error("Error while rendering info diagram"),Y.error(fht(r))}},tx={setConf:Zmt,draw:Qmt};let qE=!1;const Lh=()=>{qE||(qE=!0,Ln("error",{db:{clear:()=>{}},styles:EI,renderer:tx,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},t=>t.toLowerCase().trim()==="error"),Ln("c4",{parser:Ku,db:UI,renderer:$9,styles:NI,init:t=>{$9.setConf(t.c4)}},yft),Ln("class",{parser:G0,db:rc,renderer:$1t,styles:hu,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,rc.clear()}},h1t),Ln("classDiagram",{parser:G0,db:rc,renderer:X0t,styles:hu,init:t=>{t.class||(t.class={}),t.class.arrowMarkerAbsolute=t.arrowMarkerAbsolute,rc.clear()}},f1t),Ln("er",{parser:jv,db:adt,renderer:ydt,styles:TI},K0t),Ln("gantt",{parser:Kv,db:j5,renderer:egt,styles:CI},kpt),Ln("info",{parser:t_,db:sgt,renderer:cgt,styles:SI},lgt),Ln("pie",{parser:e_,db:bgt,renderer:_gt,styles:AI},ugt),Ln("requirement",{parser:n_,db:qgt,renderer:Xgt,styles:MI},xgt),Ln("sequence",{parser:i_,db:SE,renderer:ME,styles:LI,init:t=>{if(t.sequence||(t.sequence={}),t.sequence.arrowMarkerAbsolute=t.arrowMarkerAbsolute,"sequenceDiagram"in t)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");SE.setWrap(t.wrap),ME.setConf(t.sequence)}},Kgt),Ln("state",{parser:rd,db:Sa,renderer:kmt,styles:$0,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Sa.clear()}},Uyt),Ln("stateDiagram",{parser:rd,db:Sa,renderer:Mmt,styles:$0,init:t=>{t.state||(t.state={}),t.state.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Sa.clear()}},Wyt),Ln("journey",{parser:f_,db:DE,renderer:PE,styles:RI,init:t=>{PE.setConf(t.journey),DE.clear()}},Lmt),Ln("flowchart",{parser:Z0,db:Ca,renderer:d3,styles:P0,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,Y5.setConf(t.flowchart),Ca.clear(),Ca.setGen("gen-1")}},mdt),Ln("flowchart-v2",{parser:Z0,db:Ca,renderer:d3,styles:P0,init:t=>{t.flowchart||(t.flowchart={}),t.flowchart.arrowMarkerAbsolute=t.arrowMarkerAbsolute,_I({flowchart:{arrowMarkerAbsolute:t.arrowMarkerAbsolute}}),d3.setConf(t.flowchart),Ca.clear(),Ca.setGen("gen-2")}},bdt),Ln("gitGraph",{parser:Yv,db:sft,renderer:pft,styles:gft},Vht))};class ah{constructor(e,n){Cl(this,"type","graph"),Cl(this,"parser"),Cl(this,"renderer"),Cl(this,"db"),Cl(this,"detectTypeFailed",!1);var r,i;this.txt=e;const a=J();this.txt=e;try{this.type=g5(e,a)}catch(o){this.handleError(o,n),this.type="error",this.detectTypeFailed=!0}const s=DI(this.type);Y.debug("Type "+this.type),this.db=s.db,(i=(r=this.db).clear)==null||i.call(r),this.renderer=s.renderer,this.parser=s.parser,this.parser.parser.yy=this.db,s.init&&(s.init(a),Y.debug("Initialized diagram "+this.type,a)),this.txt+=`
`,this.parse(this.txt,n)}parse(e,n){if(this.detectTypeFailed)return!1;try{return e=e+`
`,this.db.clear(),this.parser.parse(e),!0}catch(r){this.handleError(r,n)}return!1}handleError(e,n){if(n)_5(e)?n(e.str,e.hash):n(e);else throw e}getParser(){return this.parser}getType(){return this.type}}const ex=(t,e)=>{const n=g5(t,J());try{return DI(n),new ah(t,e)}catch(r){if(!(r instanceof OI))throw Y.error(r),r;const i=plt(n);if(!i)throw new Error(`Loader for ${n} not found.`);return i().then(({diagram:a})=>(Ln(n,a,void 0),new ah(t,e)))}};function Jmt(t,e){return Lh(),new ah(t,e).parse(t,e)}async function tbt(t,e){return Lh(),(await ex(t,e)).parse(t,e)}const RD=function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?"\uFB02\xB0\xB0"+r+"\xB6\xDF":"\uFB02\xB0"+r+"\xB6\xDF"}),e},O2=function(t){let e=t;return e=e.replace(/ﬂ°°/g,function(){return"&#"}),e=e.replace(/ﬂ°/g,function(){return"&"}),e=e.replace(/¶ß/g,function(){return";"}),e},ebt=function(t,e,n,r){var i;Lh(),Gu(),e=e.replace(/\r\n?/g,`
`);const a=Ae.detectInit(e);a&&(xo(a),x5(a));const s=J();Y.debug(s),e.length>s.maxTextSize&&(e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let o=Lt("body");if(typeof r<"u"){if(r&&(r.innerHTML=""),s.securityLevel==="sandbox"){const L=Lt(r).append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");o=Lt(L.nodes()[0].contentDocument.body),o.node().style.margin=0}else o=Lt(r);o.append("div").attr("id","d"+t).attr("style","font-family: "+s.fontFamily).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{const L=document.getElementById(t);L&&L.remove();let R;if(s.securityLevel==="sandbox"?R=document.querySelector("#i"+t):R=document.querySelector("#d"+t),R&&R.remove(),s.securityLevel==="sandbox"){const A=Lt("body").append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");o=Lt(A.nodes()[0].contentDocument.body),o.node().style.margin=0}else o=Lt("body");o.append("div").attr("id","d"+t).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}e=RD(e);let l,u;try{if(l=ex(e),"then"in l)throw new Error("Diagram is a promise")}catch(L){l=new ah("error"),u=L}const h=o.select("#d"+t).node(),d=l.type,f=h.firstChild,p=f.firstChild;let y="";if(s.themeCSS!==void 0&&(y+=`
${s.themeCSS}`),s.fontFamily!==void 0&&(y+=`
:root { --mermaid-font-family: ${s.fontFamily}}`),s.altFontFamily!==void 0&&(y+=`
:root { --mermaid-alt-font-family: ${s.altFontFamily}}`),d==="flowchart"||d==="flowchart-v2"||d==="graph"){const L=Y5.getClasses(e,l),R=s.htmlLabels||((i=s.flowchart)==null?void 0:i.htmlLabels);for(const A in L)R?(y+=`
.${A} > * { ${L[A].styles.join(" !important; ")} !important; }`,y+=`
.${A} span { ${L[A].styles.join(" !important; ")} !important; }`):(y+=`
.${A} path { ${L[A].styles.join(" !important; ")} !important; }`,y+=`
.${A} rect { ${L[A].styles.join(" !important; ")} !important; }`,y+=`
.${A} polygon { ${L[A].styles.join(" !important; ")} !important; }`,y+=`
.${A} ellipse { ${L[A].styles.join(" !important; ")} !important; }`,y+=`
.${A} circle { ${L[A].styles.join(" !important; ")} !important; }`,L[A].textStyles&&(y+=`
.${A} tspan { ${L[A].textStyles.join(" !important; ")} !important; }`))}const b=((L,R)=>L1(NS(`${L}{${R}}`),IS))(`#${t}`,II(d,y,s.themeVariables)),x=document.createElement("style");x.innerHTML=`#${t} `+b,f.insertBefore(x,p);try{l.renderer.draw(e,t,F0.version,l)}catch(L){throw tx.draw(e,t,F0.version),L}o.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let k=o.select("#d"+t).node().innerHTML;if(Y.debug("cnf.arrowMarkerAbsolute",s.arrowMarkerAbsolute),!In(s.arrowMarkerAbsolute)&&s.securityLevel!=="sandbox"&&(k=k.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),k=O2(k),k=k.replace(/<br>/g,"<br/>"),s.securityLevel==="sandbox"){const L=o.select("#d"+t+" svg").node(),R="100%";let A="100%";L&&(A=L.viewBox.baseVal.height+"px"),k=`<iframe style="width:${R};height:${A};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+k+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The \u201Ciframe\u201D tag is not supported by your browser.
</iframe>`}else s.securityLevel!=="loose"&&(k=wu.sanitize(k,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(typeof n<"u")switch(d){case"flowchart":case"flowchart-v2":n(k,Ca.bindFunctions);break;case"gantt":n(k,j5.bindFunctions);break;case"class":case"classDiagram":n(k,rc.bindFunctions);break;default:n(k)}else Y.debug("CB = undefined!");dD();const T=s.securityLevel==="sandbox"?"#i"+t:"#d"+t,S=Lt(T).node();if(S&&"remove"in S&&S.remove(),u)throw u;return k},nbt=async function(t,e,n,r){var i;Lh(),Gu(),e=e.replace(/\r\n?/g,`
`);const a=Ae.detectInit(e);a&&(xo(a),x5(a));const s=J();Y.debug(s),e.length>s.maxTextSize&&(e="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let o=Lt("body");if(typeof r<"u"){if(r&&(r.innerHTML=""),s.securityLevel==="sandbox"){const L=Lt(r).append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");o=Lt(L.nodes()[0].contentDocument.body),o.node().style.margin=0}else o=Lt(r);o.append("div").attr("id","d"+t).attr("style","font-family: "+s.fontFamily).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").append("g")}else{const L=document.getElementById(t);L&&L.remove();let R;if(s.securityLevel==="sandbox"?R=document.querySelector("#i"+t):R=document.querySelector("#d"+t),R&&R.remove(),s.securityLevel==="sandbox"){const A=Lt("body").append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");o=Lt(A.nodes()[0].contentDocument.body),o.node().style.margin=0}else o=Lt("body");o.append("div").attr("id","d"+t).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}e=RD(e);let l,u;try{l=await ex(e)}catch(L){l=new ah("error"),u=L}const h=o.select("#d"+t).node(),d=l.type,f=h.firstChild,p=f.firstChild;let y="";if(s.themeCSS!==void 0&&(y+=`
${s.themeCSS}`),s.fontFamily!==void 0&&(y+=`
:root { --mermaid-font-family: ${s.fontFamily}}`),s.altFontFamily!==void 0&&(y+=`
:root { --mermaid-alt-font-family: ${s.altFontFamily}}`),d==="flowchart"||d==="flowchart-v2"||d==="graph"){const L=Y5.getClasses(e,l),R=s.htmlLabels||((i=s.flowchart)==null?void 0:i.htmlLabels);for(const A in L)R?(y+=`
.${A} > * { ${L[A].styles.join(" !important; ")} !important; }`,y+=`
.${A} span { ${L[A].styles.join(" !important; ")} !important; }`):(y+=`
.${A} path { ${L[A].styles.join(" !important; ")} !important; }`,y+=`
.${A} rect { ${L[A].styles.join(" !important; ")} !important; }`,y+=`
.${A} polygon { ${L[A].styles.join(" !important; ")} !important; }`,y+=`
.${A} ellipse { ${L[A].styles.join(" !important; ")} !important; }`,y+=`
.${A} circle { ${L[A].styles.join(" !important; ")} !important; }`,L[A].textStyles&&(y+=`
.${A} tspan { ${L[A].textStyles.join(" !important; ")} !important; }`))}const b=((L,R)=>L1(NS(`${L}{${R}}`),IS))(`#${t}`,II(d,y,s.themeVariables)),x=document.createElement("style");x.innerHTML=`#${t} `+b,f.insertBefore(x,p);try{await l.renderer.draw(e,t,F0.version,l)}catch(L){throw tx.draw(e,t,F0.version),L}o.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let k=o.select("#d"+t).node().innerHTML;if(Y.debug("cnf.arrowMarkerAbsolute",s.arrowMarkerAbsolute),!In(s.arrowMarkerAbsolute)&&s.securityLevel!=="sandbox"&&(k=k.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),k=O2(k),k=k.replace(/<br>/g,"<br/>"),s.securityLevel==="sandbox"){const L=o.select("#d"+t+" svg").node(),R="100%";let A="100%";L&&(A=L.viewBox.baseVal.height+"px"),k=`<iframe style="width:${R};height:${A};border:0;margin:0;" src="data:text/html;base64,${btoa('<body style="margin:0">'+k+"</body>")}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The \u201Ciframe\u201D tag is not supported by your browser.
</iframe>`}else s.securityLevel!=="loose"&&(k=wu.sanitize(k,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(typeof n<"u")switch(d){case"flowchart":case"flowchart-v2":n(k,Ca.bindFunctions);break;case"gantt":n(k,j5.bindFunctions);break;case"class":case"classDiagram":n(k,rc.bindFunctions);break;default:n(k)}else Y.debug("CB = undefined!");dD();const T=s.securityLevel==="sandbox"?"#i"+t:"#d"+t,S=Lt(T).node();if(S&&"remove"in S&&S.remove(),u)throw u;return k};let zs={};const rbt=function(t,e,n,r){try{if(e!==void 0)switch(e=e.trim(),n){case"open_directive":zs={};break;case"type_directive":if(!zs)throw new Error("currentDirective is undefined");zs.type=e.toLowerCase();break;case"arg_directive":if(!zs)throw new Error("currentDirective is undefined");zs.args=JSON.parse(e);break;case"close_directive":ibt(t,zs,r),zs=void 0;break}}catch(i){Y.error(`Error while rendering sequenceDiagram directive: ${e} jison context: ${n}`),Y.error(i.message)}},ibt=function(t,e,n){switch(Y.debug(`Directive type=${e.type} with args:`,e.args),e.type){case"init":case"initialize":{["config"].forEach(r=>{typeof e.args[r]<"u"&&(n==="flowchart-v2"&&(n="flowchart"),e.args[n]=e.args[r],delete e.args[r])}),Y.debug("sanitize in handleDirective",e.args),xo(e.args),Y.debug("sanitize in handleDirective (done)",e.args),x5(e.args);break}case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap(e.type==="wrap");break;case"themeCss":Y.warn("themeCss encountered");break;default:Y.warn(`Unhandled directive: source: '%%{${e.type}: ${JSON.stringify(e.args?e.args:{})}}%%`,e);break}};function abt(t={}){t.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),Iht(t),(t==null?void 0:t.theme)&&t.theme in Oa?t.themeVariables=Oa[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Oa.default.getThemeVariables(t.themeVariables));const e=typeof t=="object"?Nht(t):vI();p5(e.logLevel),Lh()}const en=Object.freeze({render:ebt,renderAsync:nbt,parse:Jmt,parseAsync:tbt,parseDirective:rbt,initialize:abt,getConfig:J,setConfig:_I,getSiteConfig:vI,updateSiteConfig:Bht,reset:()=>{Gu()},globalReset:()=>{Gu(Oc)},defaultConfig:Oc});p5(J().logLevel);Gu(J());let ND=!1;const sbt=async function(t,e,n){try{ND?await DD(t,e,n):BD(t,e,n)}catch(r){Y.warn("Syntax Error rendering"),_5(r)&&Y.warn(r.str),Fr.parseError&&Fr.parseError(r)}},ID=(t,e,n)=>{Y.warn(t),_5(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},BD=function(t,e,n){const r=en.getConfig();t&&(Fr.sequenceConfig=t),Y.debug(`${n?"":"No "}Callback function found`);let i;if(typeof e>"u")i=document.querySelectorAll(".mermaid");else if(typeof e=="string")i=document.querySelectorAll(e);else if(e instanceof HTMLElement)i=[e];else if(e instanceof NodeList)i=e;else throw new Error("Invalid argument nodes for mermaid.init");Y.debug(`Found ${i.length} diagrams`),typeof(t==null?void 0:t.startOnLoad)<"u"&&(Y.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),en.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const a=new Ae.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let s;const o=[];for(const l of Array.from(i)){Y.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;s=l.innerHTML,s=Ae.entityDecode(s).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=Ae.detectInit(s);h&&Y.debug("Detected early reinit: ",h);try{en.render(u,s,(d,f)=>{l.innerHTML=d,typeof n<"u"&&n(u),f&&f(l)},l)}catch(d){ID(d,o,Fr.parseError)}}if(o.length>0)throw o[0]},obt=t=>{for(const{id:e,detector:n,loader:r}of t)hI(e,n,r)},cbt=async t=>{Y.debug(`Loading ${t.length} external diagrams`);const n=(await Promise.allSettled(t.map(async({id:r,detector:i,loader:a})=>{const{diagram:s}=await a();Ln(r,s,i)}))).filter(r=>r.status==="rejected");if(n.length>0){Y.error(`Failed to load ${n.length} external diagrams`);for(const r of n)Y.error(r);throw new Error(`Failed to load ${n.length} external diagrams`)}},DD=async function(t,e,n){const r=en.getConfig();t&&(Fr.sequenceConfig=t),Y.debug(`${n?"":"No "}Callback function found`);let i;if(typeof e>"u")i=document.querySelectorAll(".mermaid");else if(typeof e=="string")i=document.querySelectorAll(e);else if(e instanceof HTMLElement)i=[e];else if(e instanceof NodeList)i=e;else throw new Error("Invalid argument nodes for mermaid.init");Y.debug(`Found ${i.length} diagrams`),typeof(t==null?void 0:t.startOnLoad)<"u"&&(Y.debug("Start On Load: "+(t==null?void 0:t.startOnLoad)),en.updateSiteConfig({startOnLoad:t==null?void 0:t.startOnLoad}));const a=new Ae.initIdGenerator(r.deterministicIds,r.deterministicIDSeed);let s;const o=[];for(const l of Array.from(i)){Y.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const u=`mermaid-${a.next()}`;s=l.innerHTML,s=Ae.entityDecode(s).trim().replace(/<br\s*\/?>/gi,"<br/>");const h=Ae.detectInit(s);h&&Y.debug("Detected early reinit: ",h);try{await en.renderAsync(u,s,(d,f)=>{l.innerHTML=d,typeof n<"u"&&n(u),f&&f(l)},l)}catch(d){ID(d,o,Fr.parseError)}}if(o.length>0)throw o[0]},lbt=function(t){en.initialize(t)},ubt=async(t,{lazyLoad:e=!0}={})=>{e?obt(t):await cbt(t),ND=!0},OD=function(){if(Fr.startOnLoad){const{startOnLoad:t}=en.getConfig();t&&Fr.init()}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",OD,!1)}const hbt=function(t){Fr.parseError=t},fbt=t=>en.parse(t,Fr.parseError),sd=[];let y3=!1;const FD=async()=>{if(!y3){for(y3=!0;sd.length>0;){const t=sd.shift();if(t)try{await t()}catch(e){Y.error("Error executing queue",e)}}y3=!1}},dbt=t=>new Promise((e,n)=>{const r=()=>new Promise((i,a)=>{en.parseAsync(t,Fr.parseError).then(s=>{i(s),e(s)},s=>{Y.error("Error parsing",s),a(s),n(s)})});sd.push(r),FD()}),pbt=(t,e,n,r)=>new Promise((i,a)=>{const s=()=>new Promise((o,l)=>{en.renderAsync(t,e,n,r).then(u=>{o(u),i(u)},u=>{Y.error("Error parsing",u),l(u),a(u)})});sd.push(s),FD()}),Fr={startOnLoad:!0,diagrams:{},mermaidAPI:en,parse:fbt,parseAsync:dbt,render:en.render,renderAsync:pbt,init:sbt,initThrowsErrors:BD,initThrowsErrorsAsync:DD,registerExternalDiagrams:ubt,initialize:lbt,parseError:void 0,contentLoaded:OD,setParseErrorHandler:hbt},VE={sequence:`sequenceDiagram
    Alice->>+John: Hello John, how are you?
    Alice->>+John: John, can you hear me?
    John-->>-Alice: Hi Alice, I can hear you!
    John-->>-Alice: I feel great!`,flow:`graph TD
    A[Christmas] -->|Get money| B(Go shopping)
    B --> C{Let me think}
    C -->|One| D[Laptop]
    C -->|Two| E[iPhone]
    C -->|Three| F[fa:fa-car Car]`,class:`classDiagram
    Animal <|-- Duck
    Animal <|-- Fish
    Animal <|-- Zebra
    Animal : +int age
    Animal : +String gender
    Animal: +isMammal()
    Animal: +mate()
    class Duck{
      +String beakColor
      +swim()
      +quack()
    }
    class Fish{
      -int sizeInFeet
      -canEat()
    }
    class Zebra{
      +bool is_wild
      +run()
    }`,state:`stateDiagram-v2
    [*] --> Still
    Still --> [*]
    Still --> Moving
    Moving --> Still
    Moving --> Crash
    Crash --> [*]`,er:`erDiagram
    CUSTOMER }|..|{ DELIVERY-ADDRESS : has
    CUSTOMER ||--o{ ORDER : places
    CUSTOMER ||--o{ INVOICE : "liable for"
    DELIVERY-ADDRESS ||--o{ ORDER : receives
    INVOICE ||--|{ ORDER : covers
    ORDER ||--|{ ORDER-ITEM : includes
    PRODUCT-CATEGORY ||--|{ PRODUCT : contains
    PRODUCT ||--o{ ORDER-ITEM : "ordered in"`,gantt:`gantt
    title A Gantt Diagram
    dateFormat  YYYY-MM-DD
    section Section
    A task           :a1, 2014-01-01, 30d
    Another task     :after a1  , 20d
    section Another
    Task in sec      :2014-01-12  , 12d
    another task      : 24d`,journey:`journey
    title My working day
    section Go to work
      Make tea: 5: Me
      Go upstairs: 3: Me
      Do work: 1: Me, Cat
    section Go home
      Go downstairs: 5: Me
      Sit down: 3: Me`,git:`gitGraph
      commit
      commit
      branch develop
      checkout develop
      commit
      commit
      checkout main
      merge develop
      commit
      commit`,pie:`pie title Pets adopted by volunteers
      "Dogs" : 386
      "Cats" : 85
      "Rats" : 15`},gbt={class:"Icons"},ybt=nC({__name:"Icons",props:{type:null},setup(t){const e=t;return(n,r)=>(Ar(),rC("div",gbt,[e.type==="git"?(Ar(),ii(Mr(fO),{key:0})):pa("",!0),e.type==="pie"?(Ar(),ii(Mr(dO),{key:1})):pa("",!0),e.type==="sequence"?(Ar(),ii(Mr(pO),{key:2})):pa("",!0),e.type==="flow"?(Ar(),ii(Mr(gO),{key:3})):pa("",!0),e.type==="class"?(Ar(),ii(Mr(yO),{key:4})):pa("",!0),e.type==="er"?(Ar(),ii(Mr(mO),{key:5})):pa("",!0),e.type==="state"?(Ar(),ii(Mr(bO),{key:6})):pa("",!0),e.type==="journey"?(Ar(),ii(Mr(vO),{key:7})):pa("",!0),e.type==="gantt"?(Ar(),ii(Mr(_O),{key:8})):pa("",!0)]))}}),mbt={class:"left"},bbt={class:"left-buttons"},vbt=["href","download"],_bt={class:"right"},xbt=nC({__name:"index",props:{clipboardValue:null},emits:["acceptClipboardCb"],setup(t,{emit:e}){const n=t,r=Vo(VE.sequence),i=Vo(null),a=Vo({theme:"default",startOnLoad:!1}),s=Vo(""),o=Vo(!0),l=Vo({svg:"",svgDisabled:!1,name:"mermaid-diagram.svg"});xO(),wO()&&(a.value.theme="dark"),kO(()=>r.value,()=>{o.value&&f()});const u=Object.entries(VE).map(m=>({key:m[0],value:m[1],description:TO("mermaidEditor."+m[0])}));function h(m){r.value=m}function d(){o.value&&f()}function f(){p()}EO(()=>{var m;(m=n.clipboardValue)!=null&&m.isMermaid()&&(r.value=n.clipboardValue.getOriginData(),e("acceptClipboardCb")),p()});async function p(){Fr.mermaidAPI.initialize(a.value);let m=i.value;const b=r.value;Fr.mermaidAPI.renderAsync("mermaidGraph",b).then(x=>{l.value.svgDisabled=!0,m.innerHTML=x,s.value="";let k=document.getElementById("mermaidGraph");if(k){k.style.maxWidth="";const T=new XMLSerializer().serializeToString(m),S=new Blob([T],{type:"image/svg+xml;charset=utf-8"}),L=URL.createObjectURL(S);l.value.svg=L,l.value.svgDisabled=!1;const R=new Date;l.value.name="mermaid-diagram-"+y(R)}}).catch(x=>{s.value=x.message})}function y(m){return m.getFullYear()+"-"+m.getMonth()+"-"+m.getDate()+"-"+m.getHours()+"-"+m.getMinutes()+"-"+m.getSeconds()}return(m,b)=>{const x=ol("a-switch"),k=ol("a-form-item"),T=ol("a-button"),S=ol("a-form"),L=ol("a-tooltip");return Ar(),ii(Mr(IO),{class:"layout"},{one:ni(()=>[Yo("div",mbt,[Bi(S,{layout:"inline"},{default:ni(()=>[Bi(k,{label:m.$t("mermaidEditor.autoSync")},{default:ni(()=>[Bi(x,{checked:o.value,"onUpdate:checked":b[0]||(b[0]=R=>o.value=R),onChange:d},null,8,["checked"])]),_:1},8,["label"]),Bi(k,null,{default:ni(()=>[CO(Bi(T,{type:"primary",onClick:f},{default:ni(()=>[W2(H2(m.$t("mermaidEditor.sync")),1)]),_:1},512),[[SO,!o.value]])]),_:1})]),_:1}),Bi(Mr(AO),{modelValue:r.value,"onUpdate:modelValue":b[1]||(b[1]=R=>r.value=R),lang:"MARKDOWN",class:"left-editor"},null,8,["modelValue"]),Yo("div",bbt,[(Ar(!0),rC(LO,null,MO(Mr(u),R=>(Ar(),ii(L,{key:R.key},{title:ni(()=>[W2(H2(R.description),1)]),default:ni(()=>[Bi(T,{type:"primary",class:"left-example",onClick:A=>h(R.value)},{icon:ni(()=>[Bi(ybt,{type:R.key},null,8,["type"])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),Yo("div",null,[Yo("a",{href:l.value.svg,download:l.value.name},[Bi(T,{type:"primary",disabled:l.value.svgDisabled,class:"left-download"},{icon:ni(()=>[Bi(Mr(RO))]),default:ni(()=>[W2(" "+H2(m.$t("mermaidEditor.save")),1)]),_:1},8,["disabled"])],8,vbt)])])]),two:ni(()=>[Yo("div",_bt,[Yo("div",{ref_key:"container",ref:i,class:"right-container"},null,512)])]),_:1})}}});const Abt=NO(xbt,[["__scopeId","data-v-f5750a0a"]]);export{Abt as default};
