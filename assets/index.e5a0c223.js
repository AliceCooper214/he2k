import{d as z,z as D,as as M,r as C,a as $,b as S,g as v,o as i,l as d,c as N,cS as H,U as O,x as K,e as h,f as k,F as E,bZ as L,cd as U,K as I,au as u,bN as J,N as Q,j as R,Q as c,_ as Z}from"./index.954a2cbc.js";const q={class:"header"},G={class:"editor"},P={class:"address"},W={style:{height:"25px","line-height":"25px","margin-top":"0.1px","margin-bottom":"0.15px"}},X=["onUpdate:modelValue","onFocus","onKeydown","onKeyup","onInput"],Y=["onUpdate:modelValue","onKeydown","onFocus","onInput"],ee=z({__name:"index",setup(te){const l=D(["00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00","00"]),g=M(()=>l.map(o=>x(o))),V=o=>{l[o]=g.value[o].charCodeAt(0).toString(16)},A=()=>{l.splice(y.value,1)};function x(o){let s=o.trim(),a=s.substring(0,2).toLowerCase()==="0x"?s.substring(2):s,n=a.length;if(n%2!==0)return"	";let r,t=[];for(let e=0;e<n;e=e+2){if(r=parseInt(a.substring(e,e+2),16),r<32)return".";t.push(String.fromCharCode(r))}return t.join("")}const B=o=>{let s=new FileReader;s.readAsText(o),s.onload=function(a){a.target&&typeof a.target.result=="string"&&(l.length=0,l.push(...a.target.result.split("").map(n=>n.charCodeAt(0).toString(16).padStart(2,"0"))))}},y=C(-1),F=(o,s)=>{o.currentTarget.select(),y.value=s,s===l.length-1&&l.push("00")},T=()=>{const o=g.value.map((a,n)=>a==="."?l[n].toLowerCase()==="2e"?a:"":a);let s=new Blob([o.join("")]);Q.handleDownload(URL.createObjectURL(s))},j=(o,s)=>{s.length===2&&o.target.nextElementSibling.focus()},p=C(),b=(o,s,a)=>{var n,r,t,e,m,_;s==="left"?(r=(n=o.target)==null?void 0:n.previousElementSibling)==null||r.focus():s==="right"?(e=(t=o.target)==null?void 0:t.nextElementSibling)==null||e.focus():s==="up"?a-15>0?(m=p.value.childNodes)==null||m[a-15].focus():p.value.firstElementChild.focus():s==="down"&&(a+18<p.value.childNodes.length?(_=p.value.childNodes)==null||_[a+17].focus():p.value.lastElementChild.focus())},f=C(),w=(o,s,a)=>{var n,r,t,e,m,_;s==="left"?(r=(n=o.target)==null?void 0:n.previousElementSibling)==null||r.focus():s==="right"?(e=(t=o.target)==null?void 0:t.nextElementSibling)==null||e.focus():s==="up"?a-15>0?(m=f.value.childNodes)==null||m[a-15].focus():f.value.firstElementChild.focus():s==="down"&&(a+18<f.value.childNodes.length?(_=f.value.childNodes)==null||_[a+17].focus():f.value.lastElementChild.focus())};return(o,s)=>{const a=R("a-button"),n=R("a-space");return i(),$(v(J),{"max-width":1e3},{one:S(()=>[d("header",q,[N(n,null,{default:S(()=>[N(v(H),{"handle-file-selected":B}),N(a,{size:"small",type:"primary",onClick:T},{default:S(()=>[O(K(o.$t("common.save")),1)]),_:1})]),_:1})]),d("div",G,[d("div",P,[(i(!0),h(E,null,k(Math.ceil(l.length/16),(r,t)=>(i(),h("div",{key:t},[d("div",W,K((t*16).toString(16).toUpperCase().padStart(8,"0")),1)]))),128))]),d("div",{ref_key:"binaryRef",ref:p},[(i(!0),h(E,null,k(l,(r,t)=>L((i(),h("input",{key:t,"onUpdate:modelValue":e=>l[t]=e,name:"index",class:I(["binary",y.value===t&&"highLight"]),type:"text",maxlength:"2",onFocus:e=>F(e,t),onKeydown:[u(c(A,["prevent"]),["backspace"]),u(c(e=>b(e,"left",t),["prevent"]),["left"]),u(c(e=>b(e,"right",t),["prevent"]),["right"]),u(c(e=>b(e,"up",t),["prevent"]),["up"]),u(c(e=>b(e,"down",t),["prevent"]),["down"])],onKeyup:()=>l[t]=l[t].replace(/[^\dA-Fa-f]/g,""),onInput:e=>j(e,r)},null,42,X)),[[U,l[t]]])),128))],512),d("div",{ref_key:"binaryRef2",ref:f,style:{"margin-left":"20px"}},[(i(!0),h(E,null,k(v(g),(r,t)=>L((i(),h("input",{key:t,"onUpdate:modelValue":e=>v(g)[t]=e,class:I(["binary",y.value===t&&"highLight"]),type:"text",maxlength:"1",onKeydown:[u(c(e=>w(e,"left",t),["prevent"]),["left"]),u(c(e=>w(e,"right",t),["prevent"]),["right"]),u(c(e=>w(e,"up",t),["prevent"]),["up"]),u(c(e=>w(e,"down",t),["prevent"]),["down"])],onFocus:e=>F(e,t),onInput:e=>V(t)},null,42,Y)),[[U,v(g)[t]]])),128))],512)])]),_:1})}}});const oe=Z(ee,[["__scopeId","data-v-521b5417"]]);export{oe as default};
