import{o as m,e as w,l as C,d as G,y as I,r as s,D as f,cb as N,ai as R,as as U,aY as M,aZ as S,a9 as V,J as $,bZ as A,b_ as F,K as z,$ as k,Q as d,c as b,g as p,cc as W,U as Z,x as j,b as J,H as Q,j as Y,_ as q}from"./index.954a2cbc.js";import{c as X,C as _}from"./utils.95bb502f.js";const ee={xmlns:"http://www.w3.org/2000/svg",class:"icon",viewBox:"-12 -12 48 48"},oe=C("path",{fill:"currentColor",d:"m13.1 8.2 5.6 5.6c.4.4.5 1.1.1 1.5s-1.1.5-1.5.1c0 0-.1 0-.1-.1l-1.4-1.4-7.7 7.7c-.2.3-.5.4-.8.4H3.1c-.6 0-1.1-.5-1.1-1.1v-4.2c0-.3.1-.6.3-.8l5.8-5.8c.4-.4 1.1-.5 1.6-.1s.5 1.1.1 1.5c0 0 0 .1-.1.1l-5.5 5.5v2.7h2.7l7.4-7.4-5.6-5.6c-.5-.4-.5-1-.1-1.5s1.1-.5 1.5-.1c0 0 .1 0 .1.1l1.4 1.4 3.5-3.5c1.6-1.6 4.1-1.6 5.8-.1 1.6 1.6 1.6 4.1.1 5.8l-.1.1-3.6 3.6c-.4.4-1.1.5-1.5.1"},null,-1),te=[oe];function le(l,a){return m(),w("svg",ee,te)}const ae={render:le},re={class:"color-picker-plus-wrapper"},ne={key:0,class:"screen-color-picker"},se=G({__name:"index",props:{pureColor:{default:"rgb(0,0,0)"},gradientColor:{default:"linear-gradient(0deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 100%)"},activeKey:{default:"pure"},isWidget:{type:Boolean,default:!1},pickerType:{default:"fk"},useType:{default:"pure"},disableHistory:{type:Boolean,default:!1},roundHistory:{type:Boolean,default:!1},disableAlpha:{type:Boolean,default:!1},closeBtnCorner:{default:"TOP_RIGHT"},position:null,colorCallBack:null},emits:["update:pureColor","update:gradientColor","update:activeKey","pureColorChange","gradientColorChange","activeKeyChange"],setup(l,{emit:a}){const r=l,{t:B}=I(),n=s(r.pureColor),u=s(r.gradientColor),v=s(r.activeKey);f(()=>r.pureColor,o=>{N.validateHTMLColorRgb(o)&&(n.value=o)},{immediate:!0}),f(n,o=>{r.colorCallBack&&r.colorCallBack(o)});const E=o=>{a("update:pureColor",o)},H={TOP_LEFT:{top:"-10px",left:"-6px"},TOP_RIGHT:{top:"-11px",left:"268px"},BOTTOM_LEFT:{top:"320px",left:"-6px"},BOTTOM_RIGHT:{top:"320px",left:"268px"}},K=R(),i=s(!1),P=o=>{o!==i.value&&(i.value=o)},L=U(()=>v.value==="pure"?n.value:u.value),y=s(!1),T=o=>{o!==y.value&&(y.value=o)},O=new EyeDropper,x=M()===S.WIN,h=async()=>{T(!0);try{const{sRGBHex:o}=await O.open(),e=X(o,_.RGB);n.value=e,u.value=e,a("update:pureColor",e),a("update:gradientColor",e)}finally{T(!1)}},g=o=>{x||o.key==="c"&&h()};f(i,o=>{o?(document.addEventListener("keydown",g),document.addEventListener("click",e=>{e.target!=c.value&&P(!1)})):document.removeEventListener("keydown",g)},{immediate:!0}),V(()=>{document.removeEventListener("keydown",g)});const c=s(null);return $(()=>{if(c.value){const o=c.value.getElementsByClassName("vc-btn__content");o.length===2&&(o[0].textContent=B("colorPickerPlus.pure"),o[1].textContent=B("colorPickerPlus.gradient"))}}),(o,e)=>{const D=Y("a-button");return m(),w("div",re,[C("div",{class:"preview-color-block",style:k({backgroundColor:p(L)}),onClick:e[10]||(e[10]=d(t=>P(!i.value),["stop"]))},[A(C("div",{ref_key:"colorPickerEle",ref:c,class:z(["color-picker",!l.disableAlpha&&"enable-alpha"]),style:k({...l.position}),onClick:e[8]||(e[8]=d(()=>{},["stop"])),onKeydown:e[9]||(e[9]=d(()=>{},["stop"]))},[b(p(W),{pureColor:n.value,"onUpdate:pureColor":[e[0]||(e[0]=t=>n.value=t),E],gradientColor:u.value,"onUpdate:gradientColor":[e[1]||(e[1]=t=>u.value=t),e[3]||(e[3]=t=>a("update:gradientColor",t))],"active-key":v.value,"onUpdate:active-key":e[2]||(e[2]=t=>v.value=t),lang:"En","is-widget":!0,format:"rgb","picker-type":l.pickerType,"use-type":l.useType,"disable-history":l.disableHistory,"round-history":l.roundHistory,"disable-alpha":l.disableAlpha,"onUpdate:activeKey":e[4]||(e[4]=t=>a("update:activeKey",t)),onPureColorChange:e[5]||(e[5]=t=>a("pureColorChange",t)),onGradientColorChange:e[6]||(e[6]=t=>a("gradientColorChange",t)),onActiveKeyChange:e[7]||(e[7]=t=>a("activeKeyChange",t))},null,8,["pureColor","gradientColor","active-key","picker-type","use-type","disable-history","round-history","disable-alpha"]),C("div",{class:"close-btn",shape:"round",type:"text",style:k({color:p(K).dark?"var(--gray-7)":"var(--gray-6)",...H[l.closeBtnCorner]})},null,4),x?Q("",!0):(m(),w("div",ne,[Z(j(o.$t("colorPickerPlus.pressC"))+" ",1),b(D,{shape:"circle",loading:y.value,size:"small",onClick:d(h,["stop"])},{icon:J(()=>[b(p(ae))]),_:1},8,["loading","onClick"])]))],38),[[F,i.value]])],4)])}}}),ce=q(se,[["__scopeId","data-v-526466a4"]]);export{ce as C};
